(()=>{var Tx=Object.create,tn=Object.defineProperty;var Rx=Object.getOwnPropertyDescriptor;var Dx=Object.getOwnPropertyNames;var Nx=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty;var Wx=o=>tn(o,"__esModule",{value:!0});var Rt=(o,l)=>()=>(l||o((l={exports:{}}).exports,l),l.exports);var Ux=(o,l,c)=>{if(l&&typeof l=="object"||typeof l=="function")for(let u of Dx(l))!jx.call(o,u)&&u!=="default"&&tn(o,u,{get:()=>l[u],enumerable:!(c=Rx(l,u))||c.enumerable});return o},Dt=o=>Ux(Wx(tn(o!=null?Tx(Nx(o)):{},"default",o&&o.__esModule&&"default"in o?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o);var an=Rt((hw,ys)=>{"use strict";var bs=Object.getOwnPropertySymbols,qx=Object.prototype.hasOwnProperty,Gx=Object.prototype.propertyIsEnumerable;function $x(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function Kx(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},c=0;c<10;c++)l["_"+String.fromCharCode(c)]=c;var u=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(u.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(f){v[f]=f}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch(f){return!1}}ys.exports=Kx()?Object.assign:function(o,l){for(var c,u=$x(o),v,f=1;f<arguments.length;f++){c=Object(arguments[f]);for(var x in c)qx.call(c,x)&&(u[x]=c[x]);if(bs){v=bs(c);for(var H=0;H<v.length;H++)Gx.call(c,v[H])&&(u[v[H]]=c[v[H]])}}return u}});var Gs=Rt(V1=>{"use strict";var en=an(),r3=60103,_s=60106;V1.Fragment=60107;V1.StrictMode=60108;V1.Profiler=60114;var Ss=60109,Is=60110,Os=60112;V1.Suspense=60113;var Fs=60115,Ps=60116;typeof Symbol=="function"&&Symbol.for&&(A0=Symbol.for,r3=A0("react.element"),_s=A0("react.portal"),V1.Fragment=A0("react.fragment"),V1.StrictMode=A0("react.strict_mode"),V1.Profiler=A0("react.profiler"),Ss=A0("react.provider"),Is=A0("react.context"),Os=A0("react.forward_ref"),V1.Suspense=A0("react.suspense"),Fs=A0("react.memo"),Ps=A0("react.lazy"));var A0,Es=typeof Symbol=="function"&&Symbol.iterator;function Qx(o){return o===null||typeof o!="object"?null:(o=Es&&o[Es]||o["@@iterator"],typeof o=="function"?o:null)}function La(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ts={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rs={};function n3(o,l,c){this.props=o,this.context=l,this.refs=Rs,this.updater=c||Ts}n3.prototype.isReactComponent={};n3.prototype.setState=function(o,l){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error(La(85));this.updater.enqueueSetState(this,o,l,"setState")};n3.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function Ds(){}Ds.prototype=n3.prototype;function rn(o,l,c){this.props=o,this.context=l,this.refs=Rs,this.updater=c||Ts}var nn=rn.prototype=new Ds;nn.constructor=rn;en(nn,n3.prototype);nn.isPureReactComponent=!0;var on={current:null},Ns=Object.prototype.hasOwnProperty,js={key:!0,ref:!0,__self:!0,__source:!0};function Ws(o,l,c){var u,v={},f=null,x=null;if(l!=null)for(u in l.ref!==void 0&&(x=l.ref),l.key!==void 0&&(f=""+l.key),l)Ns.call(l,u)&&!js.hasOwnProperty(u)&&(v[u]=l[u]);var H=arguments.length-2;if(H===1)v.children=c;else if(1<H){for(var M=Array(H),y=0;y<H;y++)M[y]=arguments[y+2];v.children=M}if(o&&o.defaultProps)for(u in H=o.defaultProps,H)v[u]===void 0&&(v[u]=H[u]);return{$$typeof:r3,type:o,key:f,ref:x,props:v,_owner:on.current}}function Yx(o,l){return{$$typeof:r3,type:o.type,key:l,ref:o.ref,props:o.props,_owner:o._owner}}function ln(o){return typeof o=="object"&&o!==null&&o.$$typeof===r3}function Xx(o){var l={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(c){return l[c]})}var Us=/\/+/g;function cn(o,l){return typeof o=="object"&&o!==null&&o.key!=null?Xx(""+o.key):l.toString(36)}function Ce(o,l,c,u,v){var f=typeof o;(f==="undefined"||f==="boolean")&&(o=null);var x=!1;if(o===null)x=!0;else switch(f){case"string":case"number":x=!0;break;case"object":switch(o.$$typeof){case r3:case _s:x=!0}}if(x)return x=o,v=v(x),o=u===""?"."+cn(x,0):u,Array.isArray(v)?(c="",o!=null&&(c=o.replace(Us,"$&/")+"/"),Ce(v,l,c,"",function(y){return y})):v!=null&&(ln(v)&&(v=Yx(v,c+(!v.key||x&&x.key===v.key?"":(""+v.key).replace(Us,"$&/")+"/")+o)),l.push(v)),1;if(x=0,u=u===""?".":u+":",Array.isArray(o))for(var H=0;H<o.length;H++){f=o[H];var M=u+cn(f,H);x+=Ce(f,l,c,M,v)}else if(M=Qx(o),typeof M=="function")for(o=M.call(o),H=0;!(f=o.next()).done;)f=f.value,M=u+cn(f,H++),x+=Ce(f,l,c,M,v);else if(f==="object")throw l=""+o,Error(La(31,l==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":l));return x}function Ae(o,l,c){if(o==null)return o;var u=[],v=0;return Ce(o,u,"","",function(f){return l.call(c,f,v++)}),u}function Jx(o){if(o._status===-1){var l=o._result;l=l(),o._status=0,o._result=l,l.then(function(c){o._status===0&&(c=c.default,o._status=1,o._result=c)},function(c){o._status===0&&(o._status=2,o._result=c)})}if(o._status===1)return o._result;throw o._result}var qs={current:null};function Nt(){var o=qs.current;if(o===null)throw Error(La(321));return o}var Zx={ReactCurrentDispatcher:qs,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:on,IsSomeRendererActing:{current:!1},assign:en};V1.Children={map:Ae,forEach:function(o,l,c){Ae(o,function(){l.apply(this,arguments)},c)},count:function(o){var l=0;return Ae(o,function(){l++}),l},toArray:function(o){return Ae(o,function(l){return l})||[]},only:function(o){if(!ln(o))throw Error(La(143));return o}};V1.Component=n3;V1.PureComponent=rn;V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zx;V1.cloneElement=function(o,l,c){if(o==null)throw Error(La(267,o));var u=en({},o.props),v=o.key,f=o.ref,x=o._owner;if(l!=null){if(l.ref!==void 0&&(f=l.ref,x=on.current),l.key!==void 0&&(v=""+l.key),o.type&&o.type.defaultProps)var H=o.type.defaultProps;for(M in l)Ns.call(l,M)&&!js.hasOwnProperty(M)&&(u[M]=l[M]===void 0&&H!==void 0?H[M]:l[M])}var M=arguments.length-2;if(M===1)u.children=c;else if(1<M){H=Array(M);for(var y=0;y<M;y++)H[y]=arguments[y+2];u.children=H}return{$$typeof:r3,type:o.type,key:v,ref:f,props:u,_owner:x}};V1.createContext=function(o,l){return l===void 0&&(l=null),o={$$typeof:Is,_calculateChangedBits:l,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider={$$typeof:Ss,_context:o},o.Consumer=o};V1.createElement=Ws;V1.createFactory=function(o){var l=Ws.bind(null,o);return l.type=o,l};V1.createRef=function(){return{current:null}};V1.forwardRef=function(o){return{$$typeof:Os,render:o}};V1.isValidElement=ln;V1.lazy=function(o){return{$$typeof:Ps,_payload:{_status:-1,_result:o},_init:Jx}};V1.memo=function(o,l){return{$$typeof:Fs,type:o,compare:l===void 0?null:l}};V1.useCallback=function(o,l){return Nt().useCallback(o,l)};V1.useContext=function(o,l){return Nt().useContext(o,l)};V1.useDebugValue=function(){};V1.useEffect=function(o,l){return Nt().useEffect(o,l)};V1.useImperativeHandle=function(o,l,c){return Nt().useImperativeHandle(o,l,c)};V1.useLayoutEffect=function(o,l){return Nt().useLayoutEffect(o,l)};V1.useMemo=function(o,l){return Nt().useMemo(o,l)};V1.useReducer=function(o,l,c){return Nt().useReducer(o,l,c)};V1.useRef=function(o){return Nt().useRef(o)};V1.useState=function(o){return Nt().useState(o)};V1.version="17.0.2"});var zt=Rt((vw,$s)=>{"use strict";$s.exports=Gs()});var Sv=Rt(y1=>{"use strict";var c3,ka,_e,Ln;typeof performance=="object"&&typeof performance.now=="function"?(Cv=performance,y1.unstable_now=function(){return Cv.now()}):(Bn=Date,Av=Bn.now(),y1.unstable_now=function(){return Bn.now()-Av});var Cv,Bn,Av;typeof window=="undefined"||typeof MessageChannel!="function"?(h3=null,kn=null,Cn=function(){if(h3!==null)try{var o=y1.unstable_now();h3(!0,o),h3=null}catch(l){throw setTimeout(Cn,0),l}},c3=function(o){h3!==null?setTimeout(c3,0,o):(h3=o,setTimeout(Cn,0))},ka=function(o,l){kn=setTimeout(o,l)},_e=function(){clearTimeout(kn)},y1.unstable_shouldYield=function(){return!1},Ln=y1.unstable_forceFrameRate=function(){}):(bv=window.setTimeout,yv=window.clearTimeout,typeof console!="undefined"&&(_v=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Ca=!1,Aa=null,Se=-1,An=5,bn=0,y1.unstable_shouldYield=function(){return y1.unstable_now()>=bn},Ln=function(){},y1.unstable_forceFrameRate=function(o){0>o||125<o?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):An=0<o?Math.floor(1e3/o):5},yn=new MessageChannel,Ie=yn.port2,yn.port1.onmessage=function(){if(Aa!==null){var o=y1.unstable_now();bn=o+An;try{Aa(!0,o)?Ie.postMessage(null):(Ca=!1,Aa=null)}catch(l){throw Ie.postMessage(null),l}}else Ca=!1},c3=function(o){Aa=o,Ca||(Ca=!0,Ie.postMessage(null))},ka=function(o,l){Se=bv(function(){o(y1.unstable_now())},l)},_e=function(){yv(Se),Se=-1});var h3,kn,Cn,bv,yv,_v,Ca,Aa,Se,An,bn,yn,Ie;function _n(o,l){var c=o.length;o.push(l);t:for(;;){var u=c-1>>>1,v=o[u];if(v!==void 0&&0<Fe(v,l))o[u]=l,o[c]=v,c=u;else break t}}function Z0(o){return o=o[0],o===void 0?null:o}function Oe(o){var l=o[0];if(l!==void 0){var c=o.pop();if(c!==l){o[0]=c;t:for(var u=0,v=o.length;u<v;){var f=2*(u+1)-1,x=o[f],H=f+1,M=o[H];if(x!==void 0&&0>Fe(x,c))M!==void 0&&0>Fe(M,x)?(o[u]=M,o[H]=c,u=H):(o[u]=x,o[f]=c,u=f);else if(M!==void 0&&0>Fe(M,c))o[u]=M,o[H]=c,u=H;else break t}}return l}return null}function Fe(o,l){var c=o.sortIndex-l.sortIndex;return c!==0?c:o.id-l.id}var ft=[],z5=[],hH=1,y0=null,O2=3,Pe=!1,l4=!1,ba=!1;function Sn(o){for(var l=Z0(z5);l!==null;){if(l.callback===null)Oe(z5);else if(l.startTime<=o)Oe(z5),l.sortIndex=l.expirationTime,_n(ft,l);else break;l=Z0(z5)}}function In(o){if(ba=!1,Sn(o),!l4)if(Z0(ft)!==null)l4=!0,c3(On);else{var l=Z0(z5);l!==null&&ka(In,l.startTime-o)}}function On(o,l){l4=!1,ba&&(ba=!1,_e()),Pe=!0;var c=O2;try{for(Sn(l),y0=Z0(ft);y0!==null&&(!(y0.expirationTime>l)||o&&!y1.unstable_shouldYield());){var u=y0.callback;if(typeof u=="function"){y0.callback=null,O2=y0.priorityLevel;var v=u(y0.expirationTime<=l);l=y1.unstable_now(),typeof v=="function"?y0.callback=v:y0===Z0(ft)&&Oe(ft),Sn(l)}else Oe(ft);y0=Z0(ft)}if(y0!==null)var f=!0;else{var x=Z0(z5);x!==null&&ka(In,x.startTime-l),f=!1}return f}finally{y0=null,O2=c,Pe=!1}}var sH=Ln;y1.unstable_IdlePriority=5;y1.unstable_ImmediatePriority=1;y1.unstable_LowPriority=4;y1.unstable_NormalPriority=3;y1.unstable_Profiling=null;y1.unstable_UserBlockingPriority=2;y1.unstable_cancelCallback=function(o){o.callback=null};y1.unstable_continueExecution=function(){l4||Pe||(l4=!0,c3(On))};y1.unstable_getCurrentPriorityLevel=function(){return O2};y1.unstable_getFirstCallbackNode=function(){return Z0(ft)};y1.unstable_next=function(o){switch(O2){case 1:case 2:case 3:var l=3;break;default:l=O2}var c=O2;O2=l;try{return o()}finally{O2=c}};y1.unstable_pauseExecution=function(){};y1.unstable_requestPaint=sH;y1.unstable_runWithPriority=function(o,l){switch(o){case 1:case 2:case 3:case 4:case 5:break;default:o=3}var c=O2;O2=o;try{return l()}finally{O2=c}};y1.unstable_scheduleCallback=function(o,l,c){var u=y1.unstable_now();switch(typeof c=="object"&&c!==null?(c=c.delay,c=typeof c=="number"&&0<c?u+c:u):c=u,o){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=c+v,o={id:hH++,callback:l,priorityLevel:o,startTime:c,expirationTime:v,sortIndex:-1},c>u?(o.sortIndex=c,_n(z5,o),Z0(ft)===null&&o===Z0(z5)&&(ba?_e():ba=!0,ka(In,c-u))):(o.sortIndex=v,_n(ft,o),l4||Pe||(l4=!0,c3(On))),o};y1.unstable_wrapCallback=function(o){var l=O2;return function(){var c=O2;O2=l;try{return o.apply(this,arguments)}finally{O2=c}}}});var Ov=Rt((Rw,Iv)=>{"use strict";Iv.exports=Sv()});var Hg=Rt(P0=>{"use strict";var Ee=zt(),U1=an(),H2=Ov();function K(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ee)throw Error(K(227));var Fv=new Set,ya={};function c4(o,l){s3(o,l),s3(o+"Capture",l)}function s3(o,l){for(ya[o]=l,o=0;o<l.length;o++)Fv.add(l[o])}var jt=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),vH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv=Object.prototype.hasOwnProperty,Ev={},Tv={};function dH(o){return Pv.call(Tv,o)?!0:Pv.call(Ev,o)?!1:vH.test(o)?Tv[o]=!0:(Ev[o]=!0,!1)}function uH(o,l,c,u){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return u?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function gH(o,l,c,u){if(l===null||typeof l=="undefined"||uH(o,l,c,u))return!0;if(u)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function G2(o,l,c,u,v,f,x){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=u,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=o,this.type=l,this.sanitizeURL=f,this.removeEmptyString=x}var b2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b2[o]=new G2(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];b2[l]=new G2(l,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){b2[o]=new G2(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b2[o]=new G2(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b2[o]=new G2(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){b2[o]=new G2(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){b2[o]=new G2(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){b2[o]=new G2(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){b2[o]=new G2(o,5,!1,o.toLowerCase(),null,!1,!1)});var Fn=/[\-:]([a-z])/g;function Pn(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(Fn,Pn);b2[l]=new G2(l,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(Fn,Pn);b2[l]=new G2(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(Fn,Pn);b2[l]=new G2(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){b2[o]=new G2(o,1,!1,o.toLowerCase(),null,!1,!1)});b2.xlinkHref=new G2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){b2[o]=new G2(o,1,!1,o.toLowerCase(),null,!0,!0)});function En(o,l,c,u){var v=b2.hasOwnProperty(l)?b2[l]:null,f=v!==null?v.type===0:u?!1:!(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N");f||(gH(l,c,v,u)&&(c=null),u||v===null?dH(l)&&(c===null?o.removeAttribute(l):o.setAttribute(l,""+c)):v.mustUseProperty?o[v.propertyName]=c===null?v.type===3?!1:"":c:(l=v.attributeName,u=v.attributeNamespace,c===null?o.removeAttribute(l):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,u?o.setAttributeNS(u,l,c):o.setAttribute(l,c))))}var h4=Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=60103,s4=60106,f5=60107,Tn=60108,Sa=60114,Rn=60109,Dn=60110,Te=60112,Ia=60113,Re=60120,De=60115,Nn=60116,jn=60121,Wn=60128,Rv=60129,Un=60130,qn=60131;typeof Symbol=="function"&&Symbol.for&&(d2=Symbol.for,_a=d2("react.element"),s4=d2("react.portal"),f5=d2("react.fragment"),Tn=d2("react.strict_mode"),Sa=d2("react.profiler"),Rn=d2("react.provider"),Dn=d2("react.context"),Te=d2("react.forward_ref"),Ia=d2("react.suspense"),Re=d2("react.suspense_list"),De=d2("react.memo"),Nn=d2("react.lazy"),jn=d2("react.block"),d2("react.scope"),Wn=d2("react.opaque.id"),Rv=d2("react.debug_trace_mode"),Un=d2("react.offscreen"),qn=d2("react.legacy_hidden"));var d2,Dv=typeof Symbol=="function"&&Symbol.iterator;function Oa(o){return o===null||typeof o!="object"?null:(o=Dv&&o[Dv]||o["@@iterator"],typeof o=="function"?o:null)}var Gn;function Fa(o){if(Gn===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);Gn=l&&l[1]||""}return`
`+Gn+o}var $n=!1;function Ne(o,l){if(!o||$n)return"";$n=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(M){var u=M}Reflect.construct(o,[],l)}else{try{l.call()}catch(M){u=M}o.call(l.prototype)}else{try{throw Error()}catch(M){u=M}o()}}catch(M){if(M&&u&&typeof M.stack=="string"){for(var v=M.stack.split(`
`),f=u.stack.split(`
`),x=v.length-1,H=f.length-1;1<=x&&0<=H&&v[x]!==f[H];)H--;for(;1<=x&&0<=H;x--,H--)if(v[x]!==f[H]){if(x!==1||H!==1)do if(x--,H--,0>H||v[x]!==f[H])return`
`+v[x].replace(" at new "," at ");while(1<=x&&0<=H);break}}}finally{$n=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?Fa(o):""}function pH(o){switch(o.tag){case 5:return Fa(o.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return o=Ne(o.type,!1),o;case 11:return o=Ne(o.type.render,!1),o;case 22:return o=Ne(o.type._render,!1),o;case 1:return o=Ne(o.type,!0),o;default:return""}}function v3(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case f5:return"Fragment";case s4:return"Portal";case Sa:return"Profiler";case Tn:return"StrictMode";case Ia:return"Suspense";case Re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Dn:return(o.displayName||"Context")+".Consumer";case Rn:return(o._context.displayName||"Context")+".Provider";case Te:var l=o.render;return l=l.displayName||l.name||"",o.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case De:return v3(o.type);case jn:return v3(o._render);case Nn:l=o._payload,o=o._init;try{return v3(o(l))}catch(c){}}return null}function M5(o){switch(typeof o){case"boolean":case"number":case"object":case"string":case"undefined":return o;default:return""}}function Nv(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function zH(o){var l=Nv(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),u=""+o[l];if(!o.hasOwnProperty(l)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,f=c.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(x){u=""+x,f.call(this,x)}}),Object.defineProperty(o,l,{enumerable:c.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function je(o){o._valueTracker||(o._valueTracker=zH(o))}function jv(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var c=l.getValue(),u="";return o&&(u=Nv(o)?o.checked?"true":"false":o.value),o=u,o!==c?(l.setValue(o),!0):!1}function We(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(l){return o.body}}function Kn(o,l){var c=l.checked;return U1({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Wv(o,l){var c=l.defaultValue==null?"":l.defaultValue,u=l.checked!=null?l.checked:l.defaultChecked;c=M5(l.value!=null?l.value:c),o._wrapperState={initialChecked:u,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Uv(o,l){l=l.checked,l!=null&&En(o,"checked",l,!1)}function Qn(o,l){Uv(o,l);var c=M5(l.value),u=l.type;if(c!=null)u==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(u==="submit"||u==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Yn(o,l.type,c):l.hasOwnProperty("defaultValue")&&Yn(o,l.type,M5(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function qv(o,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var u=l.type;if(!(u!=="submit"&&u!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,c||l===o.value||(o.value=l),o.defaultValue=l}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Yn(o,l,c){(l!=="number"||We(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}function fH(o){var l="";return Ee.Children.forEach(o,function(c){c!=null&&(l+=c)}),l}function Xn(o,l){return o=U1({children:void 0},l),(l=fH(l.children))&&(o.children=l),o}function d3(o,l,c,u){if(o=o.options,l){l={};for(var v=0;v<c.length;v++)l["$"+c[v]]=!0;for(c=0;c<o.length;c++)v=l.hasOwnProperty("$"+o[c].value),o[c].selected!==v&&(o[c].selected=v),v&&u&&(o[c].defaultSelected=!0)}else{for(c=""+M5(c),l=null,v=0;v<o.length;v++){if(o[v].value===c){o[v].selected=!0,u&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Jn(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(K(91));return U1({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Gv(o,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(K(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(K(93));c=c[0]}l=c}l==null&&(l=""),c=l}o._wrapperState={initialValue:M5(c)}}function $v(o,l){var c=M5(l.value),u=M5(l.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),l.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),u!=null&&(o.defaultValue=""+u)}function Kv(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Qv(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t9(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Qv(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ue,Yv=function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,c,u,v){MSApp.execUnsafeLocalFunction(function(){return o(l,c,u,v)})}:o}(function(o,l){if(o.namespaceURI!==Zn.svg||"innerHTML"in o)o.innerHTML=l;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ue.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Pa(o,l){if(l){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=l;return}}o.textContent=l}var Ea={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MH=["Webkit","ms","Moz","O"];Object.keys(Ea).forEach(function(o){MH.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Ea[l]=Ea[o]})});function Xv(o,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Ea.hasOwnProperty(o)&&Ea[o]?(""+l).trim():l+"px"}function Jv(o,l){o=o.style;for(var c in l)if(l.hasOwnProperty(c)){var u=c.indexOf("--")===0,v=Xv(c,l[c],u);c==="float"&&(c="cssFloat"),u?o.setProperty(c,v):o[c]=v}}var mH=U1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a9(o,l){if(l){if(mH[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(K(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(K(60));if(!(typeof l.dangerouslySetInnerHTML=="object"&&"__html"in l.dangerouslySetInnerHTML))throw Error(K(61))}if(l.style!=null&&typeof l.style!="object")throw Error(K(62))}}function e9(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function r9(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var n9=null,u3=null,g3=null;function Zv(o){if(o=a6(o)){if(typeof n9!="function")throw Error(K(280));var l=o.stateNode;l&&(l=sr(l),n9(o.stateNode,o.type,l))}}function td(o){u3?g3?g3.push(o):g3=[o]:u3=o}function ad(){if(u3){var o=u3,l=g3;if(g3=u3=null,Zv(o),l)for(o=0;o<l.length;o++)Zv(l[o])}}function o9(o,l){return o(l)}function ed(o,l,c,u,v){return o(l,c,u,v)}function i9(){}var rd=o9,v4=!1,l9=!1;function c9(){(u3!==null||g3!==null)&&(i9(),ad())}function xH(o,l,c){if(l9)return o(l,c);l9=!0;try{return rd(o,l,c)}finally{l9=!1,c9()}}function Ta(o,l){var c=o.stateNode;if(c===null)return null;var u=sr(c);if(u===null)return null;c=u[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(o=o.type,u=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!u;break t;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(K(231,l,typeof c));return c}var h9=!1;if(jt)try{p3={},Object.defineProperty(p3,"passive",{get:function(){h9=!0}}),window.addEventListener("test",p3,p3),window.removeEventListener("test",p3,p3)}catch(o){h9=!1}var p3;function HH(o,l,c,u,v,f,x,H,M){var y=Array.prototype.slice.call(arguments,3);try{l.apply(c,y)}catch(R){this.onError(R)}}var Ra=!1,qe=null,Ge=!1,s9=null,VH={onError:function(o){Ra=!0,qe=o}};function wH(o,l,c,u,v,f,x,H,M){Ra=!1,qe=null,HH.apply(VH,arguments)}function LH(o,l,c,u,v,f,x,H,M){if(wH.apply(this,arguments),Ra){if(Ra){var y=qe;Ra=!1,qe=null}else throw Error(K(198));Ge||(Ge=!0,s9=y)}}function d4(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&1026)!=0&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function nd(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function od(o){if(d4(o)!==o)throw Error(K(188))}function BH(o){var l=o.alternate;if(!l){if(l=d4(o),l===null)throw Error(K(188));return l!==o?null:o}for(var c=o,u=l;;){var v=c.return;if(v===null)break;var f=v.alternate;if(f===null){if(u=v.return,u!==null){c=u;continue}break}if(v.child===f.child){for(f=v.child;f;){if(f===c)return od(v),o;if(f===u)return od(v),l;f=f.sibling}throw Error(K(188))}if(c.return!==u.return)c=v,u=f;else{for(var x=!1,H=v.child;H;){if(H===c){x=!0,c=v,u=f;break}if(H===u){x=!0,u=v,c=f;break}H=H.sibling}if(!x){for(H=f.child;H;){if(H===c){x=!0,c=f,u=v;break}if(H===u){x=!0,u=f,c=v;break}H=H.sibling}if(!x)throw Error(K(189))}}if(c.alternate!==u)throw Error(K(190))}if(c.tag!==3)throw Error(K(188));return c.stateNode.current===c?o:l}function id(o){if(o=BH(o),!o)return null;for(var l=o;;){if(l.tag===5||l.tag===6)return l;if(l.child)l.child.return=l,l=l.child;else{if(l===o)break;for(;!l.sibling;){if(!l.return||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}}return null}function ld(o,l){for(var c=o.alternate;l!==null;){if(l===o||l===c)return!0;l=l.return}return!1}var cd,v9,hd,sd,d9=!1,Mt=[],m5=null,x5=null,H5=null,Da=new Map,Na=new Map,ja=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u9(o,l,c,u,v){return{blockedOn:o,domEventName:l,eventSystemFlags:c|16,nativeEvent:v,targetContainers:[u]}}function dd(o,l){switch(o){case"focusin":case"focusout":m5=null;break;case"dragenter":case"dragleave":x5=null;break;case"mouseover":case"mouseout":H5=null;break;case"pointerover":case"pointerout":Da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(l.pointerId)}}function Wa(o,l,c,u,v,f){return o===null||o.nativeEvent!==f?(o=u9(l,c,u,v,f),l!==null&&(l=a6(l),l!==null&&v9(l)),o):(o.eventSystemFlags|=u,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function kH(o,l,c,u,v){switch(l){case"focusin":return m5=Wa(m5,o,l,c,u,v),!0;case"dragenter":return x5=Wa(x5,o,l,c,u,v),!0;case"mouseover":return H5=Wa(H5,o,l,c,u,v),!0;case"pointerover":var f=v.pointerId;return Da.set(f,Wa(Da.get(f)||null,o,l,c,u,v)),!0;case"gotpointercapture":return f=v.pointerId,Na.set(f,Wa(Na.get(f)||null,o,l,c,u,v)),!0}return!1}function CH(o){var l=u4(o.target);if(l!==null){var c=d4(l);if(c!==null){if(l=c.tag,l===13){if(l=nd(c),l!==null){o.blockedOn=l,sd(o.lanePriority,function(){H2.unstable_runWithPriority(o.priority,function(){hd(c)})});return}}else if(l===3&&c.stateNode.hydrate){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $e(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var c=m9(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c!==null)return l=a6(c),l!==null&&v9(l),o.blockedOn=c,!1;l.shift()}return!0}function ud(o,l,c){$e(o)&&c.delete(l)}function AH(){for(d9=!1;0<Mt.length;){var o=Mt[0];if(o.blockedOn!==null){o=a6(o.blockedOn),o!==null&&cd(o);break}for(var l=o.targetContainers;0<l.length;){var c=m9(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c!==null){o.blockedOn=c;break}l.shift()}o.blockedOn===null&&Mt.shift()}m5!==null&&$e(m5)&&(m5=null),x5!==null&&$e(x5)&&(x5=null),H5!==null&&$e(H5)&&(H5=null),Da.forEach(ud),Na.forEach(ud)}function Ua(o,l){o.blockedOn===l&&(o.blockedOn=null,d9||(d9=!0,H2.unstable_scheduleCallback(H2.unstable_NormalPriority,AH)))}function gd(o){function l(v){return Ua(v,o)}if(0<Mt.length){Ua(Mt[0],o);for(var c=1;c<Mt.length;c++){var u=Mt[c];u.blockedOn===o&&(u.blockedOn=null)}}for(m5!==null&&Ua(m5,o),x5!==null&&Ua(x5,o),H5!==null&&Ua(H5,o),Da.forEach(l),Na.forEach(l),c=0;c<ja.length;c++)u=ja[c],u.blockedOn===o&&(u.blockedOn=null);for(;0<ja.length&&(c=ja[0],c.blockedOn===null);)CH(c),c.blockedOn===null&&ja.shift()}function Ke(o,l){var c={};return c[o.toLowerCase()]=l.toLowerCase(),c["Webkit"+o]="webkit"+l,c["Moz"+o]="moz"+l,c}var z3={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},g9={},pd={};jt&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete z3.animationend.animation,delete z3.animationiteration.animation,delete z3.animationstart.animation),"TransitionEvent"in window||delete z3.transitionend.transition);function Qe(o){if(g9[o])return g9[o];if(!z3[o])return o;var l=z3[o],c;for(c in l)if(l.hasOwnProperty(c)&&c in pd)return g9[o]=l[c];return o}var zd=Qe("animationend"),fd=Qe("animationiteration"),Md=Qe("animationstart"),md=Qe("transitionend"),xd=new Map,p9=new Map,bH=["abort","abort",zd,"animationEnd",fd,"animationIteration",Md,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",md,"transitionEnd","waiting","waiting"];function z9(o,l){for(var c=0;c<o.length;c+=2){var u=o[c],v=o[c+1];v="on"+(v[0].toUpperCase()+v.slice(1)),p9.set(u,l),xd.set(u,v),c4(v,[u])}}var yH=H2.unstable_now;yH();var R1=8;function f3(o){if((1&o)!=0)return R1=15,1;if((2&o)!=0)return R1=14,2;if((4&o)!=0)return R1=13,4;var l=24&o;return l!==0?(R1=12,l):(o&32)!=0?(R1=11,32):(l=192&o,l!==0?(R1=10,l):(o&256)!=0?(R1=9,256):(l=3584&o,l!==0?(R1=8,l):(o&4096)!=0?(R1=7,4096):(l=4186112&o,l!==0?(R1=6,l):(l=62914560&o,l!==0?(R1=5,l):o&67108864?(R1=4,67108864):(o&134217728)!=0?(R1=3,134217728):(l=805306368&o,l!==0?(R1=2,l):(1073741824&o)!=0?(R1=1,1073741824):(R1=8,o))))))}function _H(o){switch(o){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function SH(o){switch(o){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(K(358,o))}}function qa(o,l){var c=o.pendingLanes;if(c===0)return R1=0;var u=0,v=0,f=o.expiredLanes,x=o.suspendedLanes,H=o.pingedLanes;if(f!==0)u=f,v=R1=15;else if(f=c&134217727,f!==0){var M=f&~x;M!==0?(u=f3(M),v=R1):(H&=f,H!==0&&(u=f3(H),v=R1))}else f=c&~x,f!==0?(u=f3(f),v=R1):H!==0&&(u=f3(H),v=R1);if(u===0)return 0;if(u=31-V5(u),u=c&((0>u?0:1<<u)<<1)-1,l!==0&&l!==u&&(l&x)==0){if(f3(l),v<=R1)return l;R1=v}if(l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=u;0<l;)c=31-V5(l),v=1<<c,u|=o[c],l&=~v;return u}function Hd(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ye(o,l){switch(o){case 15:return 1;case 14:return 2;case 12:return o=M3(24&~l),o===0?Ye(10,l):o;case 10:return o=M3(192&~l),o===0?Ye(8,l):o;case 8:return o=M3(3584&~l),o===0&&(o=M3(4186112&~l),o===0&&(o=512)),o;case 2:return l=M3(805306368&~l),l===0&&(l=268435456),l}throw Error(K(358,o))}function M3(o){return o&-o}function f9(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function Xe(o,l,c){o.pendingLanes|=l;var u=l-1;o.suspendedLanes&=u,o.pingedLanes&=u,o=o.eventTimes,l=31-V5(l),o[l]=c}var V5=Math.clz32?Math.clz32:FH,IH=Math.log,OH=Math.LN2;function FH(o){return o===0?32:31-(IH(o)/OH|0)|0}var PH=H2.unstable_UserBlockingPriority,EH=H2.unstable_runWithPriority,Je=!0;function TH(o,l,c,u){v4||i9();var v=M9,f=v4;v4=!0;try{ed(v,o,l,c,u)}finally{(v4=f)||c9()}}function RH(o,l,c,u){EH(PH,M9.bind(null,o,l,c,u))}function M9(o,l,c,u){if(Je){var v;if((v=(l&4)==0)&&0<Mt.length&&-1<vd.indexOf(o))o=u9(null,o,l,c,u),Mt.push(o);else{var f=m9(o,l,c,u);if(f===null)v&&dd(o,u);else{if(v){if(-1<vd.indexOf(o)){o=u9(f,o,l,c,u),Mt.push(o);return}if(kH(f,o,l,c,u))return;dd(o,u)}Yd(o,l,u,null,c)}}}}function m9(o,l,c,u){var v=r9(u);if(v=u4(v),v!==null){var f=d4(v);if(f===null)v=null;else{var x=f.tag;if(x===13){if(v=nd(f),v!==null)return v;v=null}else if(x===3){if(f.stateNode.hydrate)return f.tag===3?f.stateNode.containerInfo:null;v=null}else f!==v&&(v=null)}}return Yd(o,l,u,v,c),null}var w5=null,x9=null,Ze=null;function Vd(){if(Ze)return Ze;var o,l=x9,c=l.length,u,v="value"in w5?w5.value:w5.textContent,f=v.length;for(o=0;o<c&&l[o]===v[o];o++);var x=c-o;for(u=1;u<=x&&l[c-u]===v[f-u];u++);return Ze=v.slice(o,1<u?1-u:void 0)}function tr(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ar(){return!0}function wd(){return!1}function M0(o){function l(c,u,v,f,x){this._reactName=c,this._targetInst=v,this.type=u,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(c=o[H],this[H]=c?c(f):f[H]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ar:wd,this.isPropagationStopped=wd,this}return U1(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),l}var m3={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H9=M0(m3),Ga=U1({},m3,{view:0,detail:0}),DH=M0(Ga),V9,w9,$a,er=U1({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B9,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$a&&($a&&o.type==="mousemove"?(V9=o.screenX-$a.screenX,w9=o.screenY-$a.screenY):w9=V9=0,$a=o),V9)},movementY:function(o){return"movementY"in o?o.movementY:w9}}),Ld=M0(er),NH=U1({},er,{dataTransfer:0}),jH=M0(NH),WH=U1({},Ga,{relatedTarget:0}),L9=M0(WH),UH=U1({},m3,{animationName:0,elapsedTime:0,pseudoElement:0}),qH=M0(UH),GH=U1({},m3,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),$H=M0(GH),KH=U1({},m3,{data:0}),Bd=M0(KH),QH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JH(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=XH[o])?!!l[o]:!1}function B9(){return JH}var ZH=U1({},Ga,{key:function(o){if(o.key){var l=QH[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=tr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?YH[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B9,charCode:function(o){return o.type==="keypress"?tr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?tr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tV=M0(ZH),aV=U1({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=M0(aV),eV=U1({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B9}),rV=M0(eV),nV=U1({},m3,{propertyName:0,elapsedTime:0,pseudoElement:0}),oV=M0(nV),iV=U1({},er,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),lV=M0(iV),cV=[9,13,27,32],k9=jt&&"CompositionEvent"in window,Ka=null;jt&&"documentMode"in document&&(Ka=document.documentMode);var hV=jt&&"TextEvent"in window&&!Ka,Cd=jt&&(!k9||Ka&&8<Ka&&11>=Ka),Ad=String.fromCharCode(32),bd=!1;function yd(o,l){switch(o){case"keyup":return cV.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var x3=!1;function sV(o,l){switch(o){case"compositionend":return _d(l);case"keypress":return l.which!==32?null:(bd=!0,Ad);case"textInput":return o=l.data,o===Ad&&bd?null:o;default:return null}}function vV(o,l){if(x3)return o==="compositionend"||!k9&&yd(o,l)?(o=Vd(),Ze=x9=w5=null,x3=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Cd&&l.locale!=="ko"?null:l.data;default:return null}}var dV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!dV[o.type]:l==="textarea"}function Id(o,l,c,u){td(u),l=ir(l,"onChange"),0<l.length&&(c=new H9("onChange","change",null,c,u),o.push({event:c,listeners:l}))}var Qa=null,Ya=null;function uV(o){qd(o,0)}function rr(o){var l=B3(o);if(jv(l))return o}function gV(o,l){if(o==="change")return l}var Od=!1;jt&&(jt?(or="oninput"in document,or||(C9=document.createElement("div"),C9.setAttribute("oninput","return;"),or=typeof C9.oninput=="function"),nr=or):nr=!1,Od=nr&&(!document.documentMode||9<document.documentMode));var nr,or,C9;function Fd(){Qa&&(Qa.detachEvent("onpropertychange",Pd),Ya=Qa=null)}function Pd(o){if(o.propertyName==="value"&&rr(Ya)){var l=[];if(Id(l,Ya,o,r9(o)),o=uV,v4)o(l);else{v4=!0;try{o9(o,l)}finally{v4=!1,c9()}}}}function pV(o,l,c){o==="focusin"?(Fd(),Qa=l,Ya=c,Qa.attachEvent("onpropertychange",Pd)):o==="focusout"&&Fd()}function zV(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return rr(Ya)}function fV(o,l){if(o==="click")return rr(l)}function MV(o,l){if(o==="input"||o==="change")return rr(l)}function mV(o,l){return o===l&&(o!==0||1/o==1/l)||o!==o&&l!==l}var _0=typeof Object.is=="function"?Object.is:mV,xV=Object.prototype.hasOwnProperty;function Xa(o,l){if(_0(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),u=Object.keys(l);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++)if(!xV.call(l,c[u])||!_0(o[c[u]],l[c[u]]))return!1;return!0}function Ed(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Td(o,l){var c=Ed(o);o=0;for(var u;c;){if(c.nodeType===3){if(u=o+c.textContent.length,o<=l&&u>=l)return{node:c,offset:l-o};o=u}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Ed(c)}}function Rd(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Rd(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Dd(){for(var o=window,l=We();l instanceof o.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch(u){c=!1}if(c)o=l.contentWindow;else break;l=We(o.document)}return l}function A9(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var HV=jt&&"documentMode"in document&&11>=document.documentMode,H3=null,b9=null,Ja=null,y9=!1;function Nd(o,l,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;y9||H3==null||H3!==We(u)||(u=H3,"selectionStart"in u&&A9(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ja&&Xa(Ja,u)||(Ja=u,u=ir(b9,"onSelect"),0<u.length&&(l=new H9("onSelect","select",null,l,c),o.push({event:l,listeners:u}),l.target=H3)))}z9("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);z9("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);z9(bH,2);for(var jd="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_9=0;_9<jd.length;_9++)p9.set(jd[_9],0);s3("onMouseEnter",["mouseout","mouseover"]);s3("onMouseLeave",["mouseout","mouseover"]);s3("onPointerEnter",["pointerout","pointerover"]);s3("onPointerLeave",["pointerout","pointerover"]);c4("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));c4("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));c4("onBeforeInput",["compositionend","keypress","textInput","paste"]);c4("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));c4("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));c4("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Ud(o,l,c){var u=o.type||"unknown-event";o.currentTarget=c,LH(u,l,void 0,o),o.currentTarget=null}function qd(o,l){l=(l&4)!=0;for(var c=0;c<o.length;c++){var u=o[c],v=u.event;u=u.listeners;t:{var f=void 0;if(l)for(var x=u.length-1;0<=x;x--){var H=u[x],M=H.instance,y=H.currentTarget;if(H=H.listener,M!==f&&v.isPropagationStopped())break t;Ud(v,H,y),f=M}else for(x=0;x<u.length;x++){if(H=u[x],M=H.instance,y=H.currentTarget,H=H.listener,M!==f&&v.isPropagationStopped())break t;Ud(v,H,y),f=M}}}if(Ge)throw o=s9,Ge=!1,s9=null,o}function j1(o,l){var c=eu(l),u=o+"__bubble";c.has(u)||(Qd(l,o,2,!1),c.add(u))}var Gd="_reactListening"+Math.random().toString(36).slice(2);function $d(o){o[Gd]||(o[Gd]=!0,Fv.forEach(function(l){Wd.has(l)||Kd(l,!1,o,null),Kd(l,!0,o,null)}))}function Kd(o,l,c,u){var v=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,f=c;if(o==="selectionchange"&&c.nodeType!==9&&(f=c.ownerDocument),u!==null&&!l&&Wd.has(o)){if(o!=="scroll")return;v|=2,f=u}var x=eu(f),H=o+"__"+(l?"capture":"bubble");x.has(H)||(l&&(v|=4),Qd(f,o,v,l),x.add(H))}function Qd(o,l,c,u){var v=p9.get(l);switch(v===void 0?2:v){case 0:v=TH;break;case 1:v=RH;break;default:v=M9}c=v.bind(null,l,c,o),v=void 0,!h9||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),u?v!==void 0?o.addEventListener(l,c,{capture:!0,passive:v}):o.addEventListener(l,c,!0):v!==void 0?o.addEventListener(l,c,{passive:v}):o.addEventListener(l,c,!1)}function Yd(o,l,c,u,v){var f=u;if((l&1)==0&&(l&2)==0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var H=u.stateNode.containerInfo;if(H===v||H.nodeType===8&&H.parentNode===v)break;if(x===4)for(x=u.return;x!==null;){var M=x.tag;if((M===3||M===4)&&(M=x.stateNode.containerInfo,M===v||M.nodeType===8&&M.parentNode===v))return;x=x.return}for(;H!==null;){if(x=u4(H),x===null)return;if(M=x.tag,M===5||M===6){u=f=x;continue t}H=H.parentNode}}u=u.return}xH(function(){var y=f,R=r9(c),U=[];t:{var T=xd.get(o);if(T!==void 0){var W=H9,X=o;switch(o){case"keypress":if(tr(c)===0)break t;case"keydown":case"keyup":W=tV;break;case"focusin":X="focus",W=L9;break;case"focusout":X="blur",W=L9;break;case"beforeblur":case"afterblur":W=L9;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=jH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=rV;break;case zd:case fd:case Md:W=qH;break;case md:W=oV;break;case"scroll":W=DH;break;case"wheel":W=lV;break;case"copy":case"cut":case"paste":W=$H;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=kd}var q=(l&4)!=0,I=!q&&o==="scroll",A=q?T!==null?T+"Capture":null:T;q=[];for(var b=y,O;b!==null;){O=b;var P=O.stateNode;if(O.tag===5&&P!==null&&(O=P,A!==null&&(P=Ta(b,A),P!=null&&q.push(t6(b,P,O)))),I)break;b=b.return}0<q.length&&(T=new W(T,X,null,c,R),U.push({event:T,listeners:q}))}}if((l&7)==0){t:{if(T=o==="mouseover"||o==="pointerover",W=o==="mouseout"||o==="pointerout",T&&(l&16)==0&&(X=c.relatedTarget||c.fromElement)&&(u4(X)||X[L3]))break t;if((W||T)&&(T=R.window===R?R:(T=R.ownerDocument)?T.defaultView||T.parentWindow:window,W?(X=c.relatedTarget||c.toElement,W=y,X=X?u4(X):null,X!==null&&(I=d4(X),X!==I||X.tag!==5&&X.tag!==6)&&(X=null)):(W=null,X=y),W!==X)){if(q=Ld,P="onMouseLeave",A="onMouseEnter",b="mouse",(o==="pointerout"||o==="pointerover")&&(q=kd,P="onPointerLeave",A="onPointerEnter",b="pointer"),I=W==null?T:B3(W),O=X==null?T:B3(X),T=new q(P,b+"leave",W,c,R),T.target=I,T.relatedTarget=O,P=null,u4(R)===y&&(q=new q(A,b+"enter",X,c,R),q.target=O,q.relatedTarget=I,P=q),I=P,W&&X)a:{for(q=W,A=X,b=0,O=q;O;O=V3(O))b++;for(O=0,P=A;P;P=V3(P))O++;for(;0<b-O;)q=V3(q),b--;for(;0<O-b;)A=V3(A),O--;for(;b--;){if(q===A||A!==null&&q===A.alternate)break a;q=V3(q),A=V3(A)}q=null}else q=null;W!==null&&Xd(U,T,W,q,!1),X!==null&&I!==null&&Xd(U,I,X,q,!0)}}t:{if(T=y?B3(y):window,W=T.nodeName&&T.nodeName.toLowerCase(),W==="select"||W==="input"&&T.type==="file")var Z=gV;else if(Sd(T))if(Od)Z=MV;else{Z=zV;var G=pV}else(W=T.nodeName)&&W.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(Z=fV);if(Z&&(Z=Z(o,y))){Id(U,Z,c,R);break t}G&&G(o,T,y),o==="focusout"&&(G=T._wrapperState)&&G.controlled&&T.type==="number"&&Yn(T,"number",T.value)}switch(G=y?B3(y):window,o){case"focusin":(Sd(G)||G.contentEditable==="true")&&(H3=G,b9=y,Ja=null);break;case"focusout":Ja=b9=H3=null;break;case"mousedown":y9=!0;break;case"contextmenu":case"mouseup":case"dragend":y9=!1,Nd(U,c,R);break;case"selectionchange":if(HV)break;case"keydown":case"keyup":Nd(U,c,R)}var t1;if(k9)t:{switch(o){case"compositionstart":var o1="onCompositionStart";break t;case"compositionend":o1="onCompositionEnd";break t;case"compositionupdate":o1="onCompositionUpdate";break t}o1=void 0}else x3?yd(o,c)&&(o1="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(o1="onCompositionStart");o1&&(Cd&&c.locale!=="ko"&&(x3||o1!=="onCompositionStart"?o1==="onCompositionEnd"&&x3&&(t1=Vd()):(w5=R,x9="value"in w5?w5.value:w5.textContent,x3=!0)),G=ir(y,o1),0<G.length&&(o1=new Bd(o1,o,null,c,R),U.push({event:o1,listeners:G}),t1?o1.data=t1:(t1=_d(c),t1!==null&&(o1.data=t1)))),(t1=hV?sV(o,c):vV(o,c))&&(y=ir(y,"onBeforeInput"),0<y.length&&(R=new Bd("onBeforeInput","beforeinput",null,c,R),U.push({event:R,listeners:y}),R.data=t1))}qd(U,l)})}function t6(o,l,c){return{instance:o,listener:l,currentTarget:c}}function ir(o,l){for(var c=l+"Capture",u=[];o!==null;){var v=o,f=v.stateNode;v.tag===5&&f!==null&&(v=f,f=Ta(o,c),f!=null&&u.unshift(t6(o,f,v)),f=Ta(o,l),f!=null&&u.push(t6(o,f,v))),o=o.return}return u}function V3(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xd(o,l,c,u,v){for(var f=l._reactName,x=[];c!==null&&c!==u;){var H=c,M=H.alternate,y=H.stateNode;if(M!==null&&M===u)break;H.tag===5&&y!==null&&(H=y,v?(M=Ta(c,f),M!=null&&x.unshift(t6(c,M,H))):v||(M=Ta(c,f),M!=null&&x.push(t6(c,M,H)))),c=c.return}x.length!==0&&o.push({event:l,listeners:x})}function lr(){}var S9=null,I9=null;function Jd(o,l){switch(o){case"button":case"input":case"select":case"textarea":return!!l.autoFocus}return!1}function O9(o,l){return o==="textarea"||o==="option"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zd=typeof setTimeout=="function"?setTimeout:void 0,VV=typeof clearTimeout=="function"?clearTimeout:void 0;function F9(o){o.nodeType===1?o.textContent="":o.nodeType===9&&(o=o.body,o!=null&&(o.textContent=""))}function w3(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break}return o}function tu(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return o;l--}else c==="/$"&&l++}o=o.previousSibling}return null}var P9=0;function wV(o){return{$$typeof:Wn,toString:o,valueOf:o}}var cr=Math.random().toString(36).slice(2),L5="__reactFiber$"+cr,hr="__reactProps$"+cr,L3="__reactContainer$"+cr,au="__reactEvents$"+cr;function u4(o){var l=o[L5];if(l)return l;for(var c=o.parentNode;c;){if(l=c[L3]||c[L5]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(o=tu(o);o!==null;){if(c=o[L5])return c;o=tu(o)}return l}o=c,c=o.parentNode}return null}function a6(o){return o=o[L5]||o[L3],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function B3(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(K(33))}function sr(o){return o[hr]||null}function eu(o){var l=o[au];return l===void 0&&(l=o[au]=new Set),l}var E9=[],k3=-1;function B5(o){return{current:o}}function W1(o){0>k3||(o.current=E9[k3],E9[k3]=null,k3--)}function Z1(o,l){k3++,E9[k3]=o.current,o.current=l}var k5={},F2=B5(k5),r0=B5(!1),g4=k5;function C3(o,l){var c=o.type.contextTypes;if(!c)return k5;var u=o.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===l)return u.__reactInternalMemoizedMaskedChildContext;var v={},f;for(f in c)v[f]=l[f];return u&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function n0(o){return o=o.childContextTypes,o!=null}function vr(){W1(r0),W1(F2)}function ru(o,l,c){if(F2.current!==k5)throw Error(K(168));Z1(F2,l),Z1(r0,c)}function nu(o,l,c){var u=o.stateNode;if(o=l.childContextTypes,typeof u.getChildContext!="function")return c;u=u.getChildContext();for(var v in u)if(!(v in o))throw Error(K(108,v3(l)||"Unknown",v));return U1({},c,u)}function dr(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||k5,g4=F2.current,Z1(F2,o),Z1(r0,r0.current),!0}function ou(o,l,c){var u=o.stateNode;if(!u)throw Error(K(169));c?(o=nu(o,l,g4),u.__reactInternalMemoizedMergedChildContext=o,W1(r0),W1(F2),Z1(F2,o)):W1(r0),Z1(r0,c)}var T9=null,p4=null,LV=H2.unstable_runWithPriority,R9=H2.unstable_scheduleCallback,D9=H2.unstable_cancelCallback,BV=H2.unstable_shouldYield,iu=H2.unstable_requestPaint,N9=H2.unstable_now,kV=H2.unstable_getCurrentPriorityLevel,ur=H2.unstable_ImmediatePriority,lu=H2.unstable_UserBlockingPriority,cu=H2.unstable_NormalPriority,hu=H2.unstable_LowPriority,su=H2.unstable_IdlePriority,j9={},CV=iu!==void 0?iu:function(){},Wt=null,gr=null,W9=!1,vu=N9(),P2=1e4>vu?N9:function(){return N9()-vu};function A3(){switch(kV()){case ur:return 99;case lu:return 98;case cu:return 97;case hu:return 96;case su:return 95;default:throw Error(K(332))}}function du(o){switch(o){case 99:return ur;case 98:return lu;case 97:return cu;case 96:return hu;case 95:return su;default:throw Error(K(332))}}function z4(o,l){return o=du(o),LV(o,l)}function e6(o,l,c){return o=du(o),R9(o,l,c)}function mt(){if(gr!==null){var o=gr;gr=null,D9(o)}uu()}function uu(){if(!W9&&Wt!==null){W9=!0;var o=0;try{var l=Wt;z4(99,function(){for(;o<l.length;o++){var c=l[o];do c=c(!0);while(c!==null)}}),Wt=null}catch(c){throw Wt!==null&&(Wt=Wt.slice(o+1)),R9(ur,mt),c}finally{W9=!1}}}var AV=h4.ReactCurrentBatchConfig;function tt(o,l){if(o&&o.defaultProps){l=U1({},l),o=o.defaultProps;for(var c in o)l[c]===void 0&&(l[c]=o[c]);return l}return l}var pr=B5(null),zr=null,b3=null,fr=null;function U9(){fr=b3=zr=null}function q9(o){var l=pr.current;W1(pr),o.type._context._currentValue=l}function gu(o,l){for(;o!==null;){var c=o.alternate;if((o.childLanes&l)===l){if(c===null||(c.childLanes&l)===l)break;c.childLanes|=l}else o.childLanes|=l,c!==null&&(c.childLanes|=l);o=o.return}}function y3(o,l){zr=o,fr=b3=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!=0&&(at=!0),o.firstContext=null)}function S0(o,l){if(fr!==o&&l!==!1&&l!==0)if((typeof l!="number"||l===1073741823)&&(fr=o,l=1073741823),l={context:o,observedBits:l,next:null},b3===null){if(zr===null)throw Error(K(308));b3=l,zr.dependencies={lanes:0,firstContext:l,responders:null}}else b3=b3.next=l;return o._currentValue}var C5=!1;function G9(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function pu(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function A5(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function b5(o,l){if(o=o.updateQueue,o!==null){o=o.shared;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}}function zu(o,l){var c=o.updateQueue,u=o.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var v=null,f=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};f===null?v=f=x:f=f.next=x,c=c.next}while(c!==null);f===null?v=f=l:f=f.next=l}else v=f=l;c={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:f,shared:u.shared,effects:u.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function r6(o,l,c,u){var v=o.updateQueue;C5=!1;var f=v.firstBaseUpdate,x=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var M=H,y=M.next;M.next=null,x===null?f=y:x.next=y,x=M;var R=o.alternate;if(R!==null){R=R.updateQueue;var U=R.lastBaseUpdate;U!==x&&(U===null?R.firstBaseUpdate=y:U.next=y,R.lastBaseUpdate=M)}}if(f!==null){U=v.baseState,x=0,R=y=M=null;do{H=f.lane;var T=f.eventTime;if((u&H)===H){R!==null&&(R=R.next={eventTime:T,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});t:{var W=o,X=f;switch(H=l,T=c,X.tag){case 1:if(W=X.payload,typeof W=="function"){U=W.call(T,U,H);break t}U=W;break t;case 3:W.flags=W.flags&-4097|64;case 0:if(W=X.payload,H=typeof W=="function"?W.call(T,U,H):W,H==null)break t;U=U1({},U,H);break t;case 2:C5=!0}}f.callback!==null&&(o.flags|=32,H=v.effects,H===null?v.effects=[f]:H.push(f))}else T={eventTime:T,lane:H,tag:f.tag,payload:f.payload,callback:f.callback,next:null},R===null?(y=R=T,M=U):R=R.next=T,x|=H;if(f=f.next,f===null){if(H=v.shared.pending,H===null)break;f=H.next,H.next=null,v.lastBaseUpdate=H,v.shared.pending=null}}while(1);R===null&&(M=U),v.baseState=M,v.firstBaseUpdate=y,v.lastBaseUpdate=R,p6|=x,o.lanes=x,o.memoizedState=U}}function fu(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var u=o[l],v=u.callback;if(v!==null){if(u.callback=null,u=c,typeof v!="function")throw Error(K(191,v));v.call(u)}}}var Mu=new Ee.Component().refs;function Mr(o,l,c,u){l=o.memoizedState,c=c(u,l),c=c==null?l:U1({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var mr={isMounted:function(o){return(o=o._reactInternals)?d4(o)===o:!1},enqueueSetState:function(o,l,c){o=o._reactInternals;var u=m0(),v=S5(o),f=A5(u,v);f.payload=l,c!=null&&(f.callback=c),b5(o,f),I5(o,v,u)},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var u=m0(),v=S5(o),f=A5(u,v);f.tag=1,f.payload=l,c!=null&&(f.callback=c),b5(o,f),I5(o,v,u)},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=m0(),u=S5(o),v=A5(c,u);v.tag=2,l!=null&&(v.callback=l),b5(o,v),I5(o,u,c)}};function mu(o,l,c,u,v,f,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(u,f,x):l.prototype&&l.prototype.isPureReactComponent?!Xa(c,u)||!Xa(v,f):!0}function xu(o,l,c){var u=!1,v=k5,f=l.contextType;return typeof f=="object"&&f!==null?f=S0(f):(v=n0(l)?g4:F2.current,u=l.contextTypes,f=(u=u!=null)?C3(o,v):k5),l=new l(c,f),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=mr,o.stateNode=l,l._reactInternals=o,u&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=f),l}function Hu(o,l,c,u){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,u),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,u),l.state!==o&&mr.enqueueReplaceState(l,l.state,null)}function $9(o,l,c,u){var v=o.stateNode;v.props=c,v.state=o.memoizedState,v.refs=Mu,G9(o);var f=l.contextType;typeof f=="object"&&f!==null?v.context=S0(f):(f=n0(l)?g4:F2.current,v.context=C3(o,f)),r6(o,c,v,u),v.state=o.memoizedState,f=l.getDerivedStateFromProps,typeof f=="function"&&(Mr(o,l,f,c),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&mr.enqueueReplaceState(v,v.state,null),r6(o,c,v,u),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4)}var xr=Array.isArray;function n6(o,l,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(K(309));var u=c.stateNode}if(!u)throw Error(K(147,o));var v=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===v?l.ref:(l=function(f){var x=u.refs;x===Mu&&(x=u.refs={}),f===null?delete x[v]:x[v]=f},l._stringRef=v,l)}if(typeof o!="string")throw Error(K(284));if(!c._owner)throw Error(K(290,o))}return o}function Hr(o,l){if(o.type!=="textarea")throw Error(K(31,Object.prototype.toString.call(l)==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":l))}function Vu(o){function l(I,A){if(o){var b=I.lastEffect;b!==null?(b.nextEffect=A,I.lastEffect=A):I.firstEffect=I.lastEffect=A,A.nextEffect=null,A.flags=8}}function c(I,A){if(!o)return null;for(;A!==null;)l(I,A),A=A.sibling;return null}function u(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function v(I,A){return I=P5(I,A),I.index=0,I.sibling=null,I}function f(I,A,b){return I.index=b,o?(b=I.alternate,b!==null?(b=b.index,b<A?(I.flags=2,A):b):(I.flags=2,A)):A}function x(I){return o&&I.alternate===null&&(I.flags=2),I}function H(I,A,b,O){return A===null||A.tag!==6?(A=yo(b,I.mode,O),A.return=I,A):(A=v(A,b),A.return=I,A)}function M(I,A,b,O){return A!==null&&A.elementType===b.type?(O=v(A,b.props),O.ref=n6(I,A,b),O.return=I,O):(O=Rr(b.type,b.key,b.props,null,I.mode,O),O.ref=n6(I,A,b),O.return=I,O)}function y(I,A,b,O){return A===null||A.tag!==4||A.stateNode.containerInfo!==b.containerInfo||A.stateNode.implementation!==b.implementation?(A=_o(b,I.mode,O),A.return=I,A):(A=v(A,b.children||[]),A.return=I,A)}function R(I,A,b,O,P){return A===null||A.tag!==7?(A=T3(b,I.mode,O,P),A.return=I,A):(A=v(A,b),A.return=I,A)}function U(I,A,b){if(typeof A=="string"||typeof A=="number")return A=yo(""+A,I.mode,b),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _a:return b=Rr(A.type,A.key,A.props,null,I.mode,b),b.ref=n6(I,null,A),b.return=I,b;case s4:return A=_o(A,I.mode,b),A.return=I,A}if(xr(A)||Oa(A))return A=T3(A,I.mode,b,null),A.return=I,A;Hr(I,A)}return null}function T(I,A,b,O){var P=A!==null?A.key:null;if(typeof b=="string"||typeof b=="number")return P!==null?null:H(I,A,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _a:return b.key===P?b.type===f5?R(I,A,b.props.children,O,P):M(I,A,b,O):null;case s4:return b.key===P?y(I,A,b,O):null}if(xr(b)||Oa(b))return P!==null?null:R(I,A,b,O,null);Hr(I,b)}return null}function W(I,A,b,O,P){if(typeof O=="string"||typeof O=="number")return I=I.get(b)||null,H(A,I,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _a:return I=I.get(O.key===null?b:O.key)||null,O.type===f5?R(A,I,O.props.children,P,O.key):M(A,I,O,P);case s4:return I=I.get(O.key===null?b:O.key)||null,y(A,I,O,P)}if(xr(O)||Oa(O))return I=I.get(b)||null,R(A,I,O,P,null);Hr(A,O)}return null}function X(I,A,b,O){for(var P=null,Z=null,G=A,t1=A=0,o1=null;G!==null&&t1<b.length;t1++){G.index>t1?(o1=G,G=null):o1=G.sibling;var r1=T(I,G,b[t1],O);if(r1===null){G===null&&(G=o1);break}o&&G&&r1.alternate===null&&l(I,G),A=f(r1,A,t1),Z===null?P=r1:Z.sibling=r1,Z=r1,G=o1}if(t1===b.length)return c(I,G),P;if(G===null){for(;t1<b.length;t1++)G=U(I,b[t1],O),G!==null&&(A=f(G,A,t1),Z===null?P=G:Z.sibling=G,Z=G);return P}for(G=u(I,G);t1<b.length;t1++)o1=W(G,I,t1,b[t1],O),o1!==null&&(o&&o1.alternate!==null&&G.delete(o1.key===null?t1:o1.key),A=f(o1,A,t1),Z===null?P=o1:Z.sibling=o1,Z=o1);return o&&G.forEach(function(g2){return l(I,g2)}),P}function q(I,A,b,O){var P=Oa(b);if(typeof P!="function")throw Error(K(150));if(b=P.call(b),b==null)throw Error(K(151));for(var Z=P=null,G=A,t1=A=0,o1=null,r1=b.next();G!==null&&!r1.done;t1++,r1=b.next()){G.index>t1?(o1=G,G=null):o1=G.sibling;var g2=T(I,G,r1.value,O);if(g2===null){G===null&&(G=o1);break}o&&G&&g2.alternate===null&&l(I,G),A=f(g2,A,t1),Z===null?P=g2:Z.sibling=g2,Z=g2,G=o1}if(r1.done)return c(I,G),P;if(G===null){for(;!r1.done;t1++,r1=b.next())r1=U(I,r1.value,O),r1!==null&&(A=f(r1,A,t1),Z===null?P=r1:Z.sibling=r1,Z=r1);return P}for(G=u(I,G);!r1.done;t1++,r1=b.next())r1=W(G,I,t1,r1.value,O),r1!==null&&(o&&r1.alternate!==null&&G.delete(r1.key===null?t1:r1.key),A=f(r1,A,t1),Z===null?P=r1:Z.sibling=r1,Z=r1);return o&&G.forEach(function(E0){return l(I,E0)}),P}return function(I,A,b,O){var P=typeof b=="object"&&b!==null&&b.type===f5&&b.key===null;P&&(b=b.props.children);var Z=typeof b=="object"&&b!==null;if(Z)switch(b.$$typeof){case _a:t:{for(Z=b.key,P=A;P!==null;){if(P.key===Z){switch(P.tag){case 7:if(b.type===f5){c(I,P.sibling),A=v(P,b.props.children),A.return=I,I=A;break t}break;default:if(P.elementType===b.type){c(I,P.sibling),A=v(P,b.props),A.ref=n6(I,P,b),A.return=I,I=A;break t}}c(I,P);break}else l(I,P);P=P.sibling}b.type===f5?(A=T3(b.props.children,I.mode,O,b.key),A.return=I,I=A):(O=Rr(b.type,b.key,b.props,null,I.mode,O),O.ref=n6(I,A,b),O.return=I,I=O)}return x(I);case s4:t:{for(P=b.key;A!==null;){if(A.key===P)if(A.tag===4&&A.stateNode.containerInfo===b.containerInfo&&A.stateNode.implementation===b.implementation){c(I,A.sibling),A=v(A,b.children||[]),A.return=I,I=A;break t}else{c(I,A);break}else l(I,A);A=A.sibling}A=_o(b,I.mode,O),A.return=I,I=A}return x(I)}if(typeof b=="string"||typeof b=="number")return b=""+b,A!==null&&A.tag===6?(c(I,A.sibling),A=v(A,b),A.return=I,I=A):(c(I,A),A=yo(b,I.mode,O),A.return=I,I=A),x(I);if(xr(b))return X(I,A,b,O);if(Oa(b))return q(I,A,b,O);if(Z&&Hr(I,b),typeof b=="undefined"&&!P)switch(I.tag){case 1:case 22:case 0:case 11:case 15:throw Error(K(152,v3(I.type)||"Component"))}return c(I,A)}}var Vr=Vu(!0),wu=Vu(!1),o6={},xt=B5(o6),i6=B5(o6),l6=B5(o6);function f4(o){if(o===o6)throw Error(K(174));return o}function K9(o,l){switch(Z1(l6,l),Z1(i6,o),Z1(xt,o6),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:t9(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=t9(l,o)}W1(xt),Z1(xt,l)}function _3(){W1(xt),W1(i6),W1(l6)}function Lu(o){f4(l6.current);var l=f4(xt.current),c=t9(l,o.type);l!==c&&(Z1(i6,o),Z1(xt,c))}function Q9(o){i6.current===o&&(W1(xt),W1(i6))}var t2=B5(0);function wr(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&64)!=0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ut=null,y5=null,Ht=!1;function Bu(o,l){var c=F0(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=l,c.return=o,c.flags=8,o.lastEffect!==null?(o.lastEffect.nextEffect=c,o.lastEffect=c):o.firstEffect=o.lastEffect=c}function ku(o,l){switch(o.tag){case 5:var c=o.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,!0):!1;case 13:return!1;default:return!1}}function Y9(o){if(Ht){var l=y5;if(l){var c=l;if(!ku(o,l)){if(l=w3(c.nextSibling),!l||!ku(o,l)){o.flags=o.flags&-1025|2,Ht=!1,Ut=o;return}Bu(Ut,c)}Ut=o,y5=w3(l.firstChild)}else o.flags=o.flags&-1025|2,Ht=!1,Ut=o}}function Cu(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ut=o}function Lr(o){if(o!==Ut)return!1;if(!Ht)return Cu(o),Ht=!0,!1;var l=o.type;if(o.tag!==5||l!=="head"&&l!=="body"&&!O9(l,o.memoizedProps))for(l=y5;l;)Bu(o,l),l=w3(l.nextSibling);if(Cu(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));t:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(l===0){y5=w3(o.nextSibling);break t}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}o=o.nextSibling}y5=null}}else y5=Ut?w3(o.stateNode.nextSibling):null;return!0}function X9(){y5=Ut=null,Ht=!1}var S3=[];function J9(){for(var o=0;o<S3.length;o++)S3[o]._workInProgressVersionPrimary=null;S3.length=0}var c6=h4.ReactCurrentDispatcher,I0=h4.ReactCurrentBatchConfig,h6=0,n2=null,E2=null,y2=null,Br=!1,s6=!1;function o0(){throw Error(K(321))}function Z9(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!_0(o[c],l[c]))return!1;return!0}function to(o,l,c,u,v,f){if(h6=f,n2=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,c6.current=o===null||o.memoizedState===null?yV:_V,o=c(u,v),s6){f=0;do{if(s6=!1,!(25>f))throw Error(K(301));f+=1,y2=E2=null,l.updateQueue=null,c6.current=SV,o=c(u,v)}while(s6)}if(c6.current=br,l=E2!==null&&E2.next!==null,h6=0,y2=E2=n2=null,Br=!1,l)throw Error(K(300));return o}function M4(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return y2===null?n2.memoizedState=y2=o:y2=y2.next=o,y2}function m4(){if(E2===null){var o=n2.alternate;o=o!==null?o.memoizedState:null}else o=E2.next;var l=y2===null?n2.memoizedState:y2.next;if(l!==null)y2=l,E2=o;else{if(o===null)throw Error(K(310));E2=o,o={memoizedState:E2.memoizedState,baseState:E2.baseState,baseQueue:E2.baseQueue,queue:E2.queue,next:null},y2===null?n2.memoizedState=y2=o:y2=y2.next=o}return y2}function Vt(o,l){return typeof l=="function"?l(o):l}function v6(o){var l=m4(),c=l.queue;if(c===null)throw Error(K(311));c.lastRenderedReducer=o;var u=E2,v=u.baseQueue,f=c.pending;if(f!==null){if(v!==null){var x=v.next;v.next=f.next,f.next=x}u.baseQueue=v=f,c.pending=null}if(v!==null){v=v.next,u=u.baseState;var H=x=f=null,M=v;do{var y=M.lane;if((h6&y)===y)H!==null&&(H=H.next={lane:0,action:M.action,eagerReducer:M.eagerReducer,eagerState:M.eagerState,next:null}),u=M.eagerReducer===o?M.eagerState:o(u,M.action);else{var R={lane:y,action:M.action,eagerReducer:M.eagerReducer,eagerState:M.eagerState,next:null};H===null?(x=H=R,f=u):H=H.next=R,n2.lanes|=y,p6|=y}M=M.next}while(M!==null&&M!==v);H===null?f=u:H.next=x,_0(u,l.memoizedState)||(at=!0),l.memoizedState=u,l.baseState=f,l.baseQueue=H,c.lastRenderedState=u}return[l.memoizedState,c.dispatch]}function d6(o){var l=m4(),c=l.queue;if(c===null)throw Error(K(311));c.lastRenderedReducer=o;var u=c.dispatch,v=c.pending,f=l.memoizedState;if(v!==null){c.pending=null;var x=v=v.next;do f=o(f,x.action),x=x.next;while(x!==v);_0(f,l.memoizedState)||(at=!0),l.memoizedState=f,l.baseQueue===null&&(l.baseState=f),c.lastRenderedState=f}return[f,u]}function Au(o,l,c){var u=l._getVersion;u=u(l._source);var v=l._workInProgressVersionPrimary;if(v!==null?o=v===u:(o=o.mutableReadLanes,(o=(h6&o)===o)&&(l._workInProgressVersionPrimary=u,S3.push(l))),o)return c(l._source);throw S3.push(l),Error(K(350))}function bu(o,l,c,u){var v=$2;if(v===null)throw Error(K(349));var f=l._getVersion,x=f(l._source),H=c6.current,M=H.useState(function(){return Au(v,l,c)}),y=M[1],R=M[0];M=y2;var U=o.memoizedState,T=U.refs,W=T.getSnapshot,X=U.source;U=U.subscribe;var q=n2;return o.memoizedState={refs:T,source:l,subscribe:u},H.useEffect(function(){T.getSnapshot=c,T.setSnapshot=y;var I=f(l._source);if(!_0(x,I)){I=c(l._source),_0(R,I)||(y(I),I=S5(q),v.mutableReadLanes|=I&v.pendingLanes),I=v.mutableReadLanes,v.entangledLanes|=I;for(var A=v.entanglements,b=I;0<b;){var O=31-V5(b),P=1<<O;A[O]|=I,b&=~P}}},[c,l,u]),H.useEffect(function(){return u(l._source,function(){var I=T.getSnapshot,A=T.setSnapshot;try{A(I(l._source));var b=S5(q);v.mutableReadLanes|=b&v.pendingLanes}catch(O){A(function(){throw O})}})},[l,u]),_0(W,c)&&_0(X,l)&&_0(U,u)||(o={pending:null,dispatch:null,lastRenderedReducer:Vt,lastRenderedState:R},o.dispatch=y=no.bind(null,n2,o),M.queue=o,M.baseQueue=null,R=Au(v,l,c),M.memoizedState=M.baseState=R),R}function yu(o,l,c){var u=m4();return bu(u,o,l,c)}function u6(o){var l=M4();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o=l.queue={pending:null,dispatch:null,lastRenderedReducer:Vt,lastRenderedState:o},o=o.dispatch=no.bind(null,n2,o),[l.memoizedState,o]}function kr(o,l,c,u){return o={tag:o,create:l,destroy:c,deps:u,next:null},l=n2.updateQueue,l===null?(l={lastEffect:null},n2.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect,c===null?l.lastEffect=o.next=o:(u=c.next,c.next=o,o.next=u,l.lastEffect=o)),o}function _u(o){var l=M4();return o={current:o},l.memoizedState=o}function Cr(){return m4().memoizedState}function ao(o,l,c,u){var v=M4();n2.flags|=o,v.memoizedState=kr(1|l,c,void 0,u===void 0?null:u)}function eo(o,l,c,u){var v=m4();u=u===void 0?null:u;var f=void 0;if(E2!==null){var x=E2.memoizedState;if(f=x.destroy,u!==null&&Z9(u,x.deps)){kr(l,c,f,u);return}}n2.flags|=o,v.memoizedState=kr(1|l,c,f,u)}function Su(o,l){return ao(516,4,o,l)}function Ar(o,l){return eo(516,4,o,l)}function Iu(o,l){return eo(4,2,o,l)}function Ou(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Fu(o,l,c){return c=c!=null?c.concat([o]):null,eo(4,2,Ou.bind(null,l,o),c)}function ro(){}function Pu(o,l){var c=m4();l=l===void 0?null:l;var u=c.memoizedState;return u!==null&&l!==null&&Z9(l,u[1])?u[0]:(c.memoizedState=[o,l],o)}function Eu(o,l){var c=m4();l=l===void 0?null:l;var u=c.memoizedState;return u!==null&&l!==null&&Z9(l,u[1])?u[0]:(o=o(),c.memoizedState=[o,l],o)}function bV(o,l){var c=A3();z4(98>c?98:c,function(){o(!0)}),z4(97<c?97:c,function(){var u=I0.transition;I0.transition=1;try{o(!1),l()}finally{I0.transition=u}})}function no(o,l,c){var u=m0(),v=S5(o),f={lane:v,action:c,eagerReducer:null,eagerState:null,next:null},x=l.pending;if(x===null?f.next=f:(f.next=x.next,x.next=f),l.pending=f,x=o.alternate,o===n2||x!==null&&x===n2)s6=Br=!0;else{if(o.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var H=l.lastRenderedState,M=x(H,c);if(f.eagerReducer=x,f.eagerState=M,_0(M,H))return}catch(y){}finally{}I5(o,v,u)}}var br={readContext:S0,useCallback:o0,useContext:o0,useEffect:o0,useImperativeHandle:o0,useLayoutEffect:o0,useMemo:o0,useReducer:o0,useRef:o0,useState:o0,useDebugValue:o0,useDeferredValue:o0,useTransition:o0,useMutableSource:o0,useOpaqueIdentifier:o0,unstable_isNewReconciler:!1},yV={readContext:S0,useCallback:function(o,l){return M4().memoizedState=[o,l===void 0?null:l],o},useContext:S0,useEffect:Su,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,ao(4,2,Ou.bind(null,l,o),c)},useLayoutEffect:function(o,l){return ao(4,2,o,l)},useMemo:function(o,l){var c=M4();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var u=M4();return l=c!==void 0?c(l):l,u.memoizedState=u.baseState=l,o=u.queue={pending:null,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},o=o.dispatch=no.bind(null,n2,o),[u.memoizedState,o]},useRef:_u,useState:u6,useDebugValue:ro,useDeferredValue:function(o){var l=u6(o),c=l[0],u=l[1];return Su(function(){var v=I0.transition;I0.transition=1;try{u(o)}finally{I0.transition=v}},[o]),c},useTransition:function(){var o=u6(!1),l=o[0];return o=bV.bind(null,o[1]),_u(o),[o,l]},useMutableSource:function(o,l,c){var u=M4();return u.memoizedState={refs:{getSnapshot:l,setSnapshot:null},source:o,subscribe:c},bu(u,o,l,c)},useOpaqueIdentifier:function(){if(Ht){var o=!1,l=wV(function(){throw o||(o=!0,c("r:"+(P9++).toString(36))),Error(K(355))}),c=u6(l)[1];return(n2.mode&2)==0&&(n2.flags|=516,kr(5,function(){c("r:"+(P9++).toString(36))},void 0,null)),l}return l="r:"+(P9++).toString(36),u6(l),l},unstable_isNewReconciler:!1},_V={readContext:S0,useCallback:Pu,useContext:S0,useEffect:Ar,useImperativeHandle:Fu,useLayoutEffect:Iu,useMemo:Eu,useReducer:v6,useRef:Cr,useState:function(){return v6(Vt)},useDebugValue:ro,useDeferredValue:function(o){var l=v6(Vt),c=l[0],u=l[1];return Ar(function(){var v=I0.transition;I0.transition=1;try{u(o)}finally{I0.transition=v}},[o]),c},useTransition:function(){var o=v6(Vt)[0];return[Cr().current,o]},useMutableSource:yu,useOpaqueIdentifier:function(){return v6(Vt)[0]},unstable_isNewReconciler:!1},SV={readContext:S0,useCallback:Pu,useContext:S0,useEffect:Ar,useImperativeHandle:Fu,useLayoutEffect:Iu,useMemo:Eu,useReducer:d6,useRef:Cr,useState:function(){return d6(Vt)},useDebugValue:ro,useDeferredValue:function(o){var l=d6(Vt),c=l[0],u=l[1];return Ar(function(){var v=I0.transition;I0.transition=1;try{u(o)}finally{I0.transition=v}},[o]),c},useTransition:function(){var o=d6(Vt)[0];return[Cr().current,o]},useMutableSource:yu,useOpaqueIdentifier:function(){return d6(Vt)[0]},unstable_isNewReconciler:!1},IV=h4.ReactCurrentOwner,at=!1;function i0(o,l,c,u){l.child=o===null?wu(l,null,c,u):Vr(l,o.child,c,u)}function Tu(o,l,c,u,v){c=c.render;var f=l.ref;return y3(l,v),u=to(o,l,c,u,f,v),o!==null&&!at?(l.updateQueue=o.updateQueue,l.flags&=-517,o.lanes&=~v,qt(o,l,v)):(l.flags|=1,i0(o,l,u,v),l.child)}function Ru(o,l,c,u,v,f){if(o===null){var x=c.type;return typeof x=="function"&&!Ao(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=x,Du(o,l,x,u,v,f)):(o=Rr(c.type,null,u,l,l.mode,f),o.ref=l.ref,o.return=l,l.child=o)}return x=o.child,(v&f)==0&&(v=x.memoizedProps,c=c.compare,c=c!==null?c:Xa,c(v,u)&&o.ref===l.ref)?qt(o,l,f):(l.flags|=1,o=P5(x,u),o.ref=l.ref,o.return=l,l.child=o)}function Du(o,l,c,u,v,f){if(o!==null&&Xa(o.memoizedProps,u)&&o.ref===l.ref)if(at=!1,(f&v)!=0)(o.flags&16384)!=0&&(at=!0);else return l.lanes=o.lanes,qt(o,l,f);return io(o,l,c,u,f)}function oo(o,l,c){var u=l.pendingProps,v=u.children,f=o!==null?o.memoizedState:null;if(u.mode==="hidden"||u.mode==="unstable-defer-without-hiding")if((l.mode&4)==0)l.memoizedState={baseLanes:0},Tr(l,c);else if((c&1073741824)!=0)l.memoizedState={baseLanes:0},Tr(l,f!==null?f.baseLanes:c);else return o=f!==null?f.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o},Tr(l,o),null;else f!==null?(u=f.baseLanes|c,l.memoizedState=null):u=c,Tr(l,u);return i0(o,l,v,c),l.child}function Nu(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=128)}function io(o,l,c,u,v){var f=n0(c)?g4:F2.current;return f=C3(l,f),y3(l,v),c=to(o,l,c,u,f,v),o!==null&&!at?(l.updateQueue=o.updateQueue,l.flags&=-517,o.lanes&=~v,qt(o,l,v)):(l.flags|=1,i0(o,l,c,v),l.child)}function ju(o,l,c,u,v){if(n0(c)){var f=!0;dr(l)}else f=!1;if(y3(l,v),l.stateNode===null)o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),xu(l,c,u),$9(l,c,u,v),u=!0;else if(o===null){var x=l.stateNode,H=l.memoizedProps;x.props=H;var M=x.context,y=c.contextType;typeof y=="object"&&y!==null?y=S0(y):(y=n0(c)?g4:F2.current,y=C3(l,y));var R=c.getDerivedStateFromProps,U=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function";U||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(H!==u||M!==y)&&Hu(l,x,u,y),C5=!1;var T=l.memoizedState;x.state=T,r6(l,u,x,v),M=l.memoizedState,H!==u||T!==M||r0.current||C5?(typeof R=="function"&&(Mr(l,c,R,u),M=l.memoizedState),(H=C5||mu(l,c,H,u,T,M,y))?(U||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4)):(typeof x.componentDidMount=="function"&&(l.flags|=4),l.memoizedProps=u,l.memoizedState=M),x.props=u,x.state=M,x.context=y,u=H):(typeof x.componentDidMount=="function"&&(l.flags|=4),u=!1)}else{x=l.stateNode,pu(o,l),H=l.memoizedProps,y=l.type===l.elementType?H:tt(l.type,H),x.props=y,U=l.pendingProps,T=x.context,M=c.contextType,typeof M=="object"&&M!==null?M=S0(M):(M=n0(c)?g4:F2.current,M=C3(l,M));var W=c.getDerivedStateFromProps;(R=typeof W=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(H!==U||T!==M)&&Hu(l,x,u,M),C5=!1,T=l.memoizedState,x.state=T,r6(l,u,x,v);var X=l.memoizedState;H!==U||T!==X||r0.current||C5?(typeof W=="function"&&(Mr(l,c,W,u),X=l.memoizedState),(y=C5||mu(l,c,y,u,T,X,M))?(R||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,X,M),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,X,M)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=256)):(typeof x.componentDidUpdate!="function"||H===o.memoizedProps&&T===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&T===o.memoizedState||(l.flags|=256),l.memoizedProps=u,l.memoizedState=X),x.props=u,x.state=X,x.context=M,u=y):(typeof x.componentDidUpdate!="function"||H===o.memoizedProps&&T===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&T===o.memoizedState||(l.flags|=256),u=!1)}return lo(o,l,c,u,f,v)}function lo(o,l,c,u,v,f){Nu(o,l);var x=(l.flags&64)!=0;if(!u&&!x)return v&&ou(l,c,!1),qt(o,l,f);u=l.stateNode,IV.current=l;var H=x&&typeof c.getDerivedStateFromError!="function"?null:u.render();return l.flags|=1,o!==null&&x?(l.child=Vr(l,o.child,null,f),l.child=Vr(l,null,H,f)):i0(o,l,H,f),l.memoizedState=u.state,v&&ou(l,c,!0),l.child}function Wu(o){var l=o.stateNode;l.pendingContext?ru(o,l.pendingContext,l.pendingContext!==l.context):l.context&&ru(o,l.context,!1),K9(o,l.containerInfo)}var yr={dehydrated:null,retryLane:0};function Uu(o,l,c){var u=l.pendingProps,v=t2.current,f=!1,x;return(x=(l.flags&64)!=0)||(x=o!==null&&o.memoizedState===null?!1:(v&2)!=0),x?(f=!0,l.flags&=-65):o!==null&&o.memoizedState===null||u.fallback===void 0||u.unstable_avoidThisFallback===!0||(v|=1),Z1(t2,v&1),o===null?(u.fallback!==void 0&&Y9(l),o=u.children,v=u.fallback,f?(o=qu(l,o,v,c),l.child.memoizedState={baseLanes:c},l.memoizedState=yr,o):typeof u.unstable_expectedLoadTime=="number"?(o=qu(l,o,v,c),l.child.memoizedState={baseLanes:c},l.memoizedState=yr,l.lanes=33554432,o):(c=bo({mode:"visible",children:o},l.mode,c,null),c.return=l,l.child=c)):o.memoizedState!==null?f?(u=$u(o,l,u.children,u.fallback,c),f=l.child,v=o.child.memoizedState,f.memoizedState=v===null?{baseLanes:c}:{baseLanes:v.baseLanes|c},f.childLanes=o.childLanes&~c,l.memoizedState=yr,u):(c=Gu(o,l,u.children,c),l.memoizedState=null,c):f?(u=$u(o,l,u.children,u.fallback,c),f=l.child,v=o.child.memoizedState,f.memoizedState=v===null?{baseLanes:c}:{baseLanes:v.baseLanes|c},f.childLanes=o.childLanes&~c,l.memoizedState=yr,u):(c=Gu(o,l,u.children,c),l.memoizedState=null,c)}function qu(o,l,c,u){var v=o.mode,f=o.child;return l={mode:"hidden",children:l},(v&2)==0&&f!==null?(f.childLanes=0,f.pendingProps=l):f=bo(l,v,0,null),c=T3(c,v,u,null),f.return=o,c.return=o,f.sibling=c,o.child=f,c}function Gu(o,l,c,u){var v=o.child;return o=v.sibling,c=P5(v,{mode:"visible",children:c}),(l.mode&2)==0&&(c.lanes=u),c.return=l,c.sibling=null,o!==null&&(o.nextEffect=null,o.flags=8,l.firstEffect=l.lastEffect=o),l.child=c}function $u(o,l,c,u,v){var f=l.mode,x=o.child;o=x.sibling;var H={mode:"hidden",children:c};return(f&2)==0&&l.child!==x?(c=l.child,c.childLanes=0,c.pendingProps=H,x=c.lastEffect,x!==null?(l.firstEffect=c.firstEffect,l.lastEffect=x,x.nextEffect=null):l.firstEffect=l.lastEffect=null):c=P5(x,H),o!==null?u=P5(o,u):(u=T3(u,f,v,null),u.flags|=2),u.return=l,c.return=l,c.sibling=u,l.child=c,u}function Ku(o,l){o.lanes|=l;var c=o.alternate;c!==null&&(c.lanes|=l),gu(o.return,l)}function co(o,l,c,u,v,f){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:v,lastEffect:f}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=c,x.tailMode=v,x.lastEffect=f)}function Qu(o,l,c){var u=l.pendingProps,v=u.revealOrder,f=u.tail;if(i0(o,l,u.children,c),u=t2.current,(u&2)!=0)u=u&1|2,l.flags|=64;else{if(o!==null&&(o.flags&64)!=0)t:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Ku(o,c);else if(o.tag===19)Ku(o,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break t;for(;o.sibling===null;){if(o.return===null||o.return===l)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}u&=1}if(Z1(t2,u),(l.mode&2)==0)l.memoizedState=null;else switch(v){case"forwards":for(c=l.child,v=null;c!==null;)o=c.alternate,o!==null&&wr(o)===null&&(v=c),c=c.sibling;c=v,c===null?(v=l.child,l.child=null):(v=c.sibling,c.sibling=null),co(l,!1,v,c,f,l.lastEffect);break;case"backwards":for(c=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&wr(o)===null){l.child=v;break}o=v.sibling,v.sibling=c,c=v,v=o}co(l,!0,c,null,f,l.lastEffect);break;case"together":co(l,!1,null,null,void 0,l.lastEffect);break;default:l.memoizedState=null}return l.child}function qt(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),p6|=l.lanes,(c&l.childLanes)!=0){if(o!==null&&l.child!==o.child)throw Error(K(153));if(l.child!==null){for(o=l.child,c=P5(o,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,c=c.sibling=P5(o,o.pendingProps),c.return=l;c.sibling=null}return l.child}return null}var Yu,ho,Xu,Ju;Yu=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};ho=function(){};Xu=function(o,l,c,u){var v=o.memoizedProps;if(v!==u){o=l.stateNode,f4(xt.current);var f=null;switch(c){case"input":v=Kn(o,v),u=Kn(o,u),f=[];break;case"option":v=Xn(o,v),u=Xn(o,u),f=[];break;case"select":v=U1({},v,{value:void 0}),u=U1({},u,{value:void 0}),f=[];break;case"textarea":v=Jn(o,v),u=Jn(o,u),f=[];break;default:typeof v.onClick!="function"&&typeof u.onClick=="function"&&(o.onclick=lr)}a9(c,u);var x;c=null;for(y in v)if(!u.hasOwnProperty(y)&&v.hasOwnProperty(y)&&v[y]!=null)if(y==="style"){var H=v[y];for(x in H)H.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(ya.hasOwnProperty(y)?f||(f=[]):(f=f||[]).push(y,null));for(y in u){var M=u[y];if(H=v!=null?v[y]:void 0,u.hasOwnProperty(y)&&M!==H&&(M!=null||H!=null))if(y==="style")if(H){for(x in H)!H.hasOwnProperty(x)||M&&M.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in M)M.hasOwnProperty(x)&&H[x]!==M[x]&&(c||(c={}),c[x]=M[x])}else c||(f||(f=[]),f.push(y,c)),c=M;else y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,H=H?H.__html:void 0,M!=null&&H!==M&&(f=f||[]).push(y,M)):y==="children"?typeof M!="string"&&typeof M!="number"||(f=f||[]).push(y,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(ya.hasOwnProperty(y)?(M!=null&&y==="onScroll"&&j1("scroll",o),f||H===M||(f=[])):typeof M=="object"&&M!==null&&M.$$typeof===Wn?M.toString():(f=f||[]).push(y,M))}c&&(f=f||[]).push("style",c);var y=f;(l.updateQueue=y)&&(l.flags|=4)}};Ju=function(o,l,c,u){c!==u&&(l.flags|=4)};function g6(o,l){if(!Ht)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:u.sibling=null}}function OV(o,l,c){var u=l.pendingProps;switch(l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return n0(l.type)&&vr(),null;case 3:return _3(),W1(r0),W1(F2),J9(),u=l.stateNode,u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(Lr(l)?l.flags|=4:u.hydrate||(l.flags|=256)),ho(l),null;case 5:Q9(l);var v=f4(l6.current);if(c=l.type,o!==null&&l.stateNode!=null)Xu(o,l,c,u,v),o.ref!==l.ref&&(l.flags|=128);else{if(!u){if(l.stateNode===null)throw Error(K(166));return null}if(o=f4(xt.current),Lr(l)){u=l.stateNode,c=l.type;var f=l.memoizedProps;switch(u[L5]=l,u[hr]=f,c){case"dialog":j1("cancel",u),j1("close",u);break;case"iframe":case"object":case"embed":j1("load",u);break;case"video":case"audio":for(o=0;o<Za.length;o++)j1(Za[o],u);break;case"source":j1("error",u);break;case"img":case"image":case"link":j1("error",u),j1("load",u);break;case"details":j1("toggle",u);break;case"input":Wv(u,f),j1("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},j1("invalid",u);break;case"textarea":Gv(u,f),j1("invalid",u)}a9(c,f),o=null;for(var x in f)f.hasOwnProperty(x)&&(v=f[x],x==="children"?typeof v=="string"?u.textContent!==v&&(o=["children",v]):typeof v=="number"&&u.textContent!==""+v&&(o=["children",""+v]):ya.hasOwnProperty(x)&&v!=null&&x==="onScroll"&&j1("scroll",u));switch(c){case"input":je(u),qv(u,f,!0);break;case"textarea":je(u),Kv(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=lr)}u=o,l.updateQueue=u,u!==null&&(l.flags|=4)}else{switch(x=v.nodeType===9?v:v.ownerDocument,o===Zn.html&&(o=Qv(c)),o===Zn.html?c==="script"?(o=x.createElement("div"),o.innerHTML="<script></script>",o=o.removeChild(o.firstChild)):typeof u.is=="string"?o=x.createElement(c,{is:u.is}):(o=x.createElement(c),c==="select"&&(x=o,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):o=x.createElementNS(o,c),o[L5]=l,o[hr]=u,Yu(o,l,!1,!1),l.stateNode=o,x=e9(c,u),c){case"dialog":j1("cancel",o),j1("close",o),v=u;break;case"iframe":case"object":case"embed":j1("load",o),v=u;break;case"video":case"audio":for(v=0;v<Za.length;v++)j1(Za[v],o);v=u;break;case"source":j1("error",o),v=u;break;case"img":case"image":case"link":j1("error",o),j1("load",o),v=u;break;case"details":j1("toggle",o),v=u;break;case"input":Wv(o,u),v=Kn(o,u),j1("invalid",o);break;case"option":v=Xn(o,u);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},v=U1({},u,{value:void 0}),j1("invalid",o);break;case"textarea":Gv(o,u),v=Jn(o,u),j1("invalid",o);break;default:v=u}a9(c,v);var H=v;for(f in H)if(H.hasOwnProperty(f)){var M=H[f];f==="style"?Jv(o,M):f==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Yv(o,M)):f==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&Pa(o,M):typeof M=="number"&&Pa(o,""+M):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ya.hasOwnProperty(f)?M!=null&&f==="onScroll"&&j1("scroll",o):M!=null&&En(o,f,M,x))}switch(c){case"input":je(o),qv(o,u,!1);break;case"textarea":je(o),Kv(o);break;case"option":u.value!=null&&o.setAttribute("value",""+M5(u.value));break;case"select":o.multiple=!!u.multiple,f=u.value,f!=null?d3(o,!!u.multiple,f,!1):u.defaultValue!=null&&d3(o,!!u.multiple,u.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=lr)}Jd(c,u)&&(l.flags|=4)}l.ref!==null&&(l.flags|=128)}return null;case 6:if(o&&l.stateNode!=null)Ju(o,l,o.memoizedProps,u);else{if(typeof u!="string"&&l.stateNode===null)throw Error(K(166));c=f4(l6.current),f4(xt.current),Lr(l)?(u=l.stateNode,c=l.memoizedProps,u[L5]=l,u.nodeValue!==c&&(l.flags|=4)):(u=(c.nodeType===9?c:c.ownerDocument).createTextNode(u),u[L5]=l,l.stateNode=u)}return null;case 13:return W1(t2),u=l.memoizedState,(l.flags&64)!=0?(l.lanes=c,l):(u=u!==null,c=!1,o===null?l.memoizedProps.fallback!==void 0&&Lr(l):c=o.memoizedState!==null,u&&!c&&(l.mode&2)!=0&&(o===null&&l.memoizedProps.unstable_avoidThisFallback!==!0||(t2.current&1)!=0?_2===0&&(_2=3):((_2===0||_2===3)&&(_2=4),$2===null||(p6&134217727)==0&&(O3&134217727)==0||P3($2,T2))),(u||c)&&(l.flags|=4),null);case 4:return _3(),ho(l),o===null&&$d(l.stateNode.containerInfo),null;case 10:return q9(l),null;case 17:return n0(l.type)&&vr(),null;case 19:if(W1(t2),u=l.memoizedState,u===null)return null;if(f=(l.flags&64)!=0,x=u.rendering,x===null)if(f)g6(u,!1);else{if(_2!==0||o!==null&&(o.flags&64)!=0)for(o=l.child;o!==null;){if(x=wr(o),x!==null){for(l.flags|=64,g6(u,!1),f=x.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),u.lastEffect===null&&(l.firstEffect=null),l.lastEffect=u.lastEffect,u=c,c=l.child;c!==null;)f=c,o=u,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,x=f.alternate,x===null?(f.childLanes=0,f.lanes=o,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,o=x.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Z1(t2,t2.current&1|2),l.child}o=o.sibling}u.tail!==null&&P2()>Ho&&(l.flags|=64,f=!0,g6(u,!1),l.lanes=33554432)}else{if(!f)if(o=wr(x),o!==null){if(l.flags|=64,f=!0,c=o.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),g6(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!Ht)return l=l.lastEffect=u.lastEffect,l!==null&&(l.nextEffect=null),null}else 2*P2()-u.renderingStartTime>Ho&&c!==1073741824&&(l.flags|=64,f=!0,g6(u,!1),l.lanes=33554432);u.isBackwards?(x.sibling=l.child,l.child=x):(c=u.last,c!==null?c.sibling=x:l.child=x,u.last=x)}return u.tail!==null?(c=u.tail,u.rendering=c,u.tail=c.sibling,u.lastEffect=l.lastEffect,u.renderingStartTime=P2(),c.sibling=null,l=t2.current,Z1(t2,f?l&1|2:l&1),c):null;case 23:case 24:return Co(),o!==null&&o.memoizedState!==null!=(l.memoizedState!==null)&&u.mode!=="unstable-defer-without-hiding"&&(l.flags|=4),null}throw Error(K(156,l.tag))}function FV(o){switch(o.tag){case 1:n0(o.type)&&vr();var l=o.flags;return l&4096?(o.flags=l&-4097|64,o):null;case 3:if(_3(),W1(r0),W1(F2),J9(),l=o.flags,(l&64)!=0)throw Error(K(285));return o.flags=l&-4097|64,o;case 5:return Q9(o),null;case 13:return W1(t2),l=o.flags,l&4096?(o.flags=l&-4097|64,o):null;case 19:return W1(t2),null;case 4:return _3(),null;case 10:return q9(o),null;case 23:case 24:return Co(),null;default:return null}}function so(o,l){try{var c="",u=l;do c+=pH(u),u=u.return;while(u);var v=c}catch(f){v=`
Error generating stack: `+f.message+`
`+f.stack}return{value:o,source:l,stack:v}}function vo(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var PV=typeof WeakMap=="function"?WeakMap:Map;function Zu(o,l,c){c=A5(-1,c),c.tag=3,c.payload={element:null};var u=l.value;return c.callback=function(){Ir||(Ir=!0,Vo=u),vo(o,l)},c}function tg(o,l,c){c=A5(-1,c),c.tag=3;var u=o.type.getDerivedStateFromError;if(typeof u=="function"){var v=l.value;c.payload=function(){return vo(o,l),u(v)}}var f=o.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(c.callback=function(){typeof u!="function"&&(wt===null?wt=new Set([this]):wt.add(this),vo(o,l));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})}),c}var EV=typeof WeakSet=="function"?WeakSet:Set;function ag(o){var l=o.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){F5(o,c)}else l.current=null}function TV(o,l){switch(l.tag){case 0:case 11:case 15:case 22:return;case 1:if(l.flags&256&&o!==null){var c=o.memoizedProps,u=o.memoizedState;o=l.stateNode,l=o.getSnapshotBeforeUpdate(l.elementType===l.type?c:tt(l.type,c),u),o.__reactInternalSnapshotBeforeUpdate=l}return;case 3:l.flags&256&&F9(l.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(K(163))}function RV(o,l,c){switch(c.tag){case 0:case 11:case 15:case 22:if(l=c.updateQueue,l=l!==null?l.lastEffect:null,l!==null){o=l=l.next;do{if((o.tag&3)==3){var u=o.create;o.destroy=u()}o=o.next}while(o!==l)}if(l=c.updateQueue,l=l!==null?l.lastEffect:null,l!==null){o=l=l.next;do{var v=o;u=v.next,v=v.tag,(v&4)!=0&&(v&1)!=0&&(zg(c,o),$V(c,o)),o=u}while(o!==l)}return;case 1:o=c.stateNode,c.flags&4&&(l===null?o.componentDidMount():(u=c.elementType===c.type?l.memoizedProps:tt(c.type,l.memoizedProps),o.componentDidUpdate(u,l.memoizedState,o.__reactInternalSnapshotBeforeUpdate))),l=c.updateQueue,l!==null&&fu(c,l,o);return;case 3:if(l=c.updateQueue,l!==null){if(o=null,c.child!==null)switch(c.child.tag){case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}fu(c,l,o)}return;case 5:o=c.stateNode,l===null&&c.flags&4&&Jd(c.type,c.memoizedProps)&&o.focus();return;case 6:return;case 4:return;case 12:return;case 13:c.memoizedState===null&&(c=c.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&gd(c))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(K(163))}function eg(o,l){for(var c=o;;){if(c.tag===5){var u=c.stateNode;if(l)u=u.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{u=c.stateNode;var v=c.memoizedProps.style;v=v!=null&&v.hasOwnProperty("display")?v.display:null,u.style.display=Xv("display",v)}}else if(c.tag===6)c.stateNode.nodeValue=l?"":c.memoizedProps;else if((c.tag!==23&&c.tag!==24||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function rg(o,l){if(p4&&typeof p4.onCommitFiberUnmount=="function")try{p4.onCommitFiberUnmount(T9,l)}catch(f){}switch(l.tag){case 0:case 11:case 14:case 15:case 22:if(o=l.updateQueue,o!==null&&(o=o.lastEffect,o!==null)){var c=o=o.next;do{var u=c,v=u.destroy;if(u=u.tag,v!==void 0)if((u&4)!=0)zg(l,c);else{u=l;try{v()}catch(f){F5(u,f)}}c=c.next}while(c!==o)}break;case 1:if(ag(l),o=l.stateNode,typeof o.componentWillUnmount=="function")try{o.props=l.memoizedProps,o.state=l.memoizedState,o.componentWillUnmount()}catch(f){F5(l,f)}break;case 5:ag(l);break;case 4:lg(o,l)}}function ng(o){o.alternate=null,o.child=null,o.dependencies=null,o.firstEffect=null,o.lastEffect=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.return=null,o.updateQueue=null}function og(o){return o.tag===5||o.tag===3||o.tag===4}function ig(o){t:{for(var l=o.return;l!==null;){if(og(l))break t;l=l.return}throw Error(K(160))}var c=l;switch(l=c.stateNode,c.tag){case 5:var u=!1;break;case 3:l=l.containerInfo,u=!0;break;case 4:l=l.containerInfo,u=!0;break;default:throw Error(K(161))}c.flags&16&&(Pa(l,""),c.flags&=-17);t:a:for(c=o;;){for(;c.sibling===null;){if(c.return===null||og(c.return)){c=null;break t}c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue a;c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break t}}u?uo(o,c,l):go(o,c,l)}function uo(o,l,c){var u=o.tag,v=u===5||u===6;if(v)o=v?o.stateNode:o.stateNode.instance,l?c.nodeType===8?c.parentNode.insertBefore(o,l):c.insertBefore(o,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(o,c)):(l=c,l.appendChild(o)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=lr));else if(u!==4&&(o=o.child,o!==null))for(uo(o,l,c),o=o.sibling;o!==null;)uo(o,l,c),o=o.sibling}function go(o,l,c){var u=o.tag,v=u===5||u===6;if(v)o=v?o.stateNode:o.stateNode.instance,l?c.insertBefore(o,l):c.appendChild(o);else if(u!==4&&(o=o.child,o!==null))for(go(o,l,c),o=o.sibling;o!==null;)go(o,l,c),o=o.sibling}function lg(o,l){for(var c=l,u=!1,v,f;;){if(!u){u=c.return;t:for(;;){if(u===null)throw Error(K(160));switch(v=u.stateNode,u.tag){case 5:f=!1;break t;case 3:v=v.containerInfo,f=!0;break t;case 4:v=v.containerInfo,f=!0;break t}u=u.return}u=!0}if(c.tag===5||c.tag===6){t:for(var x=o,H=c,M=H;;)if(rg(x,M),M.child!==null&&M.tag!==4)M.child.return=M,M=M.child;else{if(M===H)break t;for(;M.sibling===null;){if(M.return===null||M.return===H)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}f?(x=v,H=c.stateNode,x.nodeType===8?x.parentNode.removeChild(H):x.removeChild(H)):v.removeChild(c.stateNode)}else if(c.tag===4){if(c.child!==null){v=c.stateNode.containerInfo,f=!0,c.child.return=c,c=c.child;continue}}else if(rg(o,c),c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return,c.tag===4&&(u=!1)}c.sibling.return=c.return,c=c.sibling}}function po(o,l){switch(l.tag){case 0:case 11:case 14:case 15:case 22:var c=l.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var u=c=c.next;do(u.tag&3)==3&&(o=u.destroy,u.destroy=void 0,o!==void 0&&o()),u=u.next;while(u!==c)}return;case 1:return;case 5:if(c=l.stateNode,c!=null){u=l.memoizedProps;var v=o!==null?o.memoizedProps:u;o=l.type;var f=l.updateQueue;if(l.updateQueue=null,f!==null){for(c[hr]=u,o==="input"&&u.type==="radio"&&u.name!=null&&Uv(c,u),e9(o,v),l=e9(o,u),v=0;v<f.length;v+=2){var x=f[v],H=f[v+1];x==="style"?Jv(c,H):x==="dangerouslySetInnerHTML"?Yv(c,H):x==="children"?Pa(c,H):En(c,x,H,l)}switch(o){case"input":Qn(c,u);break;case"textarea":$v(c,u);break;case"select":o=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!u.multiple,f=u.value,f!=null?d3(c,!!u.multiple,f,!1):o!==!!u.multiple&&(u.defaultValue!=null?d3(c,!!u.multiple,u.defaultValue,!0):d3(c,!!u.multiple,u.multiple?[]:"",!1))}}}return;case 6:if(l.stateNode===null)throw Error(K(162));l.stateNode.nodeValue=l.memoizedProps;return;case 3:c=l.stateNode,c.hydrate&&(c.hydrate=!1,gd(c.containerInfo));return;case 12:return;case 13:l.memoizedState!==null&&(xo=P2(),eg(l.child,!0)),cg(l);return;case 19:cg(l);return;case 17:return;case 23:case 24:eg(l,l.memoizedState!==null);return}throw Error(K(163))}function cg(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new EV),l.forEach(function(u){var v=YV.bind(null,o,u);c.has(u)||(c.add(u),u.then(v,v))})}}function DV(o,l){return o!==null&&(o=o.memoizedState,o===null||o.dehydrated!==null)?(l=l.memoizedState,l!==null&&l.dehydrated===null):!1}var NV=Math.ceil,_r=h4.ReactCurrentDispatcher,zo=h4.ReactCurrentOwner,s1=0,$2=null,u2=null,T2=0,x4=0,fo=B5(0),_2=0,Sr=null,I3=0,p6=0,O3=0,Mo=0,mo=null,xo=0,Ho=Infinity;function F3(){Ho=P2()+500}var e1=null,Ir=!1,Vo=null,wt=null,_5=!1,z6=null,f6=90,wo=[],Lo=[],Gt=null,M6=0,Bo=null,Or=-1,$t=0,Fr=0,m6=null,Pr=!1;function m0(){return(s1&48)!=0?P2():Or!==-1?Or:Or=P2()}function S5(o){if(o=o.mode,(o&2)==0)return 1;if((o&4)==0)return A3()===99?1:2;if($t===0&&($t=I3),AV.transition!==0){Fr!==0&&(Fr=mo!==null?mo.pendingLanes:0),o=$t;var l=4186112&~Fr;return l&=-l,l===0&&(o=4186112&~o,l=o&-o,l===0&&(l=8192)),l}return o=A3(),(s1&4)!=0&&o===98?o=Ye(12,$t):(o=_H(o),o=Ye(o,$t)),o}function I5(o,l,c){if(50<M6)throw M6=0,Bo=null,Error(K(185));if(o=Er(o,l),o===null)return null;Xe(o,l,c),o===$2&&(O3|=l,_2===4&&P3(o,T2));var u=A3();l===1?(s1&8)!=0&&(s1&48)==0?ko(o):(O0(o,c),s1===0&&(F3(),mt())):((s1&4)==0||u!==98&&u!==99||(Gt===null?Gt=new Set([o]):Gt.add(o)),O0(o,c)),mo=o}function Er(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,c=o.alternate,c!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}function O0(o,l){for(var c=o.callbackNode,u=o.suspendedLanes,v=o.pingedLanes,f=o.expirationTimes,x=o.pendingLanes;0<x;){var H=31-V5(x),M=1<<H,y=f[H];if(y===-1){if((M&u)==0||(M&v)!=0){y=l,f3(M);var R=R1;f[H]=10<=R?y+250:6<=R?y+5e3:-1}}else y<=l&&(o.expiredLanes|=M);x&=~M}if(u=qa(o,o===$2?T2:0),l=R1,u===0)c!==null&&(c!==j9&&D9(c),o.callbackNode=null,o.callbackPriority=0);else{if(c!==null){if(o.callbackPriority===l)return;c!==j9&&D9(c)}l===15?(c=ko.bind(null,o),Wt===null?(Wt=[c],gr=R9(ur,uu)):Wt.push(c),c=j9):l===14?c=e6(99,ko.bind(null,o)):(c=SH(l),c=e6(c,hg.bind(null,o))),o.callbackPriority=l,o.callbackNode=c}}function hg(o){if(Or=-1,Fr=$t=0,(s1&48)!=0)throw Error(K(327));var l=o.callbackNode;if(O5()&&o.callbackNode!==l)return null;var c=qa(o,o===$2?T2:0);if(c===0)return null;var u=c,v=s1;s1|=16;var f=ug();($2!==o||T2!==u)&&(F3(),E3(o,u));do try{UV();break}catch(H){dg(o,H)}while(1);if(U9(),_r.current=f,s1=v,u2!==null?u=0:($2=null,T2=0,u=_2),(I3&O3)!=0)E3(o,0);else if(u!==0){if(u===2&&(s1|=64,o.hydrate&&(o.hydrate=!1,F9(o.containerInfo)),c=Hd(o),c!==0&&(u=x6(o,c))),u===1)throw l=Sr,E3(o,0),P3(o,c),O0(o,P2()),l;switch(o.finishedWork=o.current.alternate,o.finishedLanes=c,u){case 0:case 1:throw Error(K(345));case 2:H4(o);break;case 3:if(P3(o,c),(c&62914560)===c&&(u=xo+500-P2(),10<u)){if(qa(o,0)!==0)break;if(v=o.suspendedLanes,(v&c)!==c){m0(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Zd(H4.bind(null,o),u);break}H4(o);break;case 4:if(P3(o,c),(c&4186112)===c)break;for(u=o.eventTimes,v=-1;0<c;){var x=31-V5(c);f=1<<x,x=u[x],x>v&&(v=x),c&=~f}if(c=v,c=P2()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*NV(c/1960))-c,10<c){o.timeoutHandle=Zd(H4.bind(null,o),c);break}H4(o);break;case 5:H4(o);break;default:throw Error(K(329))}}return O0(o,P2()),o.callbackNode===l?hg.bind(null,o):null}function P3(o,l){for(l&=~Mo,l&=~O3,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-V5(l),u=1<<c;o[c]=-1,l&=~u}}function ko(o){if((s1&48)!=0)throw Error(K(327));if(O5(),o===$2&&(o.expiredLanes&T2)!=0){var l=T2,c=x6(o,l);(I3&O3)!=0&&(l=qa(o,l),c=x6(o,l))}else l=qa(o,0),c=x6(o,l);if(o.tag!==0&&c===2&&(s1|=64,o.hydrate&&(o.hydrate=!1,F9(o.containerInfo)),l=Hd(o),l!==0&&(c=x6(o,l))),c===1)throw c=Sr,E3(o,0),P3(o,l),O0(o,P2()),c;return o.finishedWork=o.current.alternate,o.finishedLanes=l,H4(o),O0(o,P2()),null}function jV(){if(Gt!==null){var o=Gt;Gt=null,o.forEach(function(l){l.expiredLanes|=24&l.pendingLanes,O0(l,P2())})}mt()}function sg(o,l){var c=s1;s1|=1;try{return o(l)}finally{s1=c,s1===0&&(F3(),mt())}}function vg(o,l){var c=s1;s1&=-2,s1|=8;try{return o(l)}finally{s1=c,s1===0&&(F3(),mt())}}function Tr(o,l){Z1(fo,x4),x4|=l,I3|=l}function Co(){x4=fo.current,W1(fo)}function E3(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,VV(c)),u2!==null)for(c=u2.return;c!==null;){var u=c;switch(u.tag){case 1:u=u.type.childContextTypes,u!=null&&vr();break;case 3:_3(),W1(r0),W1(F2),J9();break;case 5:Q9(u);break;case 4:_3();break;case 13:W1(t2);break;case 19:W1(t2);break;case 10:q9(u);break;case 23:case 24:Co()}c=c.return}$2=o,u2=P5(o.current,null),T2=x4=I3=l,_2=0,Sr=null,Mo=O3=p6=0}function dg(o,l){do{var c=u2;try{if(U9(),c6.current=br,Br){for(var u=n2.memoizedState;u!==null;){var v=u.queue;v!==null&&(v.pending=null),u=u.next}Br=!1}if(h6=0,y2=E2=n2=null,s6=!1,zo.current=null,c===null||c.return===null){_2=1,Sr=l,u2=null;break}t:{var f=o,x=c.return,H=c,M=l;if(l=T2,H.flags|=2048,H.firstEffect=H.lastEffect=null,M!==null&&typeof M=="object"&&typeof M.then=="function"){var y=M;if((H.mode&2)==0){var R=H.alternate;R?(H.updateQueue=R.updateQueue,H.memoizedState=R.memoizedState,H.lanes=R.lanes):(H.updateQueue=null,H.memoizedState=null)}var U=(t2.current&1)!=0,T=x;do{var W;if(W=T.tag===13){var X=T.memoizedState;if(X!==null)W=X.dehydrated!==null;else{var q=T.memoizedProps;W=q.fallback===void 0?!1:q.unstable_avoidThisFallback!==!0?!0:!U}}if(W){var I=T.updateQueue;if(I===null){var A=new Set;A.add(y),T.updateQueue=A}else I.add(y);if((T.mode&2)==0){if(T.flags|=64,H.flags|=16384,H.flags&=-2981,H.tag===1)if(H.alternate===null)H.tag=17;else{var b=A5(-1,1);b.tag=2,b5(H,b)}H.lanes|=1;break t}M=void 0,H=l;var O=f.pingCache;if(O===null?(O=f.pingCache=new PV,M=new Set,O.set(y,M)):(M=O.get(y),M===void 0&&(M=new Set,O.set(y,M))),!M.has(H)){M.add(H);var P=QV.bind(null,f,y,H);y.then(P,P)}T.flags|=4096,T.lanes=l;break t}T=T.return}while(T!==null);M=Error((v3(H.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}_2!==5&&(_2=2),M=so(M,H),T=x;do{switch(T.tag){case 3:f=M,T.flags|=4096,l&=-l,T.lanes|=l;var Z=Zu(T,f,l);zu(T,Z);break t;case 1:f=M;var G=T.type,t1=T.stateNode;if((T.flags&64)==0&&(typeof G.getDerivedStateFromError=="function"||t1!==null&&typeof t1.componentDidCatch=="function"&&(wt===null||!wt.has(t1)))){T.flags|=4096,l&=-l,T.lanes|=l;var o1=tg(T,f,l);zu(T,o1);break t}}T=T.return}while(T!==null)}pg(c)}catch(r1){l=r1,u2===c&&c!==null&&(u2=c=c.return);continue}break}while(1)}function ug(){var o=_r.current;return _r.current=br,o===null?br:o}function x6(o,l){var c=s1;s1|=16;var u=ug();$2===o&&T2===l||E3(o,l);do try{WV();break}catch(v){dg(o,v)}while(1);if(U9(),s1=c,_r.current=u,u2!==null)throw Error(K(261));return $2=null,T2=0,_2}function WV(){for(;u2!==null;)gg(u2)}function UV(){for(;u2!==null&&!BV();)gg(u2)}function gg(o){var l=Mg(o.alternate,o,x4);o.memoizedProps=o.pendingProps,l===null?pg(o):u2=l,zo.current=null}function pg(o){var l=o;do{var c=l.alternate;if(o=l.return,(l.flags&2048)==0){if(c=OV(c,l,x4),c!==null){u2=c;return}if(c=l,c.tag!==24&&c.tag!==23||c.memoizedState===null||(x4&1073741824)!=0||(c.mode&4)==0){for(var u=0,v=c.child;v!==null;)u|=v.lanes|v.childLanes,v=v.sibling;c.childLanes=u}o!==null&&(o.flags&2048)==0&&(o.firstEffect===null&&(o.firstEffect=l.firstEffect),l.lastEffect!==null&&(o.lastEffect!==null&&(o.lastEffect.nextEffect=l.firstEffect),o.lastEffect=l.lastEffect),1<l.flags&&(o.lastEffect!==null?o.lastEffect.nextEffect=l:o.firstEffect=l,o.lastEffect=l))}else{if(c=FV(l),c!==null){c.flags&=2047,u2=c;return}o!==null&&(o.firstEffect=o.lastEffect=null,o.flags|=2048)}if(l=l.sibling,l!==null){u2=l;return}u2=l=o}while(l!==null);_2===0&&(_2=5)}function H4(o){var l=A3();return z4(99,qV.bind(null,o,l)),null}function qV(o,l){do O5();while(z6!==null);if((s1&48)!=0)throw Error(K(327));var c=o.finishedWork;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(K(177));o.callbackNode=null;var u=c.lanes|c.childLanes,v=u,f=o.pendingLanes&~v;o.pendingLanes=v,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=v,o.mutableReadLanes&=v,o.entangledLanes&=v,v=o.entanglements;for(var x=o.eventTimes,H=o.expirationTimes;0<f;){var M=31-V5(f),y=1<<M;v[M]=0,x[M]=-1,H[M]=-1,f&=~y}if(Gt!==null&&(u&24)==0&&Gt.has(o)&&Gt.delete(o),o===$2&&(u2=$2=null,T2=0),1<c.flags?c.lastEffect!==null?(c.lastEffect.nextEffect=c,u=c.firstEffect):u=c:u=c.firstEffect,u!==null){if(v=s1,s1|=32,zo.current=null,S9=Je,x=Dd(),A9(x)){if("selectionStart"in x)H={start:x.selectionStart,end:x.selectionEnd};else t:if(H=(H=x.ownerDocument)&&H.defaultView||window,(y=H.getSelection&&H.getSelection())&&y.rangeCount!==0){H=y.anchorNode,f=y.anchorOffset,M=y.focusNode,y=y.focusOffset;try{H.nodeType,M.nodeType}catch(r1){H=null;break t}var R=0,U=-1,T=-1,W=0,X=0,q=x,I=null;a:for(;;){for(var A;q!==H||f!==0&&q.nodeType!==3||(U=R+f),q!==M||y!==0&&q.nodeType!==3||(T=R+y),q.nodeType===3&&(R+=q.nodeValue.length),(A=q.firstChild)!==null;)I=q,q=A;for(;;){if(q===x)break a;if(I===H&&++W===f&&(U=R),I===M&&++X===y&&(T=R),(A=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=A}H=U===-1||T===-1?null:{start:U,end:T}}else H=null;H=H||{start:0,end:0}}else H=null;I9={focusedElem:x,selectionRange:H},Je=!1,m6=null,Pr=!1,e1=u;do try{GV()}catch(r1){if(e1===null)throw Error(K(330));F5(e1,r1),e1=e1.nextEffect}while(e1!==null);m6=null,e1=u;do try{for(x=o;e1!==null;){var b=e1.flags;if(b&16&&Pa(e1.stateNode,""),b&128){var O=e1.alternate;if(O!==null){var P=O.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(b&1038){case 2:ig(e1),e1.flags&=-3;break;case 6:ig(e1),e1.flags&=-3,po(e1.alternate,e1);break;case 1024:e1.flags&=-1025;break;case 1028:e1.flags&=-1025,po(e1.alternate,e1);break;case 4:po(e1.alternate,e1);break;case 8:H=e1,lg(x,H);var Z=H.alternate;ng(H),Z!==null&&ng(Z)}e1=e1.nextEffect}}catch(r1){if(e1===null)throw Error(K(330));F5(e1,r1),e1=e1.nextEffect}while(e1!==null);if(P=I9,O=Dd(),b=P.focusedElem,x=P.selectionRange,O!==b&&b&&b.ownerDocument&&Rd(b.ownerDocument.documentElement,b)){for(x!==null&&A9(b)&&(O=x.start,P=x.end,P===void 0&&(P=O),"selectionStart"in b?(b.selectionStart=O,b.selectionEnd=Math.min(P,b.value.length)):(P=(O=b.ownerDocument||document)&&O.defaultView||window,P.getSelection&&(P=P.getSelection(),H=b.textContent.length,Z=Math.min(x.start,H),x=x.end===void 0?Z:Math.min(x.end,H),!P.extend&&Z>x&&(H=x,x=Z,Z=H),H=Td(b,Z),f=Td(b,x),H&&f&&(P.rangeCount!==1||P.anchorNode!==H.node||P.anchorOffset!==H.offset||P.focusNode!==f.node||P.focusOffset!==f.offset)&&(O=O.createRange(),O.setStart(H.node,H.offset),P.removeAllRanges(),Z>x?(P.addRange(O),P.extend(f.node,f.offset)):(O.setEnd(f.node,f.offset),P.addRange(O)))))),O=[],P=b;P=P.parentNode;)P.nodeType===1&&O.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<O.length;b++)P=O[b],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Je=!!S9,I9=S9=null,o.current=c,e1=u;do try{for(b=o;e1!==null;){var G=e1.flags;if(G&36&&RV(b,e1.alternate,e1),G&128){O=void 0;var t1=e1.ref;if(t1!==null){var o1=e1.stateNode;switch(e1.tag){case 5:O=o1;break;default:O=o1}typeof t1=="function"?t1(O):t1.current=O}}e1=e1.nextEffect}}catch(r1){if(e1===null)throw Error(K(330));F5(e1,r1),e1=e1.nextEffect}while(e1!==null);e1=null,CV(),s1=v}else o.current=c;if(_5)_5=!1,z6=o,f6=l;else for(e1=u;e1!==null;)l=e1.nextEffect,e1.nextEffect=null,e1.flags&8&&(G=e1,G.sibling=null,G.stateNode=null),e1=l;if(u=o.pendingLanes,u===0&&(wt=null),u===1?o===Bo?M6++:(M6=0,Bo=o):M6=0,c=c.stateNode,p4&&typeof p4.onCommitFiberRoot=="function")try{p4.onCommitFiberRoot(T9,c,void 0,(c.current.flags&64)==64)}catch(r1){}if(O0(o,P2()),Ir)throw Ir=!1,o=Vo,Vo=null,o;return(s1&8)!=0||mt(),null}function GV(){for(;e1!==null;){var o=e1.alternate;Pr||m6===null||((e1.flags&8)!=0?ld(e1,m6)&&(Pr=!0):e1.tag===13&&DV(o,e1)&&ld(e1,m6)&&(Pr=!0));var l=e1.flags;(l&256)!=0&&TV(o,e1),(l&512)==0||_5||(_5=!0,e6(97,function(){return O5(),null})),e1=e1.nextEffect}}function O5(){if(f6!==90){var o=97<f6?97:f6;return f6=90,z4(o,KV)}return!1}function $V(o,l){wo.push(l,o),_5||(_5=!0,e6(97,function(){return O5(),null}))}function zg(o,l){Lo.push(l,o),_5||(_5=!0,e6(97,function(){return O5(),null}))}function KV(){if(z6===null)return!1;var o=z6;if(z6=null,(s1&48)!=0)throw Error(K(331));var l=s1;s1|=32;var c=Lo;Lo=[];for(var u=0;u<c.length;u+=2){var v=c[u],f=c[u+1],x=v.destroy;if(v.destroy=void 0,typeof x=="function")try{x()}catch(M){if(f===null)throw Error(K(330));F5(f,M)}}for(c=wo,wo=[],u=0;u<c.length;u+=2){v=c[u],f=c[u+1];try{var H=v.create;v.destroy=H()}catch(M){if(f===null)throw Error(K(330));F5(f,M)}}for(H=o.current.firstEffect;H!==null;)o=H.nextEffect,H.nextEffect=null,H.flags&8&&(H.sibling=null,H.stateNode=null),H=o;return s1=l,mt(),!0}function fg(o,l,c){l=so(c,l),l=Zu(o,l,1),b5(o,l),l=m0(),o=Er(o,1),o!==null&&(Xe(o,1,l),O0(o,l))}function F5(o,l){if(o.tag===3)fg(o,o,l);else for(var c=o.return;c!==null;){if(c.tag===3){fg(c,o,l);break}else if(c.tag===1){var u=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wt===null||!wt.has(u))){o=so(l,o);var v=tg(c,o,1);if(b5(c,v),v=m0(),c=Er(c,1),c!==null)Xe(c,1,v),O0(c,v);else if(typeof u.componentDidCatch=="function"&&(wt===null||!wt.has(u)))try{u.componentDidCatch(l,o)}catch(f){}break}}c=c.return}}function QV(o,l,c){var u=o.pingCache;u!==null&&u.delete(l),l=m0(),o.pingedLanes|=o.suspendedLanes&c,$2===o&&(T2&c)===c&&(_2===4||_2===3&&(T2&62914560)===T2&&500>P2()-xo?E3(o,0):Mo|=c),O0(o,l)}function YV(o,l){var c=o.stateNode;c!==null&&c.delete(l),l=0,l===0&&(l=o.mode,(l&2)==0?l=1:(l&4)==0?l=A3()===99?1:2:($t===0&&($t=I3),l=M3(62914560&~$t),l===0&&(l=4194304))),c=m0(),o=Er(o,l),o!==null&&(Xe(o,l,c),O0(o,c))}var Mg;Mg=function(o,l,c){var u=l.lanes;if(o!==null)if(o.memoizedProps!==l.pendingProps||r0.current)at=!0;else if((c&u)!=0)at=(o.flags&16384)!=0;else{switch(at=!1,l.tag){case 3:Wu(l),X9();break;case 5:Lu(l);break;case 1:n0(l.type)&&dr(l);break;case 4:K9(l,l.stateNode.containerInfo);break;case 10:u=l.memoizedProps.value;var v=l.type._context;Z1(pr,v._currentValue),v._currentValue=u;break;case 13:if(l.memoizedState!==null)return(c&l.child.childLanes)!=0?Uu(o,l,c):(Z1(t2,t2.current&1),l=qt(o,l,c),l!==null?l.sibling:null);Z1(t2,t2.current&1);break;case 19:if(u=(c&l.childLanes)!=0,(o.flags&64)!=0){if(u)return Qu(o,l,c);l.flags|=64}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Z1(t2,t2.current),u)break;return null;case 23:case 24:return l.lanes=0,oo(o,l,c)}return qt(o,l,c)}else at=!1;switch(l.lanes=0,l.tag){case 2:if(u=l.type,o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps,v=C3(l,F2.current),y3(l,c),v=to(null,l,u,o,v,c),l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0){if(l.tag=1,l.memoizedState=null,l.updateQueue=null,n0(u)){var f=!0;dr(l)}else f=!1;l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,G9(l);var x=u.getDerivedStateFromProps;typeof x=="function"&&Mr(l,u,x,o),v.updater=mr,l.stateNode=v,v._reactInternals=l,$9(l,u,o,c),l=lo(null,l,u,!0,f,c)}else l.tag=0,i0(null,l,v,c),l=l.child;return l;case 16:v=l.elementType;t:{switch(o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),o=l.pendingProps,f=v._init,v=f(v._payload),l.type=v,f=l.tag=JV(v),o=tt(v,o),f){case 0:l=io(null,l,v,o,c);break t;case 1:l=ju(null,l,v,o,c);break t;case 11:l=Tu(null,l,v,o,c);break t;case 14:l=Ru(null,l,v,tt(v.type,o),u,c);break t}throw Error(K(306,v,""))}return l;case 0:return u=l.type,v=l.pendingProps,v=l.elementType===u?v:tt(u,v),io(o,l,u,v,c);case 1:return u=l.type,v=l.pendingProps,v=l.elementType===u?v:tt(u,v),ju(o,l,u,v,c);case 3:if(Wu(l),u=l.updateQueue,o===null||u===null)throw Error(K(282));if(u=l.pendingProps,v=l.memoizedState,v=v!==null?v.element:null,pu(o,l),r6(l,u,null,c),u=l.memoizedState.element,u===v)X9(),l=qt(o,l,c);else{if(v=l.stateNode,(f=v.hydrate)&&(y5=w3(l.stateNode.containerInfo.firstChild),Ut=l,f=Ht=!0),f){if(o=v.mutableSourceEagerHydrationData,o!=null)for(v=0;v<o.length;v+=2)f=o[v],f._workInProgressVersionPrimary=o[v+1],S3.push(f);for(c=wu(l,null,u,c),l.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else i0(o,l,u,c),X9();l=l.child}return l;case 5:return Lu(l),o===null&&Y9(l),u=l.type,v=l.pendingProps,f=o!==null?o.memoizedProps:null,x=v.children,O9(u,v)?x=null:f!==null&&O9(u,f)&&(l.flags|=16),Nu(o,l),i0(o,l,x,c),l.child;case 6:return o===null&&Y9(l),null;case 13:return Uu(o,l,c);case 4:return K9(l,l.stateNode.containerInfo),u=l.pendingProps,o===null?l.child=Vr(l,null,u,c):i0(o,l,u,c),l.child;case 11:return u=l.type,v=l.pendingProps,v=l.elementType===u?v:tt(u,v),Tu(o,l,u,v,c);case 7:return i0(o,l,l.pendingProps,c),l.child;case 8:return i0(o,l,l.pendingProps.children,c),l.child;case 12:return i0(o,l,l.pendingProps.children,c),l.child;case 10:t:{u=l.type._context,v=l.pendingProps,x=l.memoizedProps,f=v.value;var H=l.type._context;if(Z1(pr,H._currentValue),H._currentValue=f,x!==null)if(H=x.value,f=_0(H,f)?0:(typeof u._calculateChangedBits=="function"?u._calculateChangedBits(H,f):1073741823)|0,f===0){if(x.children===v.children&&!r0.current){l=qt(o,l,c);break t}}else for(H=l.child,H!==null&&(H.return=l);H!==null;){var M=H.dependencies;if(M!==null){x=H.child;for(var y=M.firstContext;y!==null;){if(y.context===u&&(y.observedBits&f)!=0){H.tag===1&&(y=A5(-1,c&-c),y.tag=2,b5(H,y)),H.lanes|=c,y=H.alternate,y!==null&&(y.lanes|=c),gu(H.return,c),M.lanes|=c;break}y=y.next}}else x=H.tag===10&&H.type===l.type?null:H.child;if(x!==null)x.return=H;else for(x=H;x!==null;){if(x===l){x=null;break}if(H=x.sibling,H!==null){H.return=x.return,x=H;break}x=x.return}H=x}i0(o,l,v.children,c),l=l.child}return l;case 9:return v=l.type,f=l.pendingProps,u=f.children,y3(l,c),v=S0(v,f.unstable_observedBits),u=u(v),l.flags|=1,i0(o,l,u,c),l.child;case 14:return v=l.type,f=tt(v,l.pendingProps),f=tt(v.type,f),Ru(o,l,v,f,u,c);case 15:return Du(o,l,l.type,l.pendingProps,u,c);case 17:return u=l.type,v=l.pendingProps,v=l.elementType===u?v:tt(u,v),o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2),l.tag=1,n0(u)?(o=!0,dr(l)):o=!1,y3(l,c),xu(l,u,v),$9(l,u,v,c),lo(null,l,u,!0,o,c);case 19:return Qu(o,l,c);case 23:return oo(o,l,c);case 24:return oo(o,l,c)}throw Error(K(156,l.tag))};function XV(o,l,c,u){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function F0(o,l,c,u){return new XV(o,l,c,u)}function Ao(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JV(o){if(typeof o=="function")return Ao(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Te)return 11;if(o===De)return 14}return 2}function P5(o,l){var c=o.alternate;return c===null?(c=F0(o.tag,l,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Rr(o,l,c,u,v,f){var x=2;if(u=o,typeof o=="function")Ao(o)&&(x=1);else if(typeof o=="string")x=5;else t:switch(o){case f5:return T3(c.children,v,f,l);case Rv:x=8,v|=16;break;case Tn:x=8,v|=1;break;case Sa:return o=F0(12,c,l,v|8),o.elementType=Sa,o.type=Sa,o.lanes=f,o;case Ia:return o=F0(13,c,l,v),o.type=Ia,o.elementType=Ia,o.lanes=f,o;case Re:return o=F0(19,c,l,v),o.elementType=Re,o.lanes=f,o;case Un:return bo(c,v,f,l);case qn:return o=F0(24,c,l,v),o.elementType=qn,o.lanes=f,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Rn:x=10;break t;case Dn:x=9;break t;case Te:x=11;break t;case De:x=14;break t;case Nn:x=16,u=null;break t;case jn:x=22;break t}throw Error(K(130,o==null?o:typeof o,""))}return l=F0(x,c,l,v),l.elementType=o,l.type=u,l.lanes=f,l}function T3(o,l,c,u){return o=F0(7,o,u,l),o.lanes=c,o}function bo(o,l,c,u){return o=F0(23,o,u,l),o.elementType=Un,o.lanes=c,o}function yo(o,l,c){return o=F0(6,o,null,l),o.lanes=c,o}function _o(o,l,c){return l=F0(4,o.children!==null?o.children:[],o.key,l),l.lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function ZV(o,l,c){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=f9(0),this.expirationTimes=f9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f9(0),this.mutableSourceEagerHydrationData=null}function tw(o,l,c){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s4,key:u==null?null:""+u,children:o,containerInfo:l,implementation:c}}function Dr(o,l,c,u){var v=l.current,f=m0(),x=S5(v);t:if(c){c=c._reactInternals;a:{if(d4(c)!==c||c.tag!==1)throw Error(K(170));var H=c;do{switch(H.tag){case 3:H=H.stateNode.context;break a;case 1:if(n0(H.type)){H=H.stateNode.__reactInternalMemoizedMergedChildContext;break a}}H=H.return}while(H!==null);throw Error(K(171))}if(c.tag===1){var M=c.type;if(n0(M)){c=nu(c,M,H);break t}}c=H}else c=k5;return l.context===null?l.context=c:l.pendingContext=c,l=A5(f,x),l.payload={element:o},u=u===void 0?null:u,u!==null&&(l.callback=u),b5(v,l),I5(v,x,f),x}function So(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function mg(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function Io(o,l){mg(o,l),(o=o.alternate)&&mg(o,l)}function aw(){return null}function Oo(o,l,c){var u=c!=null&&c.hydrationOptions!=null&&c.hydrationOptions.mutableSources||null;if(c=new ZV(o,l,c!=null&&c.hydrate===!0),l=F0(3,null,null,l===2?7:l===1?3:0),c.current=l,l.stateNode=c,G9(l),o[L3]=c.current,$d(o.nodeType===8?o.parentNode:o),u)for(o=0;o<u.length;o++){l=u[o];var v=l._getVersion;v=v(l._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[l,v]:c.mutableSourceEagerHydrationData.push(l,v)}this._internalRoot=c}Oo.prototype.render=function(o){Dr(o,this._internalRoot,null,null)};Oo.prototype.unmount=function(){var o=this._internalRoot,l=o.containerInfo;Dr(null,o,null,function(){l[L3]=null})};function H6(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ew(o,l){if(l||(l=o?o.nodeType===9?o.documentElement:o.firstChild:null,l=!(!l||l.nodeType!==1||!l.hasAttribute("data-reactroot"))),!l)for(var c;c=o.lastChild;)o.removeChild(c);return new Oo(o,0,l?{hydrate:!0}:void 0)}function Nr(o,l,c,u,v){var f=c._reactRootContainer;if(f){var x=f._internalRoot;if(typeof v=="function"){var H=v;v=function(){var y=So(x);H.call(y)}}Dr(l,x,o,v)}else{if(f=c._reactRootContainer=ew(c,u),x=f._internalRoot,typeof v=="function"){var M=v;v=function(){var y=So(x);M.call(y)}}vg(function(){Dr(l,x,o,v)})}return So(x)}cd=function(o){if(o.tag===13){var l=m0();I5(o,4,l),Io(o,4)}};v9=function(o){if(o.tag===13){var l=m0();I5(o,67108864,l),Io(o,67108864)}};hd=function(o){if(o.tag===13){var l=m0(),c=S5(o);I5(o,c,l),Io(o,c)}};sd=function(o,l){return l()};n9=function(o,l,c){switch(l){case"input":if(Qn(o,c),l=c.name,c.type==="radio"&&l!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var u=c[l];if(u!==o&&u.form===o.form){var v=sr(u);if(!v)throw Error(K(90));jv(u),Qn(u,v)}}}break;case"textarea":$v(o,c);break;case"select":l=c.value,l!=null&&d3(o,!!c.multiple,l,!1)}};o9=sg;ed=function(o,l,c,u,v){var f=s1;s1|=4;try{return z4(98,o.bind(null,l,c,u,v))}finally{s1=f,s1===0&&(F3(),mt())}};i9=function(){(s1&49)==0&&(jV(),O5())};rd=function(o,l){var c=s1;s1|=2;try{return o(l)}finally{s1=c,s1===0&&(F3(),mt())}};function xg(o,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H6(l))throw Error(K(200));return tw(o,l,null,c)}var rw={Events:[a6,B3,sr,td,ad,O5,{current:!1}]},V6={findFiberByHostInstance:u4,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},nw={bundleType:V6.bundleType,version:V6.version,rendererPackageName:V6.rendererPackageName,rendererConfig:V6.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h4.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=id(o),o===null?null:o.stateNode},findFiberByHostInstance:V6.findFiberByHostInstance||aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(w6=__REACT_DEVTOOLS_GLOBAL_HOOK__,!w6.isDisabled&&w6.supportsFiber))try{T9=w6.inject(nw),p4=w6}catch(o){}var w6;P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rw;P0.createPortal=xg;P0.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(K(188)):Error(K(268,Object.keys(o)));return o=id(l),o=o===null?null:o.stateNode,o};P0.flushSync=function(o,l){var c=s1;if((c&48)!=0)return o(l);s1|=1;try{if(o)return z4(99,o.bind(null,l))}finally{s1=c,mt()}};P0.hydrate=function(o,l,c){if(!H6(l))throw Error(K(200));return Nr(null,o,l,!0,c)};P0.render=function(o,l,c){if(!H6(l))throw Error(K(200));return Nr(null,o,l,!1,c)};P0.unmountComponentAtNode=function(o){if(!H6(o))throw Error(K(40));return o._reactRootContainer?(vg(function(){Nr(null,null,o,!1,function(){o._reactRootContainer=null,o[L3]=null})}),!0):!1};P0.unstable_batchedUpdates=sg;P0.unstable_createPortal=function(o,l){return xg(o,l,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};P0.unstable_renderSubtreeIntoContainer=function(o,l,c,u){if(!H6(c))throw Error(K(200));if(o==null||o._reactInternals===void 0)throw Error(K(38));return Nr(o,l,c,!1,u)};P0.version="17.0.2"});var Lg=Rt((Nw,wg)=>{"use strict";function Vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vg)}catch(o){console.error(o)}}Vg(),wg.exports=Hg()});var bg=Rt((R2,Po)=>{(function(o,l){typeof R2=="object"&&typeof Po=="object"?Po.exports=l(zt()):typeof define=="function"&&define.amd?define(["react"],l):typeof R2=="object"?R2.CKEditor=l(zt()):o.CKEditor=l(o.React)})(window,function(o){return function(l){var c={};function u(v){if(c[v])return c[v].exports;var f=c[v]={i:v,l:!1,exports:{}};return l[v].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=l,u.c=c,u.d=function(v,f,x){u.o(v,f)||Object.defineProperty(v,f,{enumerable:!0,get:x})},u.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},u.t=function(v,f){if(1&f&&(v=u(v)),8&f||4&f&&typeof v=="object"&&v&&v.__esModule)return v;var x=Object.create(null);if(u.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:v}),2&f&&typeof v!="string")for(var H in v)u.d(x,H,function(M){return v[M]}.bind(null,H));return x},u.n=function(v){var f=v&&v.__esModule?function(){return v.default}:function(){return v};return u.d(f,"a",f),f},u.o=function(v,f){return Object.prototype.hasOwnProperty.call(v,f)},u.p="",u(u.s=12)}([function(l,c,u){"use strict";var v=u(4),f=typeof self=="object"&&self&&self.Object===Object&&self,x=v.a||f||Function("return this")();c.a=x},function(l,c,u){l.exports=u(9)()},function(l,c,u){"use strict";(function(v){var f=u(4),x=typeof R2=="object"&&R2&&!R2.nodeType&&R2,H=x&&typeof v=="object"&&v&&!v.nodeType&&v,M=H&&H.exports===x&&f.a.process,y=function(){try{var R=H&&H.require&&H.require("util").types;return R||M&&M.binding&&M.binding("util")}catch(U){}}();c.a=y}).call(this,u(6)(l))},function(l,c){l.exports=o},function(l,c,u){"use strict";(function(v){var f=typeof v=="object"&&v&&v.Object===Object&&v;c.a=f}).call(this,u(11))},function(l,c,u){"use strict";(function(v){var f=u(0),x=u(7),H=typeof R2=="object"&&R2&&!R2.nodeType&&R2,M=H&&typeof v=="object"&&v&&!v.nodeType&&v,y=M&&M.exports===H?f.a.Buffer:void 0,R=(y?y.isBuffer:void 0)||x.a;c.a=R}).call(this,u(6)(l))},function(l,c){l.exports=function(u){if(!u.webpackPolyfill){var v=Object.create(u);v.children||(v.children=[]),Object.defineProperty(v,"loaded",{enumerable:!0,get:function(){return v.l}}),Object.defineProperty(v,"id",{enumerable:!0,get:function(){return v.i}}),Object.defineProperty(v,"exports",{enumerable:!0}),v.webpackPolyfill=1}return v}},function(l,c,u){"use strict";c.a=function(){return!1}},function(l,c,u){"use strict";(function(v){var f=u(0),x=typeof R2=="object"&&R2&&!R2.nodeType&&R2,H=x&&typeof v=="object"&&v&&!v.nodeType&&v,M=H&&H.exports===x?f.a.Buffer:void 0,y=M?M.allocUnsafe:void 0;c.a=function(R,U){if(U)return R.slice();var T=R.length,W=y?y(T):new R.constructor(T);return R.copy(W),W}}).call(this,u(6)(l))},function(l,c,u){"use strict";var v=u(10);function f(){}function x(){}x.resetWarningCache=f,l.exports=function(){function H(R,U,T,W,X,q){if(q!==v){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}function M(){return H}H.isRequired=H;var y={array:H,bool:H,func:H,number:H,object:H,string:H,symbol:H,any:H,arrayOf:M,element:H,elementType:H,instanceOf:M,node:H,objectOf:M,oneOf:M,oneOfType:M,shape:M,exact:M,checkPropTypes:x,resetWarningCache:f};return y.PropTypes=y,y}},function(l,c,u){"use strict";l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(l,c){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch(v){typeof window=="object"&&(u=window)}l.exports=u},function(l,c,u){"use strict";u.r(c),u.d(c,"CKEditor",function(){return ct}),u.d(c,"CKEditorContext",function(){return na});var v=u(3),f=u.n(v),x=u(1),H=u.n(x),M=function(w){var L=typeof w;return w!=null&&(L=="object"||L=="function")},y=u(0),R=function(){return y.a.Date.now()},U=/\s/,T=function(w){for(var L=w.length;L--&&U.test(w.charAt(L)););return L},W=/^\s+/,X=function(w){return w&&w.slice(0,T(w)+1).replace(W,"")},q=y.a.Symbol,I=Object.prototype,A=I.hasOwnProperty,b=I.toString,O=q?q.toStringTag:void 0,P=function(w){var L=A.call(w,O),_=w[O];try{w[O]=void 0;var E=!0}catch(d1){}var a1=b.call(w);return E&&(L?w[O]=_:delete w[O]),a1},Z=Object.prototype.toString,G=function(w){return Z.call(w)},t1=q?q.toStringTag:void 0,o1=function(w){return w==null?w===void 0?"[object Undefined]":"[object Null]":t1&&t1 in Object(w)?P(w):G(w)},r1=function(w){return w!=null&&typeof w=="object"},g2=function(w){return typeof w=="symbol"||r1(w)&&o1(w)=="[object Symbol]"},E0=/^[-+]0x[0-9a-f]+$/i,Kt=/^0b[01]+$/i,l0=/^0o[0-7]+$/i,E5=parseInt,c0=function(w){if(typeof w=="number")return w;if(g2(w))return NaN;if(M(w)){var L=typeof w.valueOf=="function"?w.valueOf():w;w=M(L)?L+"":L}if(typeof w!="string")return w===0?w:+w;w=X(w);var _=Kt.test(w);return _||l0.test(w)?E5(w.slice(2),_?2:8):E0.test(w)?NaN:+w},T5=Math.max,R5=Math.min,z1=function(w,L,_){var E,a1,d1,m1,v1,G1,l1=0,h5=!1,ht=!1,s2=!0;if(typeof w!="function")throw new TypeError("Expected a function");function bt(u1){var G0=E,I4=a1;return E=a1=void 0,l1=u1,m1=w.apply(I4,G0)}function $5(u1){return l1=u1,v1=setTimeout(E1,L),h5?bt(u1):m1}function K5(u1){var G0=u1-G1;return G1===void 0||G0>=L||G0<0||ht&&u1-l1>=d1}function E1(){var u1=R();if(K5(u1))return X1(u1);v1=setTimeout(E1,function(G0){var I4=L-(G0-G1);return ht?R5(I4,d1-(G0-l1)):I4}(u1))}function X1(u1){return v1=void 0,s2&&E?bt(u1):(E=a1=void 0,m1)}function Q5(){var u1=R(),G0=K5(u1);if(E=arguments,a1=this,G1=u1,G0){if(v1===void 0)return $5(G1);if(ht)return clearTimeout(v1),v1=setTimeout(E1,L),bt(G1)}return v1===void 0&&(v1=setTimeout(E1,L)),m1}return L=c0(L)||0,M(_)&&(h5=!!_.leading,d1=(ht="maxWait"in _)?T5(c0(_.maxWait)||0,L):d1,s2="trailing"in _?!!_.trailing:s2),Q5.cancel=function(){v1!==void 0&&clearTimeout(v1),l1=0,E=G1=a1=v1=void 0},Q5.flush=function(){return v1===void 0?m1:X1(R())},Q5},a2=function(w,L,_){var E=!0,a1=!0;if(typeof w!="function")throw new TypeError("Expected a function");return M(_)&&(E="leading"in _?!!_.leading:E,a1="trailing"in _?!!_.trailing:a1),z1(w,L,{leading:E,maxWait:L,trailing:a1})},Q1=function(){this.__data__=[],this.size=0},f1=function(w,L){return w===L||w!=w&&L!=L},V2=function(w,L){for(var _=w.length;_--;)if(f1(w[_][0],L))return _;return-1},T0=Array.prototype.splice,et=function(w){var L=this.__data__,_=V2(L,w);return!(_<0)&&(_==L.length-1?L.pop():T0.call(L,_,1),--this.size,!0)},Qt=function(w){var L=this.__data__,_=V2(L,w);return _<0?void 0:L[_][1]},Yt=function(w){return V2(this.__data__,w)>-1},Xt=function(w,L){var _=this.__data__,E=V2(_,w);return E<0?(++this.size,_.push([w,L])):_[E][1]=L,this};function x0(w){var L=-1,_=w==null?0:w.length;for(this.clear();++L<_;){var E=w[L];this.set(E[0],E[1])}}x0.prototype.clear=Q1,x0.prototype.delete=et,x0.prototype.get=Qt,x0.prototype.has=Yt,x0.prototype.set=Xt;var w2=x0,h0=function(){this.__data__=new w2,this.size=0},R0=function(w){var L=this.__data__,_=L.delete(w);return this.size=L.size,_},h2=function(w){return this.__data__.get(w)},B1=function(w){return this.__data__.has(w)},N2,o2=function(w){if(!M(w))return!1;var L=o1(w);return L=="[object Function]"||L=="[object GeneratorFunction]"||L=="[object AsyncFunction]"||L=="[object Proxy]"},i2=y.a["__core-js_shared__"],s0=(N2=/[^.]+$/.exec(i2&&i2.keys&&i2.keys.IE_PROTO||""))?"Symbol(src)_1."+N2:"",H0=function(w){return!!s0&&s0 in w},v0=Function.prototype.toString,K2=function(w){if(w!=null){try{return v0.call(w)}catch(L){}try{return w+""}catch(L){}}return""},D0=/^\[object .+?Constructor\]$/,N0=Function.prototype,j0=Object.prototype,rt=N0.toString,nt=j0.hasOwnProperty,J=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_1=function(w){return!(!M(w)||H0(w))&&(o2(w)?J:D0).test(K2(w))},q1=function(w,L){return w==null?void 0:w[L]},j2=function(w,L){var _=q1(w,L);return _1(_)?_:void 0},W0=j2(y.a,"Map"),ot=j2(Object,"create"),k1=function(){this.__data__=ot?ot(null):{},this.size=0},D5=function(w){var L=this.has(w)&&delete this.__data__[w];return this.size-=L?1:0,L},N5=Object.prototype.hasOwnProperty,V4=function(w){var L=this.__data__;if(ot){var _=L[w];return _==="__lodash_hash_undefined__"?void 0:_}return N5.call(L,w)?L[w]:void 0},d0=Object.prototype.hasOwnProperty,Jt=function(w){var L=this.__data__;return ot?L[w]!==void 0:d0.call(L,w)},l2=function(w,L){var _=this.__data__;return this.size+=this.has(w)?0:1,_[w]=ot&&L===void 0?"__lodash_hash_undefined__":L,this};function Q2(w){var L=-1,_=w==null?0:w.length;for(this.clear();++L<_;){var E=w[L];this.set(E[0],E[1])}}Q2.prototype.clear=k1,Q2.prototype.delete=D5,Q2.prototype.get=V4,Q2.prototype.has=Jt,Q2.prototype.set=l2;var C1=Q2,R3=function(){this.size=0,this.__data__={hash:new C1,map:new(W0||w2),string:new C1}},j5=function(w){var L=typeof w;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?w!=="__proto__":w===null},Y2=function(w,L){var _=w.__data__;return j5(L)?_[typeof L=="string"?"string":"hash"]:_.map},V0=function(w){var L=Y2(this,w).delete(w);return this.size-=L?1:0,L},X2=function(w){return Y2(this,w).get(w)},Lt=function(w){return Y2(this,w).has(w)},Bt=function(w,L){var _=Y2(this,w),E=_.size;return _.set(w,L),this.size+=_.size==E?0:1,this};function it(w){var L=-1,_=w==null?0:w.length;for(this.clear();++L<_;){var E=w[L];this.set(E[0],E[1])}}it.prototype.clear=R3,it.prototype.delete=V0,it.prototype.get=X2,it.prototype.has=Lt,it.prototype.set=Bt;var kt=it,w4=function(w,L){var _=this.__data__;if(_ instanceof w2){var E=_.__data__;if(!W0||E.length<199)return E.push([w,L]),this.size=++_.size,this;_=this.__data__=new kt(E)}return _.set(w,L),this.size=_.size,this};function lt(w){var L=this.__data__=new w2(w);this.size=L.size}lt.prototype.clear=h0,lt.prototype.delete=R0,lt.prototype.get=h2,lt.prototype.has=B1,lt.prototype.set=w4;var L4=lt,U0=function(w,L){for(var _=-1,E=w==null?0:w.length;++_<E&&L(w[_],_,w)!==!1;);return w},D1=function(){try{var w=j2(Object,"defineProperty");return w({},"",{}),w}catch(L){}}(),Y1=function(w,L,_){L=="__proto__"&&D1?D1(w,L,{configurable:!0,enumerable:!0,value:_,writable:!0}):w[L]=_},J2=Object.prototype.hasOwnProperty,u0=function(w,L,_){var E=w[L];J2.call(w,L)&&f1(E,_)&&(_!==void 0||L in w)||Y1(w,L,_)},p2=function(w,L,_,E){var a1=!_;_||(_={});for(var d1=-1,m1=L.length;++d1<m1;){var v1=L[d1],G1=E?E(_[v1],w[v1],v1,_,w):void 0;G1===void 0&&(G1=w[v1]),a1?Y1(_,v1,G1):u0(_,v1,G1)}return _},w0=function(w,L){for(var _=-1,E=Array(w);++_<w;)E[_]=L(_);return E},q0=function(w){return r1(w)&&o1(w)=="[object Arguments]"},w1=Object.prototype,B4=w1.hasOwnProperty,Ct=w1.propertyIsEnumerable,Zt=q0(function(){return arguments}())?q0:function(w){return r1(w)&&B4.call(w,"callee")&&!Ct.call(w,"callee")},t5=Array.isArray,a5=u(5),i1=/^(?:0|[1-9]\d*)$/,$=function(w,L){var _=typeof w;return!!(L=L??9007199254740991)&&(_=="number"||_!="symbol"&&i1.test(w))&&w>-1&&w%1==0&&w<L},e5=function(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=9007199254740991},n1={};n1["[object Float32Array]"]=n1["[object Float64Array]"]=n1["[object Int8Array]"]=n1["[object Int16Array]"]=n1["[object Int32Array]"]=n1["[object Uint8Array]"]=n1["[object Uint8ClampedArray]"]=n1["[object Uint16Array]"]=n1["[object Uint32Array]"]=!0,n1["[object Arguments]"]=n1["[object Array]"]=n1["[object ArrayBuffer]"]=n1["[object Boolean]"]=n1["[object DataView]"]=n1["[object Date]"]=n1["[object Error]"]=n1["[object Function]"]=n1["[object Map]"]=n1["[object Number]"]=n1["[object Object]"]=n1["[object RegExp]"]=n1["[object Set]"]=n1["[object String]"]=n1["[object WeakMap]"]=!1;var k4=function(w){return r1(w)&&e5(w.length)&&!!n1[o1(w)]},W2=function(w){return function(L){return w(L)}},g0=u(2),C4=g0.a&&g0.a.isTypedArray,Ur=C4?W2(C4):k4,qr=Object.prototype.hasOwnProperty,D3=function(w,L){var _=t5(w),E=!_&&Zt(w),a1=!_&&!E&&Object(a5.a)(w),d1=!_&&!E&&!a1&&Ur(w),m1=_||E||a1||d1,v1=m1?w0(w.length,String):[],G1=v1.length;for(var l1 in w)!L&&!qr.call(w,l1)||m1&&(l1=="length"||a1&&(l1=="offset"||l1=="parent")||d1&&(l1=="buffer"||l1=="byteLength"||l1=="byteOffset")||$(l1,G1))||v1.push(l1);return v1},Gr=Object.prototype,N3=function(w){var L=w&&w.constructor;return w===(typeof L=="function"&&L.prototype||Gr)},L0=function(w,L){return function(_){return w(L(_))}},$r=L0(Object.keys,Object),A4=Object.prototype.hasOwnProperty,Kr=function(w){if(!N3(w))return $r(w);var L=[];for(var _ in Object(w))A4.call(w,_)&&_!="constructor"&&L.push(_);return L},L6=function(w){return w!=null&&e5(w.length)&&!o2(w)},j3=function(w){return L6(w)?D3(w):Kr(w)},Qr=function(w,L){return w&&p2(L,j3(L),w)},Yr=function(w){var L=[];if(w!=null)for(var _ in Object(w))L.push(_);return L},r5=Object.prototype.hasOwnProperty,b4=function(w){if(!M(w))return Yr(w);var L=N3(w),_=[];for(var E in w)(E!="constructor"||!L&&r5.call(w,E))&&_.push(E);return _},W3=function(w){return L6(w)?D3(w,!0):b4(w)},Xr=function(w,L){return w&&p2(L,W3(L),w)},Jr=u(8),Zr=function(w,L){var _=-1,E=w.length;for(L||(L=Array(E));++_<E;)L[_]=w[_];return L},W5=function(w,L){for(var _=-1,E=w==null?0:w.length,a1=0,d1=[];++_<E;){var m1=w[_];L(m1,_,w)&&(d1[a1++]=m1)}return d1},n5=function(){return[]},t8=Object.prototype.propertyIsEnumerable,B6=Object.getOwnPropertySymbols,U3=B6?function(w){return w==null?[]:(w=Object(w),W5(B6(w),function(L){return t8.call(w,L)}))}:n5,a8=function(w,L){return p2(w,U3(w),L)},k6=function(w,L){for(var _=-1,E=L.length,a1=w.length;++_<E;)w[a1+_]=L[_];return w},q3=L0(Object.getPrototypeOf,Object),C6=Object.getOwnPropertySymbols?function(w){for(var L=[];w;)k6(L,U3(w)),w=q3(w);return L}:n5,o5=function(w,L){return p2(w,C6(w),L)},G3=function(w,L,_){var E=L(w);return t5(w)?E:k6(E,_(w))},e8=function(w){return G3(w,j3,U3)},r8=function(w){return G3(w,W3,C6)},i5=j2(y.a,"DataView"),$3=j2(y.a,"Promise"),K3=j2(y.a,"Set"),Q3=j2(y.a,"WeakMap"),n8=K2(i5),l5=K2(W0),y4=K2($3),o8=K2(K3),c5=K2(Q3),p0=o1;(i5&&p0(new i5(new ArrayBuffer(1)))!="[object DataView]"||W0&&p0(new W0)!="[object Map]"||$3&&p0($3.resolve())!="[object Promise]"||K3&&p0(new K3)!="[object Set]"||Q3&&p0(new Q3)!="[object WeakMap]")&&(p0=function(w){var L=o1(w),_=L=="[object Object]"?w.constructor:void 0,E=_?K2(_):"";if(E)switch(E){case n8:return"[object DataView]";case l5:return"[object Map]";case y4:return"[object Promise]";case o8:return"[object Set]";case c5:return"[object WeakMap]"}return L});var Y3=p0,i8=Object.prototype.hasOwnProperty,l8=function(w){var L=w.length,_=new w.constructor(L);return L&&typeof w[0]=="string"&&i8.call(w,"index")&&(_.index=w.index,_.input=w.input),_},A6=y.a.Uint8Array,U5=function(w){var L=new w.constructor(w.byteLength);return new A6(L).set(new A6(w)),L},c8=function(w,L){var _=L?U5(w.buffer):w.buffer;return new w.constructor(_,w.byteOffset,w.byteLength)},h8=/\w*$/,b6=function(w){var L=new w.constructor(w.source,h8.exec(w));return L.lastIndex=w.lastIndex,L},X3=q?q.prototype:void 0,y6=X3?X3.valueOf:void 0,_6=function(w){return y6?Object(y6.call(w)):{}},s8=function(w,L){var _=L?U5(w.buffer):w.buffer;return new w.constructor(_,w.byteOffset,w.length)},S6=function(w,L,_){var E=w.constructor;switch(L){case"[object ArrayBuffer]":return U5(w);case"[object Boolean]":case"[object Date]":return new E(+w);case"[object DataView]":return c8(w,_);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s8(w,_);case"[object Map]":return new E;case"[object Number]":case"[object String]":return new E(w);case"[object RegExp]":return b6(w);case"[object Set]":return new E;case"[object Symbol]":return _6(w)}},_4=Object.create,v8=function(){function w(){}return function(L){if(!M(L))return{};if(_4)return _4(L);w.prototype=L;var _=new w;return w.prototype=void 0,_}}(),I6=function(w){return typeof w.constructor!="function"||N3(w)?{}:v8(q3(w))},O6=function(w){return r1(w)&&Y3(w)=="[object Map]"},F6=g0.a&&g0.a.isMap,P6=F6?W2(F6):O6,J3=function(w){return r1(w)&&Y3(w)=="[object Set]"},E6=g0.a&&g0.a.isSet,Z3=E6?W2(E6):J3,A1={};A1["[object Arguments]"]=A1["[object Array]"]=A1["[object ArrayBuffer]"]=A1["[object DataView]"]=A1["[object Boolean]"]=A1["[object Date]"]=A1["[object Float32Array]"]=A1["[object Float64Array]"]=A1["[object Int8Array]"]=A1["[object Int16Array]"]=A1["[object Int32Array]"]=A1["[object Map]"]=A1["[object Number]"]=A1["[object Object]"]=A1["[object RegExp]"]=A1["[object Set]"]=A1["[object String]"]=A1["[object Symbol]"]=A1["[object Uint8Array]"]=A1["[object Uint8ClampedArray]"]=A1["[object Uint16Array]"]=A1["[object Uint32Array]"]=!0,A1["[object Error]"]=A1["[object Function]"]=A1["[object WeakMap]"]=!1;var ta=function w(L,_,E,a1,d1,m1){var v1,G1=1&_,l1=2&_,h5=4&_;if(E&&(v1=d1?E(L,a1,d1,m1):E(L)),v1!==void 0)return v1;if(!M(L))return L;var ht=t5(L);if(ht){if(v1=l8(L),!G1)return Zr(L,v1)}else{var s2=Y3(L),bt=s2=="[object Function]"||s2=="[object GeneratorFunction]";if(Object(a5.a)(L))return Object(Jr.a)(L,G1);if(s2=="[object Object]"||s2=="[object Arguments]"||bt&&!d1){if(v1=l1||bt?{}:I6(L),!G1)return l1?o5(L,Xr(v1,L)):a8(L,Qr(v1,L))}else{if(!A1[s2])return d1?L:{};v1=S6(L,s2,G1)}}m1||(m1=new L4);var $5=m1.get(L);if($5)return $5;m1.set(L,v1),Z3(L)?L.forEach(function(E1){v1.add(w(E1,_,E,E1,L,m1))}):P6(L)&&L.forEach(function(E1,X1){v1.set(X1,w(E1,_,E,X1,L,m1))});var K5=ht?void 0:(h5?l1?r8:e8:l1?W3:j3)(L);return U0(K5||L,function(E1,X1){K5&&(E1=L[X1=E1]),u0(v1,X1,w(E1,_,E,X1,L,m1))}),v1},aa=function(w,L){return ta(w,5,L=typeof L=="function"?L:void 0)},d8=Function.prototype,u8=Object.prototype,T6=d8.toString,g8=u8.hasOwnProperty,p8=T6.call(Object),At=function(w){if(!r1(w)||o1(w)!="[object Object]")return!1;var L=q3(w);if(L===null)return!0;var _=g8.call(L,"constructor")&&L.constructor;return typeof _=="function"&&_ instanceof _&&T6.call(_)==p8},q5=function(w){return r1(w)&&w.nodeType===1&&!At(w)};function ea(w,L=new Set){let _=[w],E=new Set;for(;_.length>0;){let a1=_.shift();if(!(E.has(a1)||z8(a1)||L.has(a1)))if(E.add(a1),a1[Symbol.iterator])try{for(let d1 of a1)_.push(d1)}catch(d1){}else for(let d1 in a1)d1!=="defaultValue"&&_.push(a1[d1])}return E}function z8(w){let L=Object.prototype.toString.call(w),_=typeof w;return _==="number"||_==="boolean"||_==="string"||_==="symbol"||_==="function"||L==="[object Date]"||L==="[object RegExp]"||L==="[object Module]"||w==null||w instanceof EventTarget||w instanceof Event}function G5(w,L,_=new Set){if(w===L&&typeof(E=w)=="object"&&E!==null)return!0;var E;let a1=ea(w,_),d1=ea(L,_);for(let m1 of a1)if(d1.has(m1))return!0;return!1}class S4{constructor(L){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof L.crashNumberLimit=="number"?L.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof L.minimumNonErrorTimePeriod=="number"?L.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=_=>{let E=_.error||_.reason;E instanceof Error&&this._handleError(E,_)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(L){this._creator=L}setDestructor(L){this._destructor=L}destroy(){this._stopErrorHandling(),this._listeners={}}on(L,_){this._listeners[L]||(this._listeners[L]=[]),this._listeners[L].push(_)}off(L,_){this._listeners[L]=this._listeners[L].filter(E=>E!==_)}_fire(L,..._){let E=this._listeners[L]||[];for(let a1 of E)a1.apply(this,[null,..._])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(L,_){if(this._shouldReactToError(L)){this.crashes.push({message:L.message,stack:L.stack,filename:_.filename,lineno:_.lineno,colno:_.colno,date:this._now()});let E=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:L,causesRestart:E}),E?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(L){return L.is&&L.is("CKEditorError")&&L.context!==void 0&&L.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(L)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class R6 extends S4{constructor(L,_={}){super(_),this._editor=null,this._throttledSave=a2(this._save.bind(this),typeof _.saveInterval=="number"?_.saveInterval:5e3),this._creator=(E,a1)=>L.create(E,a1),this._destructor=E=>E.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(L=>{console.error("An error happened during the editor destroying.",L)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{let L=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,L,L.context)}}).then(()=>{this._fire("restart")})}create(L=this._elementOrData,_=this._config,E){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=L,this._config=this._cloneEditorConfiguration(_)||{},this._config.context=E,this._creator(L,this._config))).then(a1=>{this._editor=a1,a1.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a1.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();let L=this._editor;return this._editor=null,this._destructor(L)})}_save(){let L=this._editor.model.document.version;if(L!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=L}catch(_){console.error(_,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(L){this._excludedProps=L}_getData(){let L={};for(let _ of this._editor.model.document.getRootNames())L[_]=this._editor.data.get({rootName:_});return L}_isErrorComingFromThisItem(L){return G5(this._editor,L.context,this._excludedProps)}_cloneEditorConfiguration(L){return aa(L,(_,E)=>q5(_)||E==="context"?_:void 0)}}let z2=new Array(256).fill().map((w,L)=>("0"+L.toString(16)).slice(-2));class D6 extends S4{constructor(L,_={}){super(_),this._watchdogs=new Map,this._watchdogConfig=_,this._context=null,this._contextProps=new Set,this._actionQueue=new N6,this._creator=E=>L.create(E),this._destructor=E=>E.destroy(),this._actionQueue.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(L={}){return this._actionQueue.enqueue(()=>(this._contextConfig=L,this._create()))}getItem(L){return this._getWatchdog(L)._item}getItemState(L){return this._getWatchdog(L).state}add(L){let _=Array.isArray(L)?L:[L];return this._actionQueue.enqueue(()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");return Promise.all(_.map(E=>{let a1;if(this._watchdogs.has(E.id))throw new Error(`Item with the given id is already added: '${E.id}'.`);if(E.type==="editor")return a1=new R6(this._watchdogConfig),a1.setCreator(E.creator),a1._setExcludedProperties(this._contextProps),E.destructor&&a1.setDestructor(E.destructor),this._watchdogs.set(E.id,a1),a1.on("error",(d1,{error:m1,causesRestart:v1})=>{this._fire("itemError",{itemId:E.id,error:m1}),v1&&this._actionQueue.enqueue(()=>new Promise(G1=>{a1.on("restart",function l1(){a1.off("restart",l1),this._fire("itemRestart",{itemId:E.id}),G1()}.bind(this))}))}),a1.create(E.sourceElementOrData,E.config,this._context);throw new Error(`Not supported item type: '${E.type}'.`)}))})}remove(L){let _=Array.isArray(L)?L:[L];return this._actionQueue.enqueue(()=>Promise.all(_.map(E=>{let a1=this._getWatchdog(E);return this._watchdogs.delete(E),a1.destroy()})))}destroy(){return this._actionQueue.enqueue(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueue.enqueue(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(L=>{console.error("An error happened during destroying the context or items.",L)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(L=>(this._context=L,this._contextProps=ea(this._context),Promise.all(Array.from(this._watchdogs.values()).map(_=>(_._setExcludedProperties(this._contextProps),_.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();let L=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(_=>_.destroy())).then(()=>this._destructor(L))})}_getWatchdog(L){let _=this._watchdogs.get(L);if(!_)throw new Error(`Item with the given id was not registered: ${L}.`);return _}_isErrorComingFromThisItem(L){for(let _ of this._watchdogs.values())if(_._isErrorComingFromThisItem(L))return!1;return G5(this._context,L.context)}}class N6{constructor(){this._promiseQueue=Promise.resolve(),this._onEmptyCallbacks=[]}onEmpty(L){this._onEmptyCallbacks.push(L)}enqueue(L){let _,E=this._promiseQueue.then(L).then(()=>{this._promiseQueue===_&&this._onEmptyCallbacks.forEach(a1=>a1())});return _=this._promiseQueue=E.catch(()=>{}),E}}let ra=f.a.createContext("contextWatchdog");class na extends f.a.Component{constructor(L,_){super(L,_),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(L){return L.id!==this.props.id&&(this.contextWatchdog&&this.contextWatchdog.destroy(),this._initializeContextWatchdog(L.config)),L.isLayoutReady&&!this.contextWatchdog?(this._initializeContextWatchdog(L.config),!0):this.props.children!==L.children}render(){return f.a.createElement(ra.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}_initializeContextWatchdog(L){this.contextWatchdog=new D6(this.props.context),this.contextWatchdog.create(L).catch(_=>{this.props.onError(_,{phase:"initialization",willContextRestart:!1})}),this.contextWatchdog.on("error",(_,E)=>{this.props.onError(E.error,{phase:"runtime",willContextRestart:E.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)})}_destroyContext(){this.contextWatchdog&&(this.contextWatchdog.destroy(),this.contextWatchdog=null)}}na.defaultProps={isLayoutReady:!0,onError:(w,L)=>console.error(w,L)},na.propTypes={id:H.a.string,isLayoutReady:H.a.bool,context:H.a.func,config:H.a.object,onReady:H.a.func,onError:H.a.func};class ct extends f.a.Component{constructor(L){super(L),this.domContainer=f.a.createRef(),this.watchdog=null}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(L){return!!this.editor&&(L.id!==this.props.id||(this._shouldUpdateEditor(L)&&this.editor.setData(L.data),"disabled"in L&&(this.editor.isReadOnly=L.disabled),!1))}componentDidMount(){this._initializeEditor()}componentDidUpdate(){this._destroyEditor(),this._initializeEditor()}componentWillUnmount(){this._destroyEditor()}render(){return f.a.createElement("div",{ref:this.domContainer})}_initializeEditor(){this.context instanceof D6?this.watchdog=new f8(this.context):this.watchdog=new ct._EditorWatchdog(this.props.editor),this.watchdog.setCreator((L,_)=>this._createEditor(L,_)),this.watchdog.on("error",(L,{error:_,causesRestart:E})=>{this.props.onError(_,{phase:"runtime",willEditorRestart:E})}),this.watchdog.create(this.domContainer.current,this._getConfig()).catch(L=>this.props.onError(L,{phase:"initialization",willEditorRestart:!1}))}_createEditor(L,_){return this.props.editor.create(L,_).then(E=>{"disabled"in this.props&&(E.isReadOnly=this.props.disabled);let a1=E.model.document,d1=E.editing.view.document;return a1.on("change:data",m1=>{this.props.onChange&&this.props.onChange(m1,E)}),d1.on("focus",m1=>{this.props.onFocus&&this.props.onFocus(m1,E)}),d1.on("blur",m1=>{this.props.onBlur&&this.props.onBlur(m1,E)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(this.editor)}),E})}_destroyEditor(){this.watchdog&&(this.watchdog.destroy(),this.watchdog=null)}_shouldUpdateEditor(L){return this.props.data!==L.data&&this.editor.getData()!==L.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class f8{constructor(L){this._contextWatchdog=L,this._id=function(){let _=4294967296*Math.random()>>>0,E=4294967296*Math.random()>>>0,a1=4294967296*Math.random()>>>0,d1=4294967296*Math.random()>>>0;return"e"+z2[_>>0&255]+z2[_>>8&255]+z2[_>>16&255]+z2[_>>24&255]+z2[E>>0&255]+z2[E>>8&255]+z2[E>>16&255]+z2[E>>24&255]+z2[a1>>0&255]+z2[a1>>8&255]+z2[a1>>16&255]+z2[a1>>24&255]+z2[d1>>0&255]+z2[d1>>8&255]+z2[d1>>16&255]+z2[d1>>24&255]}()}setCreator(L){this._creator=L}create(L,_){return this._contextWatchdog.add({sourceElementOrData:L,config:_,creator:this._creator,id:this._id,type:"editor"})}on(L,_){this._contextWatchdog.on("itemError",(E,{itemId:a1,causesRestart:d1,error:m1})=>{a1===this._id&&_(null,{error:m1,causesRestart:d1})})}destroy(){this._contextWatchdog.remove(this._id)}get editor(){return this._contextWatchdog.getItem(this._id)}}ct.contextType=ra,ct.propTypes={editor:H.a.func.isRequired,data:H.a.string,config:H.a.object,onChange:H.a.func,onReady:H.a.func,onFocus:H.a.func,onBlur:H.a.func,onError:H.a.func,disabled:H.a.bool,onInit:(w,L)=>{if(w[L])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},ct.defaultProps={config:{},onError:(w,L)=>console.error(w,L)},ct._EditorWatchdog=R6}])})});var yg=Rt((D2,Eo)=>{(function(o){let l=o.en=o.en||{};l.dictionary=Object.assign(l.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,l){typeof D2=="object"&&typeof Eo=="object"?Eo.exports=l():typeof define=="function"&&define.amd?define([],l):typeof D2=="object"?D2.BalloonEditor=l():o.BalloonEditor=l()}(window,function(){return function(o){var l={};function c(u){if(l[u])return l[u].exports;var v=l[u]={i:u,l:!1,exports:{}};return o[u].call(v.exports,v,v.exports,c),v.l=!0,v.exports}return c.m=o,c.c=l,c.d=function(u,v,f){c.o(u,v)||Object.defineProperty(u,v,{enumerable:!0,get:f})},c.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},c.t=function(u,v){if(1&v&&(u=c(u)),8&v||4&v&&typeof u=="object"&&u&&u.__esModule)return u;var f=Object.create(null);if(c.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&v&&typeof u!="string")for(var x in u)c.d(f,x,function(H){return u[H]}.bind(null,x));return f},c.n=function(u){var v=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(v,"a",v),v},c.o=function(u,v){return Object.prototype.hasOwnProperty.call(u,v)},c.p="",c(c.s=106)}([function(o,l,c){"use strict";c.d(l,"a",function(){return u}),c.d(l,"b",function(){return v});class u extends Error{constructor(M,y,R){super(`${M}${R?" "+JSON.stringify(R):""}${f(M)}`),this.name="CKEditorError",this.context=y,this.data=R}is(M){return M==="CKEditorError"}static rethrowUnexpectedError(M,y){if(M.is&&M.is("CKEditorError"))throw M;let R=new u(M.message,y);throw R.stack=M.stack,R}}function v(H,M){console.warn(...x(H,M))}function f(H){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-`+H}function x(H,M){let y=f(H);return M?[H,M,y]:[H,y]}},function(o,l,c){"use strict";var u,v=function(){return u===void 0&&(u=Boolean(window&&document&&document.all&&!window.atob)),u},f=function(){var A={};return function(b){if(A[b]===void 0){var O=document.querySelector(b);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch(P){O=null}A[b]=O}return A[b]}}(),x=[];function H(A){for(var b=-1,O=0;O<x.length;O++)if(x[O].identifier===A){b=O;break}return b}function M(A,b){for(var O={},P=[],Z=0;Z<A.length;Z++){var G=A[Z],t1=b.base?G[0]+b.base:G[0],o1=O[t1]||0,r1="".concat(t1," ").concat(o1);O[t1]=o1+1;var g2=H(r1),E0={css:G[1],media:G[2],sourceMap:G[3]};g2!==-1?(x[g2].references++,x[g2].updater(E0)):x.push({identifier:r1,updater:I(E0,b),references:1}),P.push(r1)}return P}function y(A){var b=document.createElement("style"),O=A.attributes||{};if(O.nonce===void 0){var P=c.nc;P&&(O.nonce=P)}if(Object.keys(O).forEach(function(G){b.setAttribute(G,O[G])}),typeof A.insert=="function")A.insert(b);else{var Z=f(A.insert||"head");if(!Z)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Z.appendChild(b)}return b}var R,U=(R=[],function(A,b){return R[A]=b,R.filter(Boolean).join(`
`)});function T(A,b,O,P){var Z=O?"":P.media?"@media ".concat(P.media," {").concat(P.css,"}"):P.css;if(A.styleSheet)A.styleSheet.cssText=U(b,Z);else{var G=document.createTextNode(Z),t1=A.childNodes;t1[b]&&A.removeChild(t1[b]),t1.length?A.insertBefore(G,t1[b]):A.appendChild(G)}}function W(A,b,O){var P=O.css,Z=O.media,G=O.sourceMap;if(Z?A.setAttribute("media",Z):A.removeAttribute("media"),G&&typeof btoa!="undefined"&&(P+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(G))))," */")),A.styleSheet)A.styleSheet.cssText=P;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(P))}}var X=null,q=0;function I(A,b){var O,P,Z;if(b.singleton){var G=q++;O=X||(X=y(b)),P=T.bind(null,O,G,!1),Z=T.bind(null,O,G,!0)}else O=y(b),P=W.bind(null,O,b),Z=function(){(function(t1){if(t1.parentNode===null)return!1;t1.parentNode.removeChild(t1)})(O)};return P(A),function(t1){if(t1){if(t1.css===A.css&&t1.media===A.media&&t1.sourceMap===A.sourceMap)return;P(A=t1)}else Z()}}o.exports=function(A,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=v());var O=M(A=A||[],b);return function(P){if(P=P||[],Object.prototype.toString.call(P)==="[object Array]"){for(var Z=0;Z<O.length;Z++){var G=H(O[Z]);x[G].references--}for(var t1=M(P,b),o1=0;o1<O.length;o1++){var r1=H(O[o1]);x[r1].references===0&&(x[r1].updater(),x.splice(r1,1))}O=t1}}}},,function(o,l,c){"use strict";var u=c(8),v=typeof self=="object"&&self&&self.Object===Object&&self,f=u.a||v||Function("return this")();l.a=f},function(o,l,c){"use strict";(function(u){var v=c(3),f=c(13),x=typeof D2=="object"&&D2&&!D2.nodeType&&D2,H=x&&typeof u=="object"&&u&&!u.nodeType&&u,M=H&&H.exports===x?v.a.Buffer:void 0,y=(M?M.isBuffer:void 0)||f.a;l.a=y}).call(this,c(10)(o))},function(o,l,c){"use strict";(function(u){var v=c(8),f=typeof D2=="object"&&D2&&!D2.nodeType&&D2,x=f&&typeof u=="object"&&u&&!u.nodeType&&u,H=x&&x.exports===f&&v.a.process,M=function(){try{var y=x&&x.require&&x.require("util").types;return y||H&&H.binding&&H.binding("util")}catch(R){}}();l.a=M}).call(this,c(10)(o))},function(o,l,c){"use strict";(function(u){var v=c(0);let f=typeof window=="object"?window:u;if(f.CKEDITOR_VERSION)throw new v.a("ckeditor-duplicated-modules",null);f.CKEDITOR_VERSION="27.1.0"}).call(this,c(11))},function(o,l,c){var u=c(1),v=c(73);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l,c){"use strict";(function(u){var v=typeof u=="object"&&u&&u.Object===Object&&u;l.a=v}).call(this,c(11))},function(o,l,c){"use strict";(function(u){var v=c(3),f=typeof D2=="object"&&D2&&!D2.nodeType&&D2,x=f&&typeof u=="object"&&u&&!u.nodeType&&u,H=x&&x.exports===f?v.a.Buffer:void 0,M=H?H.allocUnsafe:void 0;l.a=function(y,R){if(R)return y.slice();var U=y.length,T=M?M(U):new y.constructor(U);return y.copy(T),T}}).call(this,c(10)(o))},function(o,l){o.exports=function(c){if(!c.webpackPolyfill){var u=Object.create(c);u.children||(u.children=[]),Object.defineProperty(u,"loaded",{enumerable:!0,get:function(){return u.l}}),Object.defineProperty(u,"id",{enumerable:!0,get:function(){return u.i}}),Object.defineProperty(u,"exports",{enumerable:!0}),u.webpackPolyfill=1}return u}},function(o,l){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch(u){typeof window=="object"&&(c=window)}o.exports=c},function(o,l,c){var u=c(1),v=c(68);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l,c){"use strict";l.a=function(){return!1}},function(o,l,c){var u=c(1),v=c(15);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(o,l,c){var u=c(1),v=c(17);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(o,l,c){var u=c(1),v=c(19);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}'},function(o,l,c){var u=c(1),v=c(21);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(o,l,c){var u=c(1),v=c(23);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}"},function(o,l,c){var u=c(1),v=c(25);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(o,l,c){var u=c(1),v=c(27);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(o,l,c){var u=c(1),v=c(29);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(o,l,c){var u=c(1),v=c(31);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(o,l,c){var u=c(1),v=c(33);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(o,l,c){var u=c(1),v=c(35);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(o,l,c){var u=c(1),v=c(37);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(o,l,c){var u=c(1),v=c(39);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(o,l,c){var u=c(1),v=c(41);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(o,l,c){var u=c(1),v=c(43);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(o,l,c){var u=c(1),v=c(45);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(o,l,c){var u=c(1),v=c(47);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}"},function(o,l,c){var u=c(1),v=c(49);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}'},function(o,l,c){var u=c(1),v=c(51);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(o,l,c){var u=c(1),v=c(53);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(o,l,c){var u=c(1),v=c(55);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(o,l,c){var u=c(1),v=c(57);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}"},function(o,l,c){var u=c(1),v=c(59);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(o,l,c){var u=c(1),v=c(61);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(o,l,c){var u=c(1),v=c(63);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(o,l,c){var u=c(1),v=c(65);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}'},function(o,l,c){var u=c(1),v=c(67);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(o,l){o.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(o,l,c){var u=c(1),v=c(70);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}"},function(o,l,c){var u=c(1),v=c(72);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(o,l){o.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(o,l,c){var u=c(1),v=c(75);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{position:static}"},function(o,l,c){var u=c(1),v=c(77);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(o,l,c){var u=c(1),v=c(79);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(o,l,c){var u=c(1),v=c(81);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(o,l,c){var u=c(1),v=c(83);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(o,l,c){var u=c(1),v=c(85);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(o,l,c){var u=c(1),v=c(87);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(o,l,c){var u=c(1),v=c(89);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(o,l,c){var u=c(1),v=c(91);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}"},function(o,l,c){var u=c(1),v=c(93);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(o,l,c){var u=c(1),v=c(95);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}"},function(o,l,c){var u=c(1),v=c(97);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(o,l,c){var u=c(1),v=c(99);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(o,l,c){var u=c(1),v=c(101);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(o,l,c){var u=c(1),v=c(103);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(o,l,c){var u=c(1),v=c(105);typeof(v=v.__esModule?v.default:v)=="string"&&(v=[[o.i,v,""]]);var f={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};u(v,f),o.exports=v.locals||{}},function(o,l){o.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(o,l,c){"use strict";c.r(l),c.d(l,"default",function(){return Z7});var u=function(){return function r(){r.called=!0}};class v{constructor(t,a){this.source=t,this.name=a,this.path=[],this.stop=u(),this.off=u()}}let f=new Array(256).fill().map((r,t)=>("0"+t.toString(16)).slice(-2));function x(){let r=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0;return"e"+f[r>>0&255]+f[r>>8&255]+f[r>>16&255]+f[r>>24&255]+f[t>>0&255]+f[t>>8&255]+f[t>>16&255]+f[t>>24&255]+f[a>>0&255]+f[a>>8&255]+f[a>>16&255]+f[a>>24&255]+f[e>>0&255]+f[e>>8&255]+f[e>>16&255]+f[e>>24&255]}var H={get(r){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},M=(c(6),c(0));let y=Symbol("listeningTo"),R=Symbol("emitterId");var U={on(r,t,a={}){this.listenTo(this,r,t,a)},once(r,t,a){let e=!1;this.listenTo(this,r,function(n,...i){e||(e=!0,n.off(),t.call(this,n,...i))},a)},off(r,t){this.stopListening(this,r,t)},listenTo(r,t,a,e={}){let n,i;this[y]||(this[y]={});let h=this[y];W(r)||T(r);let s=W(r);(n=h[s])||(n=h[s]={emitter:r,callbacks:{}}),(i=n.callbacks[t])||(i=n.callbacks[t]=[]),i.push(a),function(d,g,p,z,m){g._addEventListener?g._addEventListener(p,z,m):d._addEventListener.call(g,p,z,m)}(this,r,t,a,e)},stopListening(r,t,a){let e=this[y],n=r&&W(r),i=e&&n&&e[n],h=i&&t&&i.callbacks[t];if(!(!e||r&&!i||t&&!h))if(a)A(this,r,t,a),h.indexOf(a)!==-1&&(h.length===1?delete i.callbacks[t]:A(this,r,t,a));else if(h){for(;a=h.pop();)A(this,r,t,a);delete i.callbacks[t]}else if(i){for(t in i.callbacks)this.stopListening(r,t);delete e[n]}else{for(n in e)this.stopListening(e[n].emitter);delete this[y]}},fire(r,...t){try{let a=r instanceof v?r:new v(this,r),e=a.name,n=function i(h,s){let d;return!h._events||!(d=h._events[s])||!d.callbacks.length?s.indexOf(":")>-1?i(h,s.substr(0,s.lastIndexOf(":"))):null:d.callbacks}(this,e);if(a.path.push(this),n){let i=[a,...t];n=Array.from(n);for(let h=0;h<n.length&&(n[h].callback.apply(this,i),a.off.called&&(delete a.off.called,this._removeEventListener(e,n[h].callback)),!a.stop.called);h++);}if(this._delegations){let i=this._delegations.get(e),h=this._delegations.get("*");i&&I(i,a,t),h&&I(h,a,t)}return a.return}catch(a){M.a.rethrowUnexpectedError(a,this)}},delegate(...r){return{to:(t,a)=>{this._delegations||(this._delegations=new Map),r.forEach(e=>{let n=this._delegations.get(e);n?n.set(t,a):this._delegations.set(e,new Map([[t,a]]))})}}},stopDelegating(r,t){if(this._delegations)if(r)if(t){let a=this._delegations.get(r);a&&a.delete(t)}else this._delegations.delete(r);else this._delegations.clear()},_addEventListener(r,t,a){(function(h,s){let d=X(h);if(d[s])return;let g=s,p=null,z=[];for(;g!==""&&!d[g];)d[g]={callbacks:[],childEvents:[]},z.push(d[g]),p&&d[g].childEvents.push(p),p=g,g=g.substr(0,g.lastIndexOf(":"));if(g!==""){for(let m of z)m.callbacks=d[g].callbacks.slice();d[g].childEvents.push(p)}})(this,r);let e=q(this,r),n=H.get(a.priority),i={callback:t,priority:n};for(let h of e){let s=!1;for(let d=0;d<h.length;d++)if(h[d].priority<n){h.splice(d,0,i),s=!0;break}s||h.push(i)}},_removeEventListener(r,t){let a=q(this,r);for(let e of a)for(let n=0;n<e.length;n++)e[n].callback==t&&(e.splice(n,1),n--)}};function T(r,t){r[R]||(r[R]=t||x())}function W(r){return r[R]}function X(r){return r._events||Object.defineProperty(r,"_events",{value:{}}),r._events}function q(r,t){let a=X(r)[t];if(!a)return[];let e=[a.callbacks];for(let n=0;n<a.childEvents.length;n++){let i=q(r,a.childEvents[n]);e=e.concat(i)}return e}function I(r,t,a){for(let[e,n]of r){n?typeof n=="function"&&(n=n(t.name)):n=t.name;let i=new v(t.source,n);i.path=[...t.path],e.fire(i,...a)}}function A(r,t,a,e){t._removeEventListener?t._removeEventListener(a,e):r._removeEventListener.call(t,a,e)}var b=function(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")},O=c(3),P=O.a.Symbol,Z=Object.prototype,G=Z.hasOwnProperty,t1=Z.toString,o1=P?P.toStringTag:void 0,r1=function(r){var t=G.call(r,o1),a=r[o1];try{r[o1]=void 0;var e=!0}catch(i){}var n=t1.call(r);return e&&(t?r[o1]=a:delete r[o1]),n},g2=Object.prototype.toString,E0=function(r){return g2.call(r)},Kt=P?P.toStringTag:void 0,l0=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Kt&&Kt in Object(r)?r1(r):E0(r)},E5,c0=function(r){if(!b(r))return!1;var t=l0(r);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},T5=O.a["__core-js_shared__"],R5=(E5=/[^.]+$/.exec(T5&&T5.keys&&T5.keys.IE_PROTO||""))?"Symbol(src)_1."+E5:"",z1=function(r){return!!R5&&R5 in r},a2=Function.prototype.toString,Q1=function(r){if(r!=null){try{return a2.call(r)}catch(t){}try{return r+""}catch(t){}}return""},f1=/^\[object .+?Constructor\]$/,V2=Function.prototype,T0=Object.prototype,et=V2.toString,Qt=T0.hasOwnProperty,Yt=RegExp("^"+et.call(Qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=function(r){return!(!b(r)||z1(r))&&(c0(r)?Yt:f1).test(Q1(r))},x0=function(r,t){return r==null?void 0:r[t]},w2=function(r,t){var a=x0(r,t);return Xt(a)?a:void 0},h0=function(){try{var r=w2(Object,"defineProperty");return r({},"",{}),r}catch(t){}}(),R0=function(r,t,a){t=="__proto__"&&h0?h0(r,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[t]=a},h2=function(r,t){return r===t||r!=r&&t!=t},B1=Object.prototype.hasOwnProperty,N2=function(r,t,a){var e=r[t];B1.call(r,t)&&h2(e,a)&&(a!==void 0||t in r)||R0(r,t,a)},o2=function(r,t,a,e){var n=!a;a||(a={});for(var i=-1,h=t.length;++i<h;){var s=t[i],d=e?e(a[s],r[s],s,a,r):void 0;d===void 0&&(d=r[s]),n?R0(a,s,d):N2(a,s,d)}return a},i2=function(r){return r},s0=function(r,t,a){switch(a.length){case 0:return r.call(t);case 1:return r.call(t,a[0]);case 2:return r.call(t,a[0],a[1]);case 3:return r.call(t,a[0],a[1],a[2])}return r.apply(t,a)},H0=Math.max,v0=function(r,t,a){return t=H0(t===void 0?r.length-1:t,0),function(){for(var e=arguments,n=-1,i=H0(e.length-t,0),h=Array(i);++n<i;)h[n]=e[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=e[n];return s[t]=a(h),s0(r,this,s)}},K2=function(r){return function(){return r}},D0=h0?function(r,t){return h0(r,"toString",{configurable:!0,enumerable:!1,value:K2(t),writable:!0})}:i2,N0=Date.now,j0=function(r){var t=0,a=0;return function(){var e=N0(),n=16-(e-a);if(a=e,n>0){if(++t>=800)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}(D0),rt=function(r,t){return j0(v0(r,t,i2),r+"")},nt=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991},J=function(r){return r!=null&&nt(r.length)&&!c0(r)},_1=/^(?:0|[1-9]\d*)$/,q1=function(r,t){var a=typeof r;return!!(t=t??9007199254740991)&&(a=="number"||a!="symbol"&&_1.test(r))&&r>-1&&r%1==0&&r<t},j2=function(r,t,a){if(!b(a))return!1;var e=typeof t;return!!(e=="number"?J(a)&&q1(t,a.length):e=="string"&&t in a)&&h2(a[t],r)},W0=function(r){return rt(function(t,a){var e=-1,n=a.length,i=n>1?a[n-1]:void 0,h=n>2?a[2]:void 0;for(i=r.length>3&&typeof i=="function"?(n--,i):void 0,h&&j2(a[0],a[1],h)&&(i=n<3?void 0:i,n=1),t=Object(t);++e<n;){var s=a[e];s&&r(t,s,e,i)}return t})},ot=function(r,t){for(var a=-1,e=Array(r);++a<r;)e[a]=t(a);return e},k1=function(r){return r!=null&&typeof r=="object"},D5=function(r){return k1(r)&&l0(r)=="[object Arguments]"},N5=Object.prototype,V4=N5.hasOwnProperty,d0=N5.propertyIsEnumerable,Jt=D5(function(){return arguments}())?D5:function(r){return k1(r)&&V4.call(r,"callee")&&!d0.call(r,"callee")},l2=Array.isArray,Q2=c(4),C1={};C1["[object Float32Array]"]=C1["[object Float64Array]"]=C1["[object Int8Array]"]=C1["[object Int16Array]"]=C1["[object Int32Array]"]=C1["[object Uint8Array]"]=C1["[object Uint8ClampedArray]"]=C1["[object Uint16Array]"]=C1["[object Uint32Array]"]=!0,C1["[object Arguments]"]=C1["[object Array]"]=C1["[object ArrayBuffer]"]=C1["[object Boolean]"]=C1["[object DataView]"]=C1["[object Date]"]=C1["[object Error]"]=C1["[object Function]"]=C1["[object Map]"]=C1["[object Number]"]=C1["[object Object]"]=C1["[object RegExp]"]=C1["[object Set]"]=C1["[object String]"]=C1["[object WeakMap]"]=!1;var R3=function(r){return k1(r)&&nt(r.length)&&!!C1[l0(r)]},j5=function(r){return function(t){return r(t)}},Y2=c(5),V0=Y2.a&&Y2.a.isTypedArray,X2=V0?j5(V0):R3,Lt=Object.prototype.hasOwnProperty,Bt=function(r,t){var a=l2(r),e=!a&&Jt(r),n=!a&&!e&&Object(Q2.a)(r),i=!a&&!e&&!n&&X2(r),h=a||e||n||i,s=h?ot(r.length,String):[],d=s.length;for(var g in r)!t&&!Lt.call(r,g)||h&&(g=="length"||n&&(g=="offset"||g=="parent")||i&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||q1(g,d))||s.push(g);return s},it=Object.prototype,kt=function(r){var t=r&&r.constructor;return r===(typeof t=="function"&&t.prototype||it)},w4=function(r){var t=[];if(r!=null)for(var a in Object(r))t.push(a);return t},lt=Object.prototype.hasOwnProperty,L4=function(r){if(!b(r))return w4(r);var t=kt(r),a=[];for(var e in r)(e!="constructor"||!t&&lt.call(r,e))&&a.push(e);return a},U0=function(r){return J(r)?Bt(r,!0):L4(r)},D1=W0(function(r,t){o2(t,U0(t),r)});let Y1=Symbol("observableProperties"),J2=Symbol("boundObservables"),u0=Symbol("boundProperties"),p2=Symbol("decoratedMethods"),w0=Symbol("decoratedOriginal"),q0={set(r,t){if(b(r))return void Object.keys(r).forEach(e=>{this.set(e,r[e])},this);B4(this);let a=this[Y1];if(r in this&&!a.has(r))throw new M.a("observable-set-cannot-override",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:()=>a.get(r),set(e){let n=a.get(r),i=this.fire("set:"+r,r,e,n);i===void 0&&(i=e),n===i&&a.has(r)||(a.set(r,i),this.fire("change:"+r,r,i,n))}}),this[r]=t},bind(...r){if(!r.length||!t5(r))throw new M.a("observable-bind-wrong-properties",this);if(new Set(r).size!==r.length)throw new M.a("observable-bind-duplicate-properties",this);B4(this);let t=this[u0];r.forEach(e=>{if(t.has(e))throw new M.a("observable-bind-rebind",this)});let a=new Map;return r.forEach(e=>{let n={property:e,to:[]};t.set(e,n),a.set(e,n)}),{to:Ct,toMany:Zt,_observable:this,_bindProperties:r,_to:[],_bindings:a}},unbind(...r){if(!this[Y1])return;let t=this[u0],a=this[J2];if(r.length){if(!t5(r))throw new M.a("observable-unbind-wrong-properties",this);r.forEach(e=>{let n=t.get(e);if(!n)return;let i,h,s,d;n.to.forEach(g=>{i=g[0],h=g[1],s=a.get(i),d=s[h],d.delete(n),d.size||delete s[h],Object.keys(s).length||(a.delete(i),this.stopListening(i,"change"))}),t.delete(e)})}else a.forEach((e,n)=>{this.stopListening(n,"change")}),a.clear(),t.clear()},decorate(r){let t=this[r];if(!t)throw new M.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:r});this.on(r,(a,e)=>{a.return=t.apply(this,e)}),this[r]=function(...a){return this.fire(r,a)},this[r][w0]=t,this[p2]||(this[p2]=[]),this[p2].push(r)}};D1(q0,U),q0.stopListening=function(r,t,a){if(!r&&this[p2]){for(let e of this[p2])this[e]=this[e][w0];delete this[p2]}U.stopListening.call(this,r,t,a)};var w1=q0;function B4(r){r[Y1]||(Object.defineProperty(r,Y1,{value:new Map}),Object.defineProperty(r,J2,{value:new Map}),Object.defineProperty(r,u0,{value:new Map}))}function Ct(...r){let t=function(...i){if(!i.length)throw new M.a("observable-bind-to-parse-error",null);let h={to:[]},s;return typeof i[i.length-1]=="function"&&(h.callback=i.pop()),i.forEach(d=>{if(typeof d=="string")s.properties.push(d);else{if(typeof d!="object")throw new M.a("observable-bind-to-parse-error",null);s={observable:d,properties:[]},h.to.push(s)}}),h}(...r),a=Array.from(this._bindings.keys()),e=a.length;if(!t.callback&&t.to.length>1)throw new M.a("observable-bind-to-no-callback",this);if(e>1&&t.callback)throw new M.a("observable-bind-to-extra-callback",this);var n;t.to.forEach(i=>{if(i.properties.length&&i.properties.length!==e)throw new M.a("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(a[0]).callback=t.callback),n=this._observable,this._to.forEach(i=>{let h=n[J2],s;h.get(i.observable)||n.listenTo(i.observable,"change",(d,g)=>{s=h.get(i.observable)[g],s&&s.forEach(p=>{a5(n,p.property)})})}),function(i){let h;i._bindings.forEach((s,d)=>{i._to.forEach(g=>{h=g.properties[s.callback?0:i._bindProperties.indexOf(d)],s.to.push([g.observable,h]),function(p,z,m,V){let B=p[J2],k=B.get(m),C=k||{};C[V]||(C[V]=new Set),C[V].add(z),k||B.set(m,C)}(i._observable,s,g.observable,h)})})}(this),this._bindProperties.forEach(i=>{a5(this._observable,i)})}function Zt(r,t,a){if(this._bindings.size>1)throw new M.a("observable-bind-to-many-not-one-binding",this);this.to(...function(e,n){let i=e.map(h=>[h,n]);return Array.prototype.concat.apply([],i)}(r,t),a)}function t5(r){return r.every(t=>typeof t=="string")}function a5(r,t){let a=r[u0].get(t),e;a.callback?e=a.callback.apply(r,a.to.map(n=>n[0][n[1]])):(e=a.to[0],e=e[0][e[1]]),Object.prototype.hasOwnProperty.call(r,t)?r[t]=e:r.set(t,e)}function i1(r,...t){t.forEach(a=>{Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a)).forEach(e=>{if(e in r.prototype)return;let n=Object.getOwnPropertyDescriptor(a,e);n.enumerable=!1,Object.defineProperty(r.prototype,e,n)})})}class ${constructor(t){this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",e5,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",e5),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function e5(r){r.return=!1,r.stop()}i1($,w1);class n1{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",a=>{this.isEnabled||a.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(a,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),this._disableStack.size==1&&(this.on("set:isEnabled",k4,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),this._disableStack.size==0&&(this.off("set:isEnabled",k4),this.refresh())}execute(){}destroy(){this.stopListening()}}function k4(r){r.return=!1,r.stop()}i1(n1,w1);class W2 extends n1{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){let a=this._getFirstEnabledCommand();return a!=null&&a.execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}var g0=function(r,t){return function(a){return r(t(a))}},C4=g0(Object.getPrototypeOf,Object),Ur=Function.prototype,qr=Object.prototype,D3=Ur.toString,Gr=qr.hasOwnProperty,N3=D3.call(Object),L0=function(r){if(!k1(r)||l0(r)!="[object Object]")return!1;var t=C4(r);if(t===null)return!0;var a=Gr.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&D3.call(a)==N3},$r=function(){this.__data__=[],this.size=0},A4=function(r,t){for(var a=r.length;a--;)if(h2(r[a][0],t))return a;return-1},Kr=Array.prototype.splice,L6=function(r){var t=this.__data__,a=A4(t,r);return!(a<0)&&(a==t.length-1?t.pop():Kr.call(t,a,1),--this.size,!0)},j3=function(r){var t=this.__data__,a=A4(t,r);return a<0?void 0:t[a][1]},Qr=function(r){return A4(this.__data__,r)>-1},Yr=function(r,t){var a=this.__data__,e=A4(a,r);return e<0?(++this.size,a.push([r,t])):a[e][1]=t,this};function r5(r){var t=-1,a=r==null?0:r.length;for(this.clear();++t<a;){var e=r[t];this.set(e[0],e[1])}}r5.prototype.clear=$r,r5.prototype.delete=L6,r5.prototype.get=j3,r5.prototype.has=Qr,r5.prototype.set=Yr;var b4=r5,W3=function(){this.__data__=new b4,this.size=0},Xr=function(r){var t=this.__data__,a=t.delete(r);return this.size=t.size,a},Jr=function(r){return this.__data__.get(r)},Zr=function(r){return this.__data__.has(r)},W5=w2(O.a,"Map"),n5=w2(Object,"create"),t8=function(){this.__data__=n5?n5(null):{},this.size=0},B6=function(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t},U3=Object.prototype.hasOwnProperty,a8=function(r){var t=this.__data__;if(n5){var a=t[r];return a==="__lodash_hash_undefined__"?void 0:a}return U3.call(t,r)?t[r]:void 0},k6=Object.prototype.hasOwnProperty,q3=function(r){var t=this.__data__;return n5?t[r]!==void 0:k6.call(t,r)},C6=function(r,t){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n5&&t===void 0?"__lodash_hash_undefined__":t,this};function o5(r){var t=-1,a=r==null?0:r.length;for(this.clear();++t<a;){var e=r[t];this.set(e[0],e[1])}}o5.prototype.clear=t8,o5.prototype.delete=B6,o5.prototype.get=a8,o5.prototype.has=q3,o5.prototype.set=C6;var G3=o5,e8=function(){this.size=0,this.__data__={hash:new G3,map:new(W5||b4),string:new G3}},r8=function(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null},i5=function(r,t){var a=r.__data__;return r8(t)?a[typeof t=="string"?"string":"hash"]:a.map},$3=function(r){var t=i5(this,r).delete(r);return this.size-=t?1:0,t},K3=function(r){return i5(this,r).get(r)},Q3=function(r){return i5(this,r).has(r)},n8=function(r,t){var a=i5(this,r),e=a.size;return a.set(r,t),this.size+=a.size==e?0:1,this};function l5(r){var t=-1,a=r==null?0:r.length;for(this.clear();++t<a;){var e=r[t];this.set(e[0],e[1])}}l5.prototype.clear=e8,l5.prototype.delete=$3,l5.prototype.get=K3,l5.prototype.has=Q3,l5.prototype.set=n8;var y4=l5,o8=function(r,t){var a=this.__data__;if(a instanceof b4){var e=a.__data__;if(!W5||e.length<199)return e.push([r,t]),this.size=++a.size,this;a=this.__data__=new y4(e)}return a.set(r,t),this.size=a.size,this};function c5(r){var t=this.__data__=new b4(r);this.size=t.size}c5.prototype.clear=W3,c5.prototype.delete=Xr,c5.prototype.get=Jr,c5.prototype.has=Zr,c5.prototype.set=o8;var p0=c5,Y3=function(r,t){for(var a=-1,e=r==null?0:r.length;++a<e&&t(r[a],a,r)!==!1;);return r},i8=g0(Object.keys,Object),l8=Object.prototype.hasOwnProperty,A6=function(r){if(!kt(r))return i8(r);var t=[];for(var a in Object(r))l8.call(r,a)&&a!="constructor"&&t.push(a);return t},U5=function(r){return J(r)?Bt(r):A6(r)},c8=function(r,t){return r&&o2(t,U5(t),r)},h8=function(r,t){return r&&o2(t,U0(t),r)},b6=c(9),X3=function(r,t){var a=-1,e=r.length;for(t||(t=Array(e));++a<e;)t[a]=r[a];return t},y6=function(r,t){for(var a=-1,e=r==null?0:r.length,n=0,i=[];++a<e;){var h=r[a];t(h,a,r)&&(i[n++]=h)}return i},_6=function(){return[]},s8=Object.prototype.propertyIsEnumerable,S6=Object.getOwnPropertySymbols,_4=S6?function(r){return r==null?[]:(r=Object(r),y6(S6(r),function(t){return s8.call(r,t)}))}:_6,v8=function(r,t){return o2(r,_4(r),t)},I6=function(r,t){for(var a=-1,e=t.length,n=r.length;++a<e;)r[n+a]=t[a];return r},O6=Object.getOwnPropertySymbols?function(r){for(var t=[];r;)I6(t,_4(r)),r=C4(r);return t}:_6,F6=function(r,t){return o2(r,O6(r),t)},P6=function(r,t,a){var e=t(r);return l2(r)?e:I6(e,a(r))},J3=function(r){return P6(r,U5,_4)},E6=function(r){return P6(r,U0,O6)},Z3=w2(O.a,"DataView"),A1=w2(O.a,"Promise"),ta=w2(O.a,"Set"),aa=w2(O.a,"WeakMap"),d8=Q1(Z3),u8=Q1(W5),T6=Q1(A1),g8=Q1(ta),p8=Q1(aa),At=l0;(Z3&&At(new Z3(new ArrayBuffer(1)))!="[object DataView]"||W5&&At(new W5)!="[object Map]"||A1&&At(A1.resolve())!="[object Promise]"||ta&&At(new ta)!="[object Set]"||aa&&At(new aa)!="[object WeakMap]")&&(At=function(r){var t=l0(r),a=t=="[object Object]"?r.constructor:void 0,e=a?Q1(a):"";if(e)switch(e){case d8:return"[object DataView]";case u8:return"[object Map]";case T6:return"[object Promise]";case g8:return"[object Set]";case p8:return"[object WeakMap]"}return t});var q5=At,ea=Object.prototype.hasOwnProperty,z8=function(r){var t=r.length,a=new r.constructor(t);return t&&typeof r[0]=="string"&&ea.call(r,"index")&&(a.index=r.index,a.input=r.input),a},G5=O.a.Uint8Array,S4=function(r){var t=new r.constructor(r.byteLength);return new G5(t).set(new G5(r)),t},R6=function(r,t){var a=t?S4(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)},z2=/\w*$/,D6=function(r){var t=new r.constructor(r.source,z2.exec(r));return t.lastIndex=r.lastIndex,t},N6=P?P.prototype:void 0,ra=N6?N6.valueOf:void 0,na=function(r){return ra?Object(ra.call(r)):{}},ct=function(r,t){var a=t?S4(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)},f8=function(r,t,a){var e=r.constructor;switch(t){case"[object ArrayBuffer]":return S4(r);case"[object Boolean]":case"[object Date]":return new e(+r);case"[object DataView]":return R6(r,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ct(r,a);case"[object Map]":return new e;case"[object Number]":case"[object String]":return new e(r);case"[object RegExp]":return D6(r);case"[object Set]":return new e;case"[object Symbol]":return na(r)}},w=Object.create,L=function(){function r(){}return function(t){if(!b(t))return{};if(w)return w(t);r.prototype=t;var a=new r;return r.prototype=void 0,a}}(),_=function(r){return typeof r.constructor!="function"||kt(r)?{}:L(C4(r))},E=function(r){return k1(r)&&q5(r)=="[object Map]"},a1=Y2.a&&Y2.a.isMap,d1=a1?j5(a1):E,m1=function(r){return k1(r)&&q5(r)=="[object Set]"},v1=Y2.a&&Y2.a.isSet,G1=v1?j5(v1):m1,l1={};l1["[object Arguments]"]=l1["[object Array]"]=l1["[object ArrayBuffer]"]=l1["[object DataView]"]=l1["[object Boolean]"]=l1["[object Date]"]=l1["[object Float32Array]"]=l1["[object Float64Array]"]=l1["[object Int8Array]"]=l1["[object Int16Array]"]=l1["[object Int32Array]"]=l1["[object Map]"]=l1["[object Number]"]=l1["[object Object]"]=l1["[object RegExp]"]=l1["[object Set]"]=l1["[object String]"]=l1["[object Symbol]"]=l1["[object Uint8Array]"]=l1["[object Uint8ClampedArray]"]=l1["[object Uint16Array]"]=l1["[object Uint32Array]"]=!0,l1["[object Error]"]=l1["[object Function]"]=l1["[object WeakMap]"]=!1;var h5=function r(t,a,e,n,i,h){var s,d=1&a,g=2&a,p=4&a;if(e&&(s=i?e(t,n,i,h):e(t)),s!==void 0)return s;if(!b(t))return t;var z=l2(t);if(z){if(s=z8(t),!d)return X3(t,s)}else{var m=q5(t),V=m=="[object Function]"||m=="[object GeneratorFunction]";if(Object(Q2.a)(t))return Object(b6.a)(t,d);if(m=="[object Object]"||m=="[object Arguments]"||V&&!i){if(s=g||V?{}:_(t),!d)return g?F6(t,h8(s,t)):v8(t,c8(s,t))}else{if(!l1[m])return i?t:{};s=f8(t,m,d)}}h||(h=new p0);var B=h.get(t);if(B)return B;h.set(t,s),G1(t)?t.forEach(function(C){s.add(r(C,a,e,C,t,h))}):d1(t)&&t.forEach(function(C,S){s.set(S,r(C,a,e,S,t,h))});var k=z?void 0:(p?g?E6:J3:g?U0:U5)(t);return Y3(k||t,function(C,S){k&&(C=t[S=C]),N2(s,S,r(C,a,e,S,t,h))}),s},ht=function(r,t){return h5(r,5,t=typeof t=="function"?t:void 0)},s2=function(r){return k1(r)&&r.nodeType===1&&!L0(r)};class bt{constructor(t,a){this._config={},a&&this.define($5(a)),t&&this._setObjectToTarget(this._config,t)}set(t,a){this._setToTarget(this._config,t,a)}define(t,a){this._setToTarget(this._config,t,a,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(let t of Object.keys(this._config))yield t}_setToTarget(t,a,e,n=!1){if(L0(a))return void this._setObjectToTarget(t,a,n);let i=a.split(".");a=i.pop();for(let h of i)L0(t[h])||(t[h]={}),t=t[h];if(L0(e))return L0(t[a])||(t[a]={}),t=t[a],void this._setObjectToTarget(t,e,n);n&&t[a]!==void 0||(t[a]=e)}_getFromSource(t,a){let e=a.split(".");a=e.pop();for(let n of e){if(!L0(t[n])){t=null;break}t=t[n]}return t?$5(t[a]):void 0}_setObjectToTarget(t,a,e){Object.keys(a).forEach(n=>{this._setToTarget(t,n,a[n],e)})}}function $5(r){return ht(r,K5)}function K5(r){return s2(r)?r:void 0}function E1(r){return!(!r||!r[Symbol.iterator])}class X1{constructor(t={},a={}){let e=E1(t);if(e||(a=t),this._items=[],this._itemMap=new Map,this._idProperty=a.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],e)for(let n of t)this._items.push(n),this._itemMap.set(this._getItemIdBeforeAdding(n),n)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,a){return this.addMany([t],a)}addMany(t,a){if(a===void 0)a=this._items.length;else if(a>this._items.length||a<0)throw new M.a("collection-add-item-invalid-index",this);for(let e=0;e<t.length;e++){let n=t[e],i=this._getItemIdBeforeAdding(n),h=a+e;this._items.splice(h,0,n),this._itemMap.set(i,n),this.fire("add",n,h)}return this.fire("change",{added:t,removed:[],index:a}),this}get(t){let a;if(typeof t=="string")a=this._itemMap.get(t);else{if(typeof t!="number")throw new M.a("collection-get-invalid-arg",this);a=this._items[t]}return a||null}has(t){if(typeof t=="string")return this._itemMap.has(t);{let a=t[this._idProperty];return this._itemMap.has(a)}}getIndex(t){let a;return a=typeof t=="string"?this._itemMap.get(t):t,this._items.indexOf(a)}remove(t){let[a,e]=this._remove(t);return this.fire("change",{added:[],removed:[a],index:e}),a}map(t,a){return this._items.map(t,a)}find(t,a){return this._items.find(t,a)}filter(t,a){return this._items.filter(t,a)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);let t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new M.a("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:a=>{this._setUpBindToBinding(e=>new a(e))},using:a=>{typeof a=="function"?this._setUpBindToBinding(e=>a(e)):this._setUpBindToBinding(e=>e[a])}}}_setUpBindToBinding(t){let a=this._bindToCollection,e=(n,i,h)=>{let s=a._bindToCollection==this,d=a._bindToInternalToExternalMap.get(i);if(s&&d)this._bindToExternalToInternalMap.set(i,d),this._bindToInternalToExternalMap.set(d,i);else{let g=t(i);if(!g)return void this._skippedIndexesFromExternal.push(h);let p=h;for(let z of this._skippedIndexesFromExternal)h>z&&p--;for(let z of a._skippedIndexesFromExternal)p>=z&&p++;this._bindToExternalToInternalMap.set(i,g),this._bindToInternalToExternalMap.set(g,i),this.add(g,p);for(let z=0;z<a._skippedIndexesFromExternal.length;z++)p<=a._skippedIndexesFromExternal[z]&&a._skippedIndexesFromExternal[z]++}};for(let n of a)e(0,n,a.getIndex(n));this.listenTo(a,"add",e),this.listenTo(a,"remove",(n,i,h)=>{let s=this._bindToExternalToInternalMap.get(i);s&&this.remove(s),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((d,g)=>(h<g&&d.push(g-1),h>g&&d.push(g),d),[])})}_getItemIdBeforeAdding(t){let a=this._idProperty,e;if(a in t){if(e=t[a],typeof e!="string")throw new M.a("collection-add-invalid-id",this);if(this.get(e))throw new M.a("collection-add-item-already-exists",this)}else t[a]=e=x();return e}_remove(t){let a,e,n,i=!1,h=this._idProperty;if(typeof t=="string"?(e=t,n=this._itemMap.get(e),i=!n,n&&(a=this._items.indexOf(n))):typeof t=="number"?(a=t,n=this._items[a],i=!n,n&&(e=n[h])):(n=t,e=n[h],a=this._items.indexOf(n),i=a==-1||!this._itemMap.get(e)),i)throw new M.a("collection-remove-404",this);this._items.splice(a,1),this._itemMap.delete(e);let s=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(s),this.fire("remove",n,a),[n,a]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}i1(X1,U);class Q5{constructor(t,a=[],e=[]){this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(let n of a)n.pluginName&&this._availablePlugins.set(n.pluginName,n);this._contextPlugins=new Map;for(let[n,i]of e)this._contextPlugins.set(n,i),this._contextPlugins.set(i,n),n.pluginName&&this._availablePlugins.set(n.pluginName,n)}*[Symbol.iterator](){for(let t of this._plugins)typeof t[0]=="function"&&(yield t)}get(t){let a=this._plugins.get(t);if(!a){let e=t;throw typeof t=="function"&&(e=t.pluginName||t.name),new M.a("plugincollection-plugin-not-loaded",this._context,{plugin:e})}return a}has(t){return this._plugins.has(t)}init(t,a=[],e=[]){let n=this,i=this._context;(function B(k,C=new Set){k.forEach(S=>{d(S)&&(C.has(S)||(C.add(S),S.pluginName&&!n._availablePlugins.has(S.pluginName)&&n._availablePlugins.set(S.pluginName,S),S.requires&&B(S.requires,C)))})})(t),m(t);let h=[...function B(k,C=new Set){return k.map(S=>d(S)?S:n._availablePlugins.get(S)).reduce((S,F)=>C.has(F)?S:(C.add(F),F.requires&&(m(F.requires,F),B(F.requires,C).forEach(N=>S.add(N))),S.add(F)),new Set)}(t.filter(B=>!p(B,a)))];(function(B,k){for(let C of k){if(typeof C!="function")throw new M.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:C});let S=C.pluginName;if(!S)throw new M.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:C});if(C.requires&&C.requires.length)throw new M.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:S});let F=n._availablePlugins.get(S);if(!F)throw new M.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:S});let N=B.indexOf(F);if(N===-1){if(n._contextPlugins.has(F))return;throw new M.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:S})}if(F.requires&&F.requires.length)throw new M.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:S});B.splice(N,1,C),n._availablePlugins.set(S,C)}})(h,e);let s=function(B){return B.map(k=>{let C=n._contextPlugins.get(k)||new k(i);return n._add(k,C),C})}(h);return V(s,"init").then(()=>V(s,"afterInit")).then(()=>s);function d(B){return typeof B=="function"}function g(B){return d(B)&&B.isContextPlugin}function p(B,k){return k.some(C=>C===B||z(B)===C||z(C)===B)}function z(B){return d(B)?B.pluginName||B.name:B}function m(B,k=null){B.map(C=>d(C)?C:n._availablePlugins.get(C)||C).forEach(C=>{(function(S,F){if(!d(S))throw F?new M.a("plugincollection-soft-required",i,{missingPlugin:S,requiredBy:z(F)}):new M.a("plugincollection-plugin-not-found",i,{plugin:S})})(C,k),function(S,F){if(!!g(F)&&!g(S))throw new M.a("plugincollection-context-required",i,{plugin:z(S),requiredBy:z(F)})}(C,k),function(S,F){if(!!F&&!!p(S,a))throw new M.a("plugincollection-required",i,{plugin:z(S),requiredBy:z(F)})}(C,k)})}function V(B,k){return B.reduce((C,S)=>S[k]?n._contextPlugins.has(S)?C:C.then(S[k].bind(S)):C,Promise.resolve())}}destroy(){let t=[];for(let[,a]of this)typeof a.destroy!="function"||this._contextPlugins.has(a)||t.push(a.destroy());return Promise.all(t)}_add(t,a){this._plugins.set(t,a);let e=t.pluginName;if(e){if(this._plugins.has(e))throw new M.a("plugincollection-plugin-name-conflict",null,{pluginName:e,plugin1:this._plugins.get(e).constructor,plugin2:t});this._plugins.set(e,a)}}}function u1(r){return Array.isArray(r)?r:[r]}function G0(r,t,a=1){if(typeof a!="number")throw new M.a("translation-service-quantity-not-a-number",null,{quantity:a});let e=Object.keys(window.CKEDITOR_TRANSLATIONS).length;e===1&&(r=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);let n=t.id||t.string;if(e===0||!function(d,g){return!!window.CKEDITOR_TRANSLATIONS[d]&&!!window.CKEDITOR_TRANSLATIONS[d].dictionary[g]}(r,n))return a!==1?t.plural:t.string;let i=window.CKEDITOR_TRANSLATIONS[r].dictionary,h=window.CKEDITOR_TRANSLATIONS[r].getPluralForm||(d=>d===1?0:1);if(typeof i[n]=="string")return i[n];let s=Number(h(a));return i[n][s]}i1(Q5,U),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});let I4=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Do(r){return I4.includes(r)?"rtl":"ltr"}class Fg{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Do(this.uiLanguage),this.contentLanguageDirection=Do(this.contentLanguage),this.t=(a,e)=>this._t(a,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,a=[]){a=u1(a),typeof t=="string"&&(t={string:t});let e=t.plural?a[0]:1;return function(n,i){return n.replace(/%(\d+)/g,(h,s)=>s<i.length?i[s]:h)}(G0(this.uiLanguage,t,e),a)}}class Pg{constructor(t){this.config=new bt(t,this.constructor.defaultConfig);let a=this.constructor.builtinPlugins;this.config.define("plugins",a),this.plugins=new Q5(this,a);let e=this.config.get("language")||{};this.locale=new Fg({uiLanguage:typeof e=="string"?e:e.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new X1,this._contextOwner=null}initPlugins(){let t=this.config.get("plugins")||[],a=this.config.get("substitutePlugins")||[];for(let e of t.concat(a)){if(typeof e!="function")throw new M.a("context-initplugins-constructor-only",null,{Plugin:e});if(e.isContextPlugin!==!0)throw new M.a("context-initplugins-invalid-plugin",null,{Plugin:e})}return this.plugins.init(t,[],a)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,a){if(this._contextOwner)throw new M.a("context-addeditor-private-context");this.editors.add(t),a&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){let t={};for(let a of this.config.names())["plugins","removePlugins","extraPlugins"].includes(a)||(t[a]=this.config.get(a));return t}static create(t){return new Promise(a=>{let e=new this(t);a(e.initPlugins().then(()=>e))})}}class oa{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}function S2(r,t){let a=Math.min(r.length,t.length);for(let e=0;e<a;e++)if(r[e]!=t[e])return e;return r.length==t.length?"same":r.length<t.length?"prefix":"extension"}i1(oa,w1);var No=function(r){return h5(r,4)};class Y5{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))==-1)throw new M.a("view-node-not-found-in-parent",this);return t}get nextSibling(){let t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){let t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){let t=[],a=this;for(;a.parent;)t.unshift(a.index),a=a.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){let a=[],e=t.includeSelf?this:this.parent;for(;e;)a[t.parentFirst?"push":"unshift"](e),e=e.parent;return a}getCommonAncestor(t,a={}){let e=this.getAncestors(a),n=t.getAncestors(a),i=0;for(;e[i]==n[i]&&e[i];)i++;return i===0?null:e[i-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;let a=this.getPath(),e=t.getPath(),n=S2(a,e);switch(n){case"prefix":return!0;case"extension":return!1;default:return a[n]<e[n]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,a){this.fire("change:"+t,a),this.parent&&this.parent._fireChange(t,a)}toJSON(){let t=No(this);return delete t.parent,t}is(t){return t==="node"||t==="view:node"}}i1(Y5,U);class O1 extends Y5{constructor(t,a){super(t),this._textData=a}is(t){return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node"}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof O1&&(this===t||this.data===t.data)}_clone(){return new O1(this.document,this.data)}}class yt{constructor(t,a,e){if(this.textNode=t,a<0||a>t.data.length)throw new M.a("view-textproxy-wrong-offsetintext",this);if(e<0||a+e>t.data.length)throw new M.a("view-textproxy-wrong-length",this);this.data=t.data.substring(a,a+e),this.offsetInText=a}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy"}getAncestors(t={includeSelf:!1,parentFirst:!1}){let a=[],e=t.includeSelf?this.textNode:this.parent;for(;e!==null;)a[t.parentFirst?"push":"unshift"](e),e=e.parent;return a}}function _t(r){return E1(r)?new Map(r):function(t){let a=new Map;for(let e in t)a.set(e,t[e]);return a}(r)}class st{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let a of t)(typeof a=="string"||a instanceof RegExp)&&(a={name:a}),a.classes&&(typeof a.classes=="string"||a.classes instanceof RegExp)&&(a.classes=[a.classes]),this._patterns.push(a)}match(...t){for(let a of t)for(let e of this._patterns){let n=jo(a,e);if(n)return{element:a,pattern:e,match:n}}return null}matchAll(...t){let a=[];for(let e of t)for(let n of this._patterns){let i=jo(e,n);i&&a.push({element:e,pattern:n,match:i})}return a.length>0?a:null}getElementName(){if(this._patterns.length!==1)return null;let t=this._patterns[0],a=t.name;return typeof t=="function"||!a||a instanceof RegExp?null:a}}function jo(r,t){if(typeof t=="function")return t(r);let a={};return t.name&&(a.name=function(e,n){return e instanceof RegExp?e.test(n):e===n}(t.name,r.name),!a.name)||t.attributes&&(a.attributes=function(e,n){let i=[];for(let h in e){let s=e[h];if(!n.hasAttribute(h))return null;{let d=n.getAttribute(h);if(s===!0)i.push(h);else if(s instanceof RegExp){if(!s.test(d))return null;i.push(h)}else{if(d!==s)return null;i.push(h)}}}return i}(t.attributes,r),!a.attributes)?null:!(t.classes&&(a.classes=function(e,n){let i=[];for(let h of e)if(h instanceof RegExp){let s=n.getClassNames();for(let d of s)h.test(d)&&i.push(d);if(i.length===0)return null}else{if(!n.hasClass(h))return null;i.push(h)}return i}(t.classes,r),!a.classes))&&!(t.styles&&(a.styles=function(e,n){let i=[];for(let h in e){let s=e[h];if(!n.hasStyle(h))return null;{let d=n.getStyle(h);if(s instanceof RegExp){if(!s.test(d))return null;i.push(h)}else{if(d!==s)return null;i.push(h)}}}return i}(t.styles,r),!a.styles))&&a}var j6=function(r){return typeof r=="symbol"||k1(r)&&l0(r)=="[object Symbol]"},Eg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tg=/^\w*$/,Rg=function(r,t){if(l2(r))return!1;var a=typeof r;return!(a!="number"&&a!="symbol"&&a!="boolean"&&r!=null&&!j6(r))||Tg.test(r)||!Eg.test(r)||t!=null&&r in Object(t)};function M8(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var a=function(){var e=arguments,n=t?t.apply(this,e):e[0],i=a.cache;if(i.has(n))return i.get(n);var h=r.apply(this,e);return a.cache=i.set(n,h)||i,h};return a.cache=new(M8.Cache||y4),a}M8.Cache=y4;var Dg=M8,Ng=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jg=/\\(\\)?/g,Wg=function(r){var t=Dg(r,function(e){return a.size===500&&a.clear(),e}),a=t.cache;return t}(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(Ng,function(a,e,n,i){t.push(n?i.replace(jg,"$1"):e||a)}),t}),Ug=function(r,t){for(var a=-1,e=r==null?0:r.length,n=Array(e);++a<e;)n[a]=t(r[a],a,r);return n},Wo=P?P.prototype:void 0,Uo=Wo?Wo.toString:void 0,qg=function r(t){if(typeof t=="string")return t;if(l2(t))return Ug(t,r)+"";if(j6(t))return Uo?Uo.call(t):"";var a=t+"";return a=="0"&&1/t==-1/0?"-0":a},m8=function(r){return r==null?"":qg(r)},x8=function(r,t){return l2(r)?r:Rg(r,t)?[r]:Wg(m8(r))},Gg=function(r){var t=r==null?0:r.length;return t?r[t-1]:void 0},H8=function(r){if(typeof r=="string"||j6(r))return r;var t=r+"";return t=="0"&&1/r==-1/0?"-0":t},qo=function(r,t){for(var a=0,e=(t=x8(t,r)).length;r!=null&&a<e;)r=r[H8(t[a++])];return a&&a==e?r:void 0},Go=function(r,t,a){var e=-1,n=r.length;t<0&&(t=-t>n?0:n+t),(a=a>n?n:a)<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(n);++e<n;)i[e]=r[e+t];return i},$g=function(r,t){return t.length<2?r:qo(r,Go(t,0,-1))},Kg=function(r,t){return t=x8(t,r),(r=$g(r,t))==null||delete r[H8(Gg(t))]},Qg=function(r,t){return r==null||Kg(r,t)},W6=function(r,t,a){var e=r==null?void 0:qo(r,t);return e===void 0?a:e},V8=function(r,t,a){(a!==void 0&&!h2(r[t],a)||a===void 0&&!(t in r))&&R0(r,t,a)},Yg=function(r){return function(t,a,e){for(var n=-1,i=Object(t),h=e(t),s=h.length;s--;){var d=h[r?s:++n];if(a(i[d],d,i)===!1)break}return t}}(),Xg=function(r){return k1(r)&&J(r)},w8=function(r,t){if((t!=="constructor"||typeof r[t]!="function")&&t!="__proto__")return r[t]},Jg=function(r){return o2(r,U0(r))},Zg=function(r,t,a,e,n,i,h){var s=w8(r,a),d=w8(t,a),g=h.get(d);if(g)V8(r,a,g);else{var p=i?i(s,d,a+"",r,t,h):void 0,z=p===void 0;if(z){var m=l2(d),V=!m&&Object(Q2.a)(d),B=!m&&!V&&X2(d);p=d,m||V||B?l2(s)?p=s:Xg(s)?p=X3(s):V?(z=!1,p=Object(b6.a)(d,!0)):B?(z=!1,p=ct(d,!0)):p=[]:L0(d)||Jt(d)?(p=s,Jt(s)?p=Jg(s):b(s)&&!c0(s)||(p=_(d))):z=!1}z&&(h.set(d,p),n(p,d,e,i,h),h.delete(d)),V8(r,a,p)}},tp=function r(t,a,e,n,i){t!==a&&Yg(a,function(h,s){if(i||(i=new p0),b(h))Zg(t,a,s,e,r,n,i);else{var d=n?n(w8(t,s),h,s+"",t,a,i):void 0;d===void 0&&(d=h),V8(t,s,d)}},U0)},$o=W0(function(r,t,a){tp(r,t,a)}),ap=function(r,t,a,e){if(!b(r))return r;for(var n=-1,i=(t=x8(t,r)).length,h=i-1,s=r;s!=null&&++n<i;){var d=H8(t[n]),g=a;if(d==="__proto__"||d==="constructor"||d==="prototype")return r;if(n!=h){var p=s[d];(g=e?e(p,d,s):void 0)===void 0&&(g=b(p)?p:q1(t[n+1])?[]:{})}N2(s,d,g),s=s[d]}return r},ep=function(r,t,a){return r==null?r:ap(r,t,a)};class rp{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){let t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();let a=Array.from(function(e){let n=null,i=0,h=0,s=null,d=new Map;if(e==="")return d;e.charAt(e.length-1)!=";"&&(e+=";");for(let g=0;g<e.length;g++){let p=e.charAt(g);if(n===null)switch(p){case":":s||(s=e.substr(i,g-i),h=g+1);break;case'"':case"'":n=p;break;case";":{let z=e.substr(h,g-h);s&&d.set(s.trim(),z.trim()),s=null,i=g+1;break}}else p===n&&(n=null)}return d}(t).entries());for(let[e,n]of a)this._styleProcessor.toNormalizedForm(e,n,this._styles)}has(t){if(this.isEmpty)return!1;let a=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(a)}set(t,a){if(b(t))for(let[e,n]of Object.entries(t))this._styleProcessor.toNormalizedForm(e,n,this._styles);else this._styleProcessor.toNormalizedForm(t,a,this._styles)}remove(t){let a=L8(t);Qg(this._styles,a),delete this._styles[t],this._cleanEmptyObjectsOnPath(a)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!b(this._styles[t]))return this._styles[t];let a=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(a)?a[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){let t=[],a=Object.keys(this._styles);for(let e of a)t.push(...this._styleProcessor.getReducedForm(e,this._styles));return t}_cleanEmptyObjectsOnPath(t){let a=t.split(".");if(!(a.length>1))return;let e=a.splice(0,a.length-1).join("."),n=W6(this._styles,e);!n||!Array.from(Object.keys(n)).length&&this.remove(e)}}class np{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,a,e){if(b(a))B8(e,L8(t),a);else if(this._normalizers.has(t)){let n=this._normalizers.get(t),{path:i,value:h}=n(a);B8(e,i,h)}else B8(e,t,a)}getNormalized(t,a){if(!t)return $o({},a);if(a[t]!==void 0)return a[t];if(this._extractors.has(t)){let e=this._extractors.get(t);if(typeof e=="string")return W6(a,e);let n=e(t,a);if(n)return n}return W6(a,L8(t))}getReducedForm(t,a){let e=this.getNormalized(t,a);return e===void 0?[]:this._reducers.has(t)?this._reducers.get(t)(e):[[t,e]]}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,a){this._normalizers.set(t,a)}setExtractor(t,a){this._extractors.set(t,a)}setReducer(t,a){this._reducers.set(t,a)}setStyleRelation(t,a){this._mapStyleNames(t,a);for(let e of a)this._mapStyleNames(e,[t])}_mapStyleNames(t,a){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...a)}}function L8(r){return r.replace("-",".")}function B8(r,t,a){let e=a;b(a)&&(e=$o({},W6(r,t),a)),ep(r,t,e)}class B0 extends Y5{constructor(t,a,e,n){if(super(t),this.name=a,this._attrs=function(i){i=_t(i);for(let[h,s]of i)s===null?i.delete(h):typeof s!="string"&&i.set(h,String(s));return i}(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){let i=this._attrs.get("class");Ko(this._classes,i),this._attrs.delete("class")}this._styles=new rp(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(t,a=null){return a?a===this.name&&(t==="element"||t==="view:element"):t==="element"||t==="view:element"||t==="node"||t==="view:node"}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if(t=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(t=="style"){let a=this._styles.toString();return a==""?void 0:a}return this._attrs.get(t)}hasAttribute(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof B0))return!1;if(this===t)return!0;if(this.name!=t.name||this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(let[a,e]of this._attrs)if(!t._attrs.has(a)||t._attrs.get(a)!==e)return!1;for(let a of this._classes)if(!t._classes.has(a))return!1;for(let a of this._styles.getStyleNames())if(!t._styles.has(a)||t._styles.getAsString(a)!==this._styles.getAsString(a))return!1;return!0}hasClass(...t){for(let a of t)if(!this._classes.has(a))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...t){for(let a of t)if(!this._styles.has(a))return!1;return!0}findAncestor(...t){let a=new st(...t),e=this.parent;for(;e;){if(a.match(e))return e;e=e.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){let t=Array.from(this._classes).sort().join(","),a=this._styles.toString(),e=Array.from(this._attrs).map(n=>`${n[0]}="${n[1]}"`).sort().join(" ");return this.name+(t==""?"":` class="${t}"`)+(a?` style="${a}"`:"")+(e==""?"":" "+e)}_clone(t=!1){let a=[];if(t)for(let n of this.getChildren())a.push(n._clone(t));let e=new this.constructor(this.document,this.name,this._attrs,a);return e._classes=new Set(this._classes),e._styles.set(this._styles.getNormalized()),e._customProperties=new Map(this._customProperties),e.getFillerOffset=this.getFillerOffset,e._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,e}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,a){this._fireChange("children",this);let e=0,n=function(i,h){return typeof h=="string"?[new O1(i,h)]:(E1(h)||(h=[h]),Array.from(h).map(s=>typeof s=="string"?new O1(i,s):s instanceof yt?new O1(i,s.data):s))}(this.document,a);for(let i of n)i.parent!==null&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(t,0,i),t++,e++;return e}_removeChildren(t,a=1){this._fireChange("children",this);for(let e=t;e<t+a;e++)this._children[e].parent=null;return this._children.splice(t,a)}_setAttribute(t,a){a=String(a),this._fireChange("attributes",this),t=="class"?Ko(this._classes,a):t=="style"?this._styles.setTo(a):this._attrs.set(t,a)}_removeAttribute(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(let a of u1(t))this._classes.add(a)}_removeClass(t){this._fireChange("attributes",this);for(let a of u1(t))this._classes.delete(a)}_setStyle(t,a){this._fireChange("attributes",this),this._styles.set(t,a)}_removeStyle(t){this._fireChange("attributes",this);for(let a of u1(t))this._styles.remove(a)}_setCustomProperty(t,a){this._customProperties.set(t,a)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Ko(r,t){let a=t.split(/\s+/);r.clear(),a.forEach(e=>r.add(e))}class U6 extends B0{constructor(t,a,e,n){super(t,a,e,n),this.getFillerOffset=Qo}is(t,a=null){return a?a===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}}function Qo(){let r=[...this.getChildren()],t=r[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(let a of r)if(!a.is("uiElement"))return null;return this.childCount}class q6 extends U6{constructor(t,a,e,n){super(t,a,e,n),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",i=>i&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,a=null){return a?a===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}destroy(){this.stopListening()}}i1(q6,w1);let Yo=Symbol("rootName");class op extends q6{constructor(t,a){super(t,a),this.rootName="main"}is(t,a=null){return a?a===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}get rootName(){return this.getCustomProperty(Yo)}set rootName(t){this._setCustomProperty(Yo,t)}set _name(t){this.name=t}}class X5{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new M.a("view-tree-walker-no-start-position",null);if(t.direction&&t.direction!="forward"&&t.direction!="backward")throw new M.a("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=Y._createAt(t.startPosition):this.position=Y._createAt(t.boundaries[t.direction=="backward"?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let a,e,n;do n=this.position,{done:a,value:e}=this.next();while(!a&&t(e));a||(this.position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position.clone(),a=this.position,e=t.parent;if(e.parent===null&&t.offset===e.childCount)return{done:!0};if(e===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let n;if(e instanceof O1){if(t.isAtEnd)return this.position=Y._createAfter(e),this._next();n=e.data[t.offset]}else n=e.getChild(t.offset);if(n instanceof B0)return this.shallow?t.offset++:t=new Y(n,0),this.position=t,this._formatReturnValue("elementStart",n,a,t,1);if(n instanceof O1){if(this.singleCharacters)return t=new Y(n,0),this.position=t,this._next();{let i,h=n.data.length;return n==this._boundaryEndParent?(h=this.boundaries.end.offset,i=new yt(n,0,h),t=Y._createAfter(i)):(i=new yt(n,0,n.data.length),t.offset++),this.position=t,this._formatReturnValue("text",i,a,t,h)}}if(typeof n=="string"){let i;this.singleCharacters?i=1:i=(e===this._boundaryEndParent?this.boundaries.end.offset:e.data.length)-t.offset;let h=new yt(e,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",h,a,t,i)}return t=Y._createAfter(e),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",e,a,t)}_previous(){let t=this.position.clone(),a=this.position,e=t.parent;if(e.parent===null&&t.offset===0)return{done:!0};if(e==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let n;if(e instanceof O1){if(t.isAtStart)return this.position=Y._createBefore(e),this._previous();n=e.data[t.offset-1]}else n=e.getChild(t.offset-1);if(n instanceof B0)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",n,a,t,1)):(t=new Y(n,n.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",n,a,t));if(n instanceof O1){if(this.singleCharacters)return t=new Y(n,n.data.length),this.position=t,this._previous();{let i,h=n.data.length;if(n==this._boundaryStartParent){let s=this.boundaries.start.offset;i=new yt(n,s,n.data.length-s),h=i.data.length,t=Y._createBefore(i)}else i=new yt(n,0,n.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",i,a,t,h)}}if(typeof n=="string"){let i;if(this.singleCharacters)i=1;else{let s=e===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-s}t.offset-=i;let h=new yt(e,t.offset,i);return this.position=t,this._formatReturnValue("text",h,a,t,i)}return t=Y._createBefore(e),this.position=t,this._formatReturnValue("elementStart",e,a,t,1)}_formatReturnValue(t,a,e,n,i){return a instanceof yt&&(a.offsetInText+a.data.length==a.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?e=Y._createAfter(a.textNode):(n=Y._createAfter(a.textNode),this.position=n)),a.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?e=Y._createBefore(a.textNode):(n=Y._createBefore(a.textNode),this.position=n))),{done:!1,value:{type:t,item:a,previousPosition:e,nextPosition:n,length:i}}}}class Y{constructor(t,a){this.parent=t,this.offset=a}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){let t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof q6);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){let a=Y._createAt(this),e=a.offset+t;return a.offset=e<0?0:e,a}getLastMatchingPosition(t,a={}){a.startPosition=this;let e=new X5(a);return e.skip(t),e.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){let a=this.getAncestors(),e=t.getAncestors(),n=0;for(;a[n]==e[n]&&a[n];)n++;return n===0?null:a[n-1]}is(t){return t==="position"||t==="view:position"}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return this.compareWith(t)=="before"}isAfter(t){return this.compareWith(t)=="after"}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";let a=this.parent.is("node")?this.parent.getPath():[],e=t.parent.is("node")?t.parent.getPath():[];a.push(this.offset),e.push(t.offset);let n=S2(a,e);switch(n){case"prefix":return"before";case"extension":return"after";default:return a[n]<e[n]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new X5(t)}clone(){return new Y(this.parent,this.offset)}static _createAt(t,a){if(t instanceof Y)return new this(t.parent,t.offset);{let e=t;if(a=="end")a=e.is("$text")?e.data.length:e.childCount;else{if(a=="before")return this._createBefore(e);if(a=="after")return this._createAfter(e);if(a!==0&&!a)throw new M.a("view-createpositionat-offset-required",e)}return new Y(e,a)}}static _createAfter(t){if(t.is("$textProxy"))return new Y(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new M.a("view-position-after-root",t,{root:t});return new Y(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new Y(t.textNode,t.offsetInText);if(!t.parent)throw new M.a("view-position-before-root",t,{root:t});return new Y(t.parent,t.index)}}class c1{constructor(t,a=null){this.start=t.clone(),this.end=a?a.clone():t.clone()}*[Symbol.iterator](){yield*new X5({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(G6,{direction:"backward"}),a=this.end.getLastMatchingPosition(G6);return t.parent.is("$text")&&t.isAtStart&&(t=Y._createBefore(t.parent)),a.parent.is("$text")&&a.isAtEnd&&(a=Y._createAfter(a.parent)),new c1(t,a)}getTrimmed(){let t=this.start.getLastMatchingPosition(G6);if(t.isAfter(this.end)||t.isEqual(this.end))return new c1(t,t);let a=this.end.getLastMatchingPosition(G6,{direction:"backward"}),e=t.nodeAfter,n=a.nodeBefore;return e&&e.is("$text")&&(t=new Y(e,0)),n&&n.is("$text")&&(a=new Y(n,n.data.length)),new c1(t,a)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,a=!1){t.isCollapsed&&(a=!1);let e=this.containsPosition(t.start)||a&&this.start.isEqual(t.start),n=this.containsPosition(t.end)||a&&this.end.isEqual(t.end);return e&&n}getDifference(t){let a=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&a.push(new c1(this.start,t.start)),this.containsPosition(t.end)&&a.push(new c1(t.end,this.end))):a.push(this.clone()),a}getIntersection(t){if(this.isIntersecting(t)){let a=this.start,e=this.end;return this.containsPosition(t.start)&&(a=t.start),this.containsPosition(t.end)&&(e=t.end),new c1(a,e)}return null}getWalker(t={}){return t.boundaries=this,new X5(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,a=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(a=this.end.parent.previousSibling),t&&t.is("element")&&t===a?t:null}clone(){return new c1(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;let a=new X5(t);for(let e of a)yield e.item}*getPositions(t={}){t.boundaries=this;let a=new X5(t);yield a.position;for(let e of a)yield e.nextPosition}is(t){return t==="range"||t==="view:range"}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,a,e,n){return new this(new Y(t,a),new Y(e,n))}static _createFromPositionAndShift(t,a){let e=t,n=t.getShiftedBy(a);return a>0?new this(e,n):new this(n,e)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){let a=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Y._createBefore(t),a)}}function G6(r){return!(!r.item.is("attributeElement")&&!r.item.is("uiElement"))}function k8(r){let t=0;for(let a of r)t++;return t}class $0{constructor(t=null,a,e){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,a,e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;let t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;let t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(let t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(let a of this._ranges)t&&!a.start.isBefore(t.start)||(t=a);return t?t.clone():null}getLastRange(){let t=null;for(let a of this._ranges)t&&!a.end.isAfter(t.end)||(t=a);return t?t.clone():null}getFirstPosition(){let t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){let t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(let a of this._ranges){let e=!1;for(let n of t._ranges)if(a.isEqual(n)){e=!0;break}if(!e)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;let a=k8(this.getRanges());if(a!=k8(t.getRanges()))return!1;if(a==0)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(t,a,e){if(t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof $0||t instanceof C8)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof c1)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof Y)this._setRanges([new c1(t)]),this._setFakeOptions(a);else if(t instanceof Y5){let n=!!e&&!!e.backward,i;if(a===void 0)throw new M.a("view-selection-setto-required-second-parameter",this);i=a=="in"?c1._createIn(t):a=="on"?c1._createOn(t):new c1(Y._createAt(t,a)),this._setRanges([i],n),this._setFakeOptions(e)}else{if(!E1(t))throw new M.a("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(t,a){if(this.anchor===null)throw new M.a("view-selection-setfocus-no-ranges",this);let e=Y._createAt(t,a);if(e.compareWith(this.focus)=="same")return;let n=this.anchor;this._ranges.pop(),e.compareWith(n)=="before"?this._addRange(new c1(e,n),!0):this._addRange(new c1(n,e)),this.fire("change")}is(t){return t==="selection"||t==="view:selection"}_setRanges(t,a=!1){t=Array.from(t),this._ranges=[];for(let e of t)this._addRange(e);this._lastRangeBackward=!!a}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,a=!1){if(!(t instanceof c1))throw new M.a("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!a}_pushRange(t){for(let a of this._ranges)if(t.isIntersecting(a))throw new M.a("view-selection-range-intersects",this,{addedRange:t,intersectingRange:a});this._ranges.push(new c1(t.start,t.end))}}i1($0,U);class C8{constructor(t=null,a,e){this._selection=new $0,this._selection.delegate("change").to(this),this._selection.setTo(t,a,e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection"}_setTo(t,a,e){this._selection.setTo(t,a,e)}_setFocus(t,a){this._selection.setFocus(t,a)}}i1(C8,U);class $6 extends v{constructor(t,a,e){super(t,a),this.startRange=e,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}let A8=Symbol("bubbling contexts");var ip={fire(r,...t){try{let a=r instanceof v?r:new v(this,r),e=b8(this);if(!e.size)return;if(ia(a,"capturing",this),O4(e,"$capture",a,...t))return a.return;let n=a.startRange||this.selection.getFirstRange(),i=n?n.getContainedElement():null,h=!!i&&Boolean(Xo(e,i)),s=i||function(d){if(!d)return null;let g=d.start.parent,p=d.end.parent,z=g.getPath(),m=p.getPath();return z.length>m.length?g:p}(n);if(ia(a,"atTarget",s),!h){if(O4(e,"$text",a,...t))return a.return;ia(a,"bubbling",s)}for(;s;){if(s.is("rootElement")){if(O4(e,"$root",a,...t))return a.return}else if(s.is("element")&&O4(e,s.name,a,...t))return a.return;if(O4(e,s,a,...t))return a.return;s=s.parent,ia(a,"bubbling",s)}return ia(a,"bubbling",this),O4(e,"$document",a,...t),a.return}catch(a){M.a.rethrowUnexpectedError(a,this)}},_addEventListener(r,t,a){let e=u1(a.context||"$document"),n=b8(this);for(let i of e){let h=n.get(i);h||(h=Object.create(U),n.set(i,h)),this.listenTo(h,r,t,a)}},_removeEventListener(r,t){let a=b8(this);for(let e of a.values())this.stopListening(e,r,t)}};function ia(r,t,a){r instanceof $6&&(r._eventPhase=t,r._currentTarget=a)}function O4(r,t,a,...e){let n=typeof t=="string"?r.get(t):Xo(r,t);return!!n&&(n.fire(a,...e),a.stop.called)}function Xo(r,t){for(let[a,e]of r)if(typeof a=="function"&&a(t))return e;return null}function b8(r){return r[A8]||(r[A8]=new Map),r[A8]}class la{constructor(t){this.selection=new C8,this.roots=new X1({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let a=!1;do for(let e of this._postFixers)if(a=e(t),a)break;while(a)}}i1(la,ip),i1(la,w1);class F4 extends B0{constructor(t,a,e,n){super(t,a,e,n),this.getFillerOffset=lp,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new M.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(t,a=null){return a?a===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}isSimilar(t){return this.id!==null||t.id!==null?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){let a=super._clone(t);return a._priority=this._priority,a._id=this._id,a}}function lp(){if(y8(this))return null;let r=this.parent;for(;r&&r.is("attributeElement");){if(y8(r)>1)return null;r=r.parent}return!r||y8(r)>1?null:this.childCount}function y8(r){return Array.from(r.getChildren()).filter(t=>!t.is("uiElement")).length}F4.DEFAULT_PRIORITY=10;class Jo extends B0{constructor(t,a,e,n){super(t,a,e,n),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=cp}is(t,a=null){return a?a===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,a){if(a&&(a instanceof Y5||Array.from(a).length>0))throw new M.a("view-emptyelement-cannot-add",[this,a])}}function cp(){return null}let ca=navigator.userAgent.toLowerCase();var v2={isMac:function(r){return r.indexOf("macintosh")>-1}(ca),isGecko:function(r){return!!r.match(/gecko\/\d+/)}(ca),isSafari:function(r){return r.indexOf(" applewebkit/")>-1&&r.indexOf("chrome")===-1}(ca),isAndroid:function(r){return r.indexOf("android")>-1}(ca),isBlink:function(r){return r.indexOf("chrome/")>-1&&r.indexOf("edge/")<0}(ca),features:{isRegExpUnicodePropertySupported:function(){let r=!1;try{r="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(t){}return r}()}};let hp={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},sp={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},M1=function(){let r={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){let a=String.fromCharCode(t);r[a.toLowerCase()]=t}for(let t=48;t<=57;t++)r[t-48]=t;for(let t=112;t<=123;t++)r["f"+(t-111)]=t;return r}(),vp=Object.fromEntries(Object.entries(M1).map(([r,t])=>[t,r.charAt(0).toUpperCase()+r.slice(1)]));function vt(r){let t;if(typeof r=="string"){if(t=M1[r.toLowerCase()],!t)throw new M.a("keyboard-unknown-key",null,{key:r})}else t=r.keyCode+(r.altKey?M1.alt:0)+(r.ctrlKey?M1.ctrl:0)+(r.shiftKey?M1.shift:0)+(r.metaKey?M1.cmd:0);return t}function _8(r){return typeof r=="string"&&(r=function(t){return t.split("+").map(a=>a.trim())}(r)),r.map(t=>typeof t=="string"?function(a){if(a.endsWith("!"))return vt(a.slice(0,-1));let e=vt(a);return v2.isMac&&e==M1.ctrl?M1.cmd:e}(t):t).reduce((t,a)=>a+t,0)}function Zo(r){let t=_8(r);return Object.entries(v2.isMac?hp:sp).reduce((a,[e,n])=>((t&M1[e])!=0&&(t&=~M1[e],a+=n),a),"")+(t?vp[t]:"")}function ti(r,t){let a=t==="ltr";switch(r){case M1.arrowleft:return a?"left":"right";case M1.arrowright:return a?"right":"left";case M1.arrowup:return"up";case M1.arrowdown:return"down"}}function ai(r,t){let a=ti(r,t);return a==="down"||a==="right"}class ei extends B0{constructor(t,a,e,n){super(t,a,e,n),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=up}is(t,a=null){return a?a===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,a){if(a&&(a instanceof Y5||Array.from(a).length>0))throw new M.a("view-uielement-cannot-add",this)}render(t){return this.toDomElement(t)}toDomElement(t){let a=t.createElement(this.name);for(let e of this.getAttributeKeys())a.setAttribute(e,this.getAttribute(e));return a}}function dp(r){r.document.on("arrowKey",(t,a)=>function(e,n,i){if(n.keyCode==M1.arrowright){let h=n.domTarget.ownerDocument.defaultView.getSelection(),s=h.rangeCount==1&&h.getRangeAt(0).collapsed;if(s||n.shiftKey){let d=h.focusNode,g=h.focusOffset,p=i.domPositionToView(d,g);if(p===null)return;let z=!1,m=p.getLastMatchingPosition(V=>(V.item.is("uiElement")&&(z=!0),!(!V.item.is("uiElement")&&!V.item.is("attributeElement"))));if(z){let V=i.viewPositionToDom(m);s?h.collapse(V.parent,V.offset):h.extend(V.parent,V.offset)}}}}(0,a,r.domConverter),{priority:"low"})}function up(){return null}class ri extends B0{constructor(t,a,e,n){super(t,a,e,n),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=gp}is(t,a=null){return a?a===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element"):t==="rawElement"||t==="view:rawElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}_insertChild(t,a){if(a&&(a instanceof Y5||Array.from(a).length>0))throw new M.a("view-rawelement-cannot-add",[this,a])}}function gp(){return null}class J5{constructor(t,a){this.document=t,this._children=[],a&&this._insertChild(0,a)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t==="documentFragment"||t==="view:documentFragment"}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,a){this._fireChange("children",this);let e=0,n=function(i,h){return typeof h=="string"?[new O1(i,h)]:(E1(h)||(h=[h]),Array.from(h).map(s=>typeof s=="string"?new O1(i,s):s instanceof yt?new O1(i,s.data):s))}(this.document,a);for(let i of n)i.parent!==null&&i._remove(),i.parent=this,this._children.splice(t,0,i),t++,e++;return e}_removeChildren(t,a=1){this._fireChange("children",this);for(let e=t;e<t+a;e++)this._children[e].parent=null;return this._children.splice(t,a)}_fireChange(t,a){this.fire("change:"+t,a)}}i1(J5,U);class ni{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,a,e){this.document.selection._setTo(t,a,e)}setSelectionFocus(t,a){this.document.selection._setFocus(t,a)}createDocumentFragment(t){return new J5(this.document,t)}createText(t){return new O1(this.document,t)}createAttributeElement(t,a,e={}){let n=new F4(this.document,t,a);return e.priority&&(n._priority=e.priority),e.id&&(n._id=e.id),n}createContainerElement(t,a,e={}){let n=new U6(this.document,t,a);return e.isAllowedInsideAttributeElement!==void 0&&(n._isAllowedInsideAttributeElement=e.isAllowedInsideAttributeElement),n}createEditableElement(t,a){let e=new q6(this.document,t,a);return e._document=this.document,e}createEmptyElement(t,a,e={}){let n=new Jo(this.document,t,a);return e.isAllowedInsideAttributeElement!==void 0&&(n._isAllowedInsideAttributeElement=e.isAllowedInsideAttributeElement),n}createUIElement(t,a,e,n={}){let i=new ei(this.document,t,a);return e&&(i.render=e),n.isAllowedInsideAttributeElement!==void 0&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}createRawElement(t,a,e,n={}){let i=new ri(this.document,t,a);return i.render=e||(()=>{}),n.isAllowedInsideAttributeElement!==void 0&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}setAttribute(t,a,e){e._setAttribute(t,a)}removeAttribute(t,a){a._removeAttribute(t)}addClass(t,a){a._addClass(t)}removeClass(t,a){a._removeClass(t)}setStyle(t,a,e){L0(t)&&e===void 0&&(e=a),e._setStyle(t,a)}removeStyle(t,a){a._removeStyle(t)}setCustomProperty(t,a,e){e._setCustomProperty(t,a)}removeCustomProperty(t,a){return a._removeCustomProperty(t)}breakAttributes(t){return t instanceof Y?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){let a=t.parent;if(!a.is("containerElement"))throw new M.a("view-writer-break-non-container-element",this.document);if(!a.parent)throw new M.a("view-writer-break-root",this.document);if(t.isAtStart)return Y._createBefore(a);if(!t.isAtEnd){let e=a._clone(!1);this.insert(Y._createAfter(a),e);let n=new c1(t,Y._createAt(a,"end")),i=new Y(e,0);this.move(n,i)}return Y._createAfter(a)}mergeAttributes(t){let a=t.offset,e=t.parent;if(e.is("$text"))return t;if(e.is("attributeElement")&&e.childCount===0){let h=e.parent,s=e.index;return e._remove(),this._removeFromClonedElementsGroup(e),this.mergeAttributes(new Y(h,s))}let n=e.getChild(a-1),i=e.getChild(a);if(!n||!i)return t;if(n.is("$text")&&i.is("$text"))return ii(n,i);if(n.is("attributeElement")&&i.is("attributeElement")&&n.isSimilar(i)){let h=n.childCount;return n._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Y(n,h))}return t}mergeContainers(t){let a=t.nodeBefore,e=t.nodeAfter;if(!(a&&e&&a.is("containerElement")&&e.is("containerElement")))throw new M.a("view-writer-merge-containers-invalid-position",this.document);let n=a.getChild(a.childCount-1),i=n instanceof O1?Y._createAt(n,"end"):Y._createAt(a,"end");return this.move(c1._createIn(e),Y._createAt(a,"end")),this.remove(c1._createOn(e)),i}insert(t,a){(function h(s,d){for(let g of s){if(!zp.some(p=>g instanceof p))throw new M.a("view-writer-insert-invalid-node-type",d);g.is("$text")||h(g.getChildren(),d)}})(a=E1(a)?[...a]:[a],this.document);let e=a.reduce((h,s)=>{let d=h[h.length-1],g=!(s.is("uiElement")&&s.isAllowedInsideAttributeElement);return d&&d.breakAttributes==g?d.nodes.push(s):h.push({breakAttributes:g,nodes:[s]}),h},[]),n=null,i=t;for(let{nodes:h,breakAttributes:s}of e){let d=this._insertNodes(i,h,s);n||(n=d.start),i=d.end}return n?new c1(n,i):new c1(t)}remove(t){let a=t instanceof c1?t:c1._createOn(t);if(ha(a,this.document),a.isCollapsed)return new J5(this.document);let{start:e,end:n}=this._breakAttributesRange(a,!0),i=e.parent,h=n.offset-e.offset,s=i._removeChildren(e.offset,h);for(let g of s)this._removeFromClonedElementsGroup(g);let d=this.mergeAttributes(e);return a.start=d,a.end=d.clone(),new J5(this.document,s)}clear(t,a){ha(t,this.document);let e=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(let n of e){let i=n.item,h;if(i.is("element")&&a.isSimilar(i))h=c1._createOn(i);else if(!n.nextPosition.isAfter(t.start)&&i.is("$textProxy")){let s=i.getAncestors().find(d=>d.is("element")&&a.isSimilar(d));s&&(h=c1._createIn(s))}h&&(h.end.isAfter(t.end)&&(h.end=t.end),h.start.isBefore(t.start)&&(h.start=t.start),this.remove(h))}}move(t,a){let e;if(a.isAfter(t.end)){let n=(a=this._breakAttributes(a,!0)).parent,i=n.childCount;t=this._breakAttributesRange(t,!0),e=this.remove(t),a.offset+=n.childCount-i}else e=this.remove(t);return this.insert(a,e)}wrap(t,a){if(!(a instanceof F4))throw new M.a("view-writer-wrap-invalid-attribute",this.document);if(ha(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&(e=n.parent,!Array.from(e.getChildren()).some(h=>!h.is("uiElement")))&&(n=n.getLastMatchingPosition(h=>h.item.is("uiElement"))),n=this._wrapPosition(n,a);let i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new c1(n)}return this._wrapRange(t,a);var e}unwrap(t,a){if(!(a instanceof F4))throw new M.a("view-writer-unwrap-invalid-attribute",this.document);if(ha(t,this.document),t.isCollapsed)return t;let{start:e,end:n}=this._breakAttributesRange(t,!0),i=e.parent,h=this._unwrapChildren(i,e.offset,n.offset,a),s=this.mergeAttributes(h.start);s.isEqual(h.start)||h.end.offset--;let d=this.mergeAttributes(h.end);return new c1(s,d)}rename(t,a){let e=new U6(this.document,t,a.getAttributes());return this.insert(Y._createAfter(a),e),this.move(c1._createIn(a),Y._createAt(e,0)),this.remove(c1._createOn(a)),e}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,a){return Y._createAt(t,a)}createPositionAfter(t){return Y._createAfter(t)}createPositionBefore(t){return Y._createBefore(t)}createRange(t,a){return new c1(t,a)}createRangeOn(t){return c1._createOn(t)}createRangeIn(t){return c1._createIn(t)}createSelection(t,a,e){return new $0(t,a,e)}_insertNodes(t,a,e){let n,i;if(n=e?S8(t):t.parent.is("$text")?t.parent.parent:t.parent,!n)throw new M.a("view-writer-invalid-position-container",this.document);i=e?this._breakAttributes(t,!0):t.parent.is("$text")?I8(t):t;let h=n._insertChild(i.offset,a);for(let p of a)this._addToClonedElementsGroup(p);let s=i.getShiftedBy(h),d=this.mergeAttributes(i);d.isEqual(i)||s.offset--;let g=this.mergeAttributes(s);return new c1(d,g)}_wrapChildren(t,a,e,n){let i=a,h=[];for(;i<e;){let d=t.getChild(i),g=d.is("$text"),p=d.is("attributeElement"),z=d.isAllowedInsideAttributeElement;if(p&&this._wrapAttributeElement(n,d))h.push(new Y(t,i));else if(g||z||p&&pp(n,d)){let m=n._clone();d._remove(),m._appendChild(d),t._insertChild(i,m),this._addToClonedElementsGroup(m),h.push(new Y(t,i))}else p&&this._wrapChildren(d,0,d.childCount,n);i++}let s=0;for(let d of h)d.offset-=s,d.offset!=a&&(this.mergeAttributes(d).isEqual(d)||(s++,e--));return c1._createFromParentsAndOffsets(t,a,t,e)}_unwrapChildren(t,a,e,n){let i=a,h=[];for(;i<e;){let d=t.getChild(i);if(d.is("attributeElement"))if(d.isSimilar(n)){let g=d.getChildren(),p=d.childCount;d._remove(),t._insertChild(i,g),this._removeFromClonedElementsGroup(d),h.push(new Y(t,i),new Y(t,i+p)),i+=p,e+=p-1}else this._unwrapAttributeElement(n,d)?(h.push(new Y(t,i),new Y(t,i+1)),i++):(this._unwrapChildren(d,0,d.childCount,n),i++);else i++}let s=0;for(let d of h)d.offset-=s,!(d.offset==a||d.offset==e)&&(this.mergeAttributes(d).isEqual(d)||(s++,e--));return c1._createFromParentsAndOffsets(t,a,t,e)}_wrapRange(t,a){let{start:e,end:n}=this._breakAttributesRange(t,!0),i=e.parent,h=this._wrapChildren(i,e.offset,n.offset,a),s=this.mergeAttributes(h.start);s.isEqual(h.start)||h.end.offset--;let d=this.mergeAttributes(h.end);return new c1(s,d)}_wrapPosition(t,a){if(a.isSimilar(t.parent))return oi(t.clone());t.parent.is("$text")&&(t=I8(t));let e=this.createAttributeElement();e._priority=Number.POSITIVE_INFINITY,e.isSimilar=()=>!1,t.parent._insertChild(t.offset,e);let n=new c1(t,t.getShiftedBy(1));this.wrap(n,a);let i=new Y(e.parent,e.index);e._remove();let h=i.nodeBefore,s=i.nodeAfter;return h instanceof O1&&s instanceof O1?ii(h,s):oi(i)}_wrapAttributeElement(t,a){if(!li(t,a)||t.name!==a.name||t.priority!==a.priority)return!1;for(let e of t.getAttributeKeys())if(e!=="class"&&e!=="style"&&a.hasAttribute(e)&&a.getAttribute(e)!==t.getAttribute(e))return!1;for(let e of t.getStyleNames())if(a.hasStyle(e)&&a.getStyle(e)!==t.getStyle(e))return!1;for(let e of t.getAttributeKeys())e!=="class"&&e!=="style"&&(a.hasAttribute(e)||this.setAttribute(e,t.getAttribute(e),a));for(let e of t.getStyleNames())a.hasStyle(e)||this.setStyle(e,t.getStyle(e),a);for(let e of t.getClassNames())a.hasClass(e)||this.addClass(e,a);return!0}_unwrapAttributeElement(t,a){if(!li(t,a)||t.name!==a.name||t.priority!==a.priority)return!1;for(let e of t.getAttributeKeys())if(e!=="class"&&e!=="style"&&(!a.hasAttribute(e)||a.getAttribute(e)!==t.getAttribute(e)))return!1;if(!a.hasClass(...t.getClassNames()))return!1;for(let e of t.getStyleNames())if(!a.hasStyle(e)||a.getStyle(e)!==t.getStyle(e))return!1;for(let e of t.getAttributeKeys())e!=="class"&&e!=="style"&&this.removeAttribute(e,a);return this.removeClass(Array.from(t.getClassNames()),a),this.removeStyle(Array.from(t.getStyleNames()),a),!0}_breakAttributesRange(t,a=!1){let e=t.start,n=t.end;if(ha(t,this.document),t.isCollapsed){let d=this._breakAttributes(t.start,a);return new c1(d,d)}let i=this._breakAttributes(n,a),h=i.parent.childCount,s=this._breakAttributes(e,a);return i.offset+=i.parent.childCount-h,new c1(s,i)}_breakAttributes(t,a=!1){let e=t.offset,n=t.parent;if(t.parent.is("emptyElement"))throw new M.a("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new M.a("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new M.a("view-writer-cannot-break-raw-element",this.document);if(!a&&n.is("$text")&&O8(n.parent)||O8(n))return t.clone();if(n.is("$text"))return this._breakAttributes(I8(t),a);if(e==n.childCount){let i=new Y(n.parent,n.index+1);return this._breakAttributes(i,a)}if(e===0){let i=new Y(n.parent,n.index);return this._breakAttributes(i,a)}{let i=n.index+1,h=n._clone();n.parent._insertChild(i,h),this._addToClonedElementsGroup(h);let s=n.childCount-e,d=n._removeChildren(e,s);h._appendChild(d);let g=new Y(n.parent,i);return this._breakAttributes(g,a)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(let n of t.getChildren())this._addToClonedElementsGroup(n);let a=t.id;if(!a)return;let e=this._cloneGroups.get(a);e||(e=new Set,this._cloneGroups.set(a,e)),e.add(t),t._clonesGroup=e}_removeFromClonedElementsGroup(t){if(t.is("element"))for(let n of t.getChildren())this._removeFromClonedElementsGroup(n);let a=t.id;if(!a)return;let e=this._cloneGroups.get(a);e&&e.delete(t)}}function S8(r){let t=r.parent;for(;!O8(t);){if(!t)return;t=t.parent}return t}function pp(r,t){return r.priority<t.priority||!(r.priority>t.priority)&&r.getIdentity()<t.getIdentity()}function oi(r){let t=r.nodeBefore;if(t&&t.is("$text"))return new Y(t,t.data.length);let a=r.nodeAfter;return a&&a.is("$text")?new Y(a,0):r}function I8(r){if(r.offset==r.parent.data.length)return new Y(r.parent.parent,r.parent.index+1);if(r.offset===0)return new Y(r.parent.parent,r.parent.index);let t=r.parent.data.slice(r.offset);return r.parent._data=r.parent.data.slice(0,r.offset),r.parent.parent._insertChild(r.parent.index+1,new O1(r.root.document,t)),new Y(r.parent.parent,r.parent.index+1)}function ii(r,t){let a=r.data.length;return r._data+=t.data,t._remove(),new Y(r,a)}let zp=[O1,F4,U6,Jo,ri,ei];function O8(r){return r&&(r.is("containerElement")||r.is("documentFragment"))}function ha(r,t){let a=S8(r.start),e=S8(r.end);if(!a||!e||a!==e)throw new M.a("view-writer-invalid-range-container",t)}function li(r,t){return r.id===null&&t.id===null}function I2(r){return Object.prototype.toString.call(r)=="[object Text]"}let ci=r=>r.createTextNode("\xA0"),hi=r=>{let t=r.createElement("span");return t.dataset.ckeFiller=!0,t.innerHTML="\xA0",t},si=r=>{let t=r.createElement("br");return t.dataset.ckeFiller=!0,t},K6="\u2060".repeat(7);function z0(r){return I2(r)&&r.data.substr(0,7)===K6}function Q6(r){return r.data.length==7&&z0(r)}function F8(r){return z0(r)?r.data.slice(7):r.data}function fp(r,t){if(t.keyCode==M1.arrowleft){let a=t.domTarget.ownerDocument.defaultView.getSelection();if(a.rangeCount==1&&a.getRangeAt(0).collapsed){let e=a.getRangeAt(0).startContainer,n=a.getRangeAt(0).startOffset;z0(e)&&n<=7&&a.collapse(e,0)}}}function vi(r,t,a,e=!1){a=a||function(i,h){return i===h},Array.isArray(r)||(r=Array.prototype.slice.call(r)),Array.isArray(t)||(t=Array.prototype.slice.call(t));let n=function(i,h,s){let d=di(i,h,s);if(d===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};let g=ui(i,d),p=ui(h,d),z=di(g,p,s),m=i.length-z,V=h.length-z;return{firstIndex:d,lastIndexOld:m,lastIndexNew:V}}(r,t,a);return e?function(i,h){let{firstIndex:s,lastIndexOld:d,lastIndexNew:g}=i;if(s===-1)return Array(h).fill("equal");let p=[];return s>0&&(p=p.concat(Array(s).fill("equal"))),g-s>0&&(p=p.concat(Array(g-s).fill("insert"))),d-s>0&&(p=p.concat(Array(d-s).fill("delete"))),g<h&&(p=p.concat(Array(h-g).fill("equal"))),p}(n,t.length):function(i,h){let s=[],{firstIndex:d,lastIndexOld:g,lastIndexNew:p}=h;return p-d>0&&s.push({index:d,type:"insert",values:i.slice(d,p)}),g-d>0&&s.push({index:d+(p-d),type:"delete",howMany:g-d}),s}(t,n)}function di(r,t,a){for(let e=0;e<Math.max(r.length,t.length);e++)if(r[e]===void 0||t[e]===void 0||!a(r[e],t[e]))return e;return-1}function ui(r,t){return r.slice(t).reverse()}function s5(r,t,a){a=a||function(k,C){return k===C};let e=r.length,n=t.length;if(e>200||n>200||e+n>300)return s5.fastDiff(r,t,a,!0);let i,h;if(n<e){let k=r;r=t,t=k,i="delete",h="insert"}else i="insert",h="delete";let s=r.length,d=t.length,g=d-s,p={},z={};function m(k){let C=(z[k-1]!==void 0?z[k-1]:-1)+1,S=z[k+1]!==void 0?z[k+1]:-1,F=C>S?-1:1;p[k+F]&&(p[k]=p[k+F].slice(0)),p[k]||(p[k]=[]),p[k].push(C>S?i:h);let N=Math.max(C,S),Q=N-k;for(;Q<s&&N<d&&a(r[Q],t[N]);)Q++,N++,p[k].push("equal");return N}let V,B=0;do{for(V=-B;V<g;V++)z[V]=m(V);for(V=g+B;V>g;V--)z[V]=m(V);z[g]=m(g),B++}while(z[g]!==d);return p[g].slice(1)}function gi(r,t,a){r.insertBefore(a,r.childNodes[t]||null)}function pi(r){let t=r.parentNode;t&&t.removeChild(r)}function P4(r){if(r){if(r.defaultView)return r instanceof r.defaultView.Document;if(r.ownerDocument&&r.ownerDocument.defaultView)return r instanceof r.ownerDocument.defaultView.Node}return!1}s5.fastDiff=vi;class zi{constructor(t,a){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=a,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,a){if(t==="text")this.domConverter.mapViewToDom(a.parent)&&this.markedTexts.add(a);else{if(!this.domConverter.mapViewToDom(a))return;if(t==="attributes")this.markedAttributes.add(a);else{if(t!=="children")throw new M.a("view-renderer-unknown-type",this);this.markedChildren.add(a)}}}render(){let t;for(let a of this.markedChildren)this._updateChildrenMappings(a);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(let a of this.markedAttributes)this._updateAttrs(a);for(let a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:t});for(let a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:t});if(t){let a=this.domConverter.viewPositionToDom(t),e=a.parent.ownerDocument;z0(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=fi(e,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){let a=this.domConverter.mapViewToDom(t);if(!a)return;let e=this.domConverter.mapViewToDom(t).childNodes,n=Array.from(this.domConverter.viewChildrenToDom(t,a.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(e,n),h=this._findReplaceActions(i,e,n);if(h.indexOf("replace")!==-1){let s={equal:0,insert:0,delete:0};for(let d of h)if(d==="replace"){let g=s.equal+s.insert,p=s.equal+s.delete,z=t.getChild(g);!z||z.is("uiElement")||z.is("rawElement")||this._updateElementMappings(z,e[p]),pi(n[g]),s.equal++}else s[d]++}}_updateElementMappings(t,a){this.domConverter.unbindDomElement(a),this.domConverter.bindElements(a,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){let t=this.selection.getFirstPosition();return t.parent.is("$text")?Y._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;let t=this.selection.getFirstPosition(),a=this.domConverter.viewPositionToDom(t);return!!(a&&I2(a.parent)&&z0(a.parent))}_removeInlineFiller(){let t=this._inlineFiller;if(!z0(t))throw new M.a("view-renderer-filler-was-lost",this);Q6(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;let t=this.selection.getFirstPosition(),a=t.parent,e=t.offset;if(!this.domConverter.mapViewToDom(a.root)||!a.is("element")||!function(h){if(h.getAttribute("contenteditable")=="false")return!1;let s=h.findAncestor(d=>d.hasAttribute("contenteditable"));return!s||s.getAttribute("contenteditable")=="true"}(a)||e===a.getFillerOffset())return!1;let n=t.nodeBefore,i=t.nodeAfter;return!(n instanceof O1||i instanceof O1)}_updateText(t,a){let e=this.domConverter.findCorrespondingDomText(t),n=this.domConverter.viewToDom(t,e.ownerDocument),i=e.data,h=n.data,s=a.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(h=K6+h),i!=h){let d=vi(i,h);for(let g of d)g.type==="insert"?e.insertData(g.index,g.values.join("")):e.deleteData(g.index,g.howMany)}}_updateAttrs(t){let a=this.domConverter.mapViewToDom(t);if(!a)return;let e=Array.from(a.attributes).map(i=>i.name),n=t.getAttributeKeys();for(let i of n)a.setAttribute(i,t.getAttribute(i));for(let i of e)t.hasAttribute(i)||a.removeAttribute(i)}_updateChildren(t,a){let e=this.domConverter.mapViewToDom(t);if(!e)return;let n=a.inlineFillerPosition,i=this.domConverter.mapViewToDom(t).childNodes,h=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{bind:!0,inlineFillerPosition:n}));n&&n.parent===t&&fi(e.ownerDocument,h,n.offset);let s=this._diffNodeLists(i,h),d=0,g=new Set;for(let p of s)p==="delete"?(g.add(i[d]),pi(i[d])):p==="equal"&&d++;d=0;for(let p of s)p==="insert"?(gi(e,d,h[d]),d++):p==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(h[d])),d++);for(let p of g)p.parentNode||this.domConverter.unbindDomElement(p)}_diffNodeLists(t,a){return s5(t=function(e,n){let i=Array.from(e);return i.length==0||!n||i[i.length-1]==n&&i.pop(),i}(t,this._fakeSelectionContainer),a,Mp.bind(null,this.domConverter))}_findReplaceActions(t,a,e){if(t.indexOf("insert")===-1||t.indexOf("delete")===-1)return t;let n=[],i=[],h=[],s={equal:0,insert:0,delete:0};for(let d of t)d==="insert"?h.push(e[s.equal+s.insert]):d==="delete"?i.push(a[s.equal+s.delete]):(n=n.concat(s5(i,h,Mi).map(g=>g==="equal"?"replace":g)),n.push("equal"),i=[],h=[]),s[d]++;return n.concat(s5(i,h,Mi).map(d=>d==="equal"?"replace":d))}_markDescendantTextToSync(t){if(t){if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(let a of t.getChildren())this._markDescendantTextToSync(a)}}_updateSelection(){if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();let t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){let a=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(h){let s=h.createElement("div");return s.className="ck-fake-selection-container",Object.assign(s.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),s.textContent="\xA0",s}(a));let e=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(e,this.selection),!this._fakeSelectionNeedsUpdate(t))return;e.parentElement&&e.parentElement==t||t.appendChild(e),e.textContent=this.selection.fakeSelectionLabel||"\xA0";let n=a.getSelection(),i=a.createRange();n.removeAllRanges(),i.selectNodeContents(e),n.addRange(i)}_updateDomSelection(t){let a=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(a))return;let e=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);a.collapse(e.parent,e.offset),a.extend(n.parent,n.offset),v2.isGecko&&function(i,h){let s=i.parent;if(s.nodeType!=Node.ELEMENT_NODE||i.offset!=s.childNodes.length-1)return;let d=s.childNodes[i.offset];d&&d.tagName=="BR"&&h.addRange(h.getRangeAt(0))}(n,a)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;let a=t&&this.domConverter.domSelectionToView(t);return(!a||!this.selection.isEqual(a))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(a))}_fakeSelectionNeedsUpdate(t){let a=this._fakeSelectionContainer,e=t.ownerDocument.getSelection();return!a||a.parentElement!==t||e.anchorNode!==a&&!a.contains(e.anchorNode)||a.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(let t of this.domDocuments)if(t.getSelection().rangeCount){let a=t.activeElement,e=this.domConverter.mapDomToView(a);a&&e&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){let t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){let t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function fi(r,t,a){let e=t instanceof Array?t:t.childNodes,n=e[a];if(I2(n))return n.data=K6+n.data,n;{let i=r.createTextNode(K6);return Array.isArray(t)?e.splice(a,0,i):gi(t,a,i),i}}function Mi(r,t){return P4(r)&&P4(t)&&!I2(r)&&!I2(t)&&r.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&r.tagName.toLowerCase()===t.tagName.toLowerCase()}function Mp(r,t,a){return t===a||(I2(t)&&I2(a)?t.data===a.data:!(!r.isBlockFiller(t)||!r.isBlockFiller(a)))}i1(zi,w1);var $1={window,document};function P8(r){let t=0;for(;r.previousSibling;)r=r.previousSibling,t++;return t}function sa(r){let t=[];for(;r&&r.nodeType!=Node.DOCUMENT_NODE;)t.unshift(r),r=r.parentNode;return t}let mp=si(document),xp=ci(document),Hp=hi(document);class Y6{constructor(t,a={}){this.document=t,this.blockFillerMode=a.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption","td","th"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new st,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,a){this._fakeSelectionMapping.set(t,new $0(a))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,a){this._domToViewMapping.set(t,a),this._viewToDomMapping.set(a,t)}unbindDomElement(t){let a=this._domToViewMapping.get(t);if(a){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(a);for(let e of t.childNodes)this.unbindDomElement(e)}}bindDocumentFragments(t,a){this._domToViewMapping.set(t,a),this._viewToDomMapping.set(a,t)}viewToDom(t,a,e={}){if(t.is("$text")){let n=this._processDataFromViewText(t);return a.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let n;if(t.is("documentFragment"))n=a.createDocumentFragment(),e.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n=t.render(a),e.bind&&this.bindElements(n,t),n;n=t.hasAttribute("xmlns")?a.createElementNS(t.getAttribute("xmlns"),t.name):a.createElement(t.name),t.is("rawElement")&&t.render(n),e.bind&&this.bindElements(n,t);for(let i of t.getAttributeKeys())n.setAttribute(i,t.getAttribute(i))}if(e.withChildren!==!1)for(let i of this.viewChildrenToDom(t,a,e))n.appendChild(i);return n}}*viewChildrenToDom(t,a,e={}){let n=t.getFillerOffset&&t.getFillerOffset(),i=0;for(let h of t.getChildren())n===i&&(yield this._getBlockFiller(a)),yield this.viewToDom(h,a,e),i++;n===i&&(yield this._getBlockFiller(a))}viewRangeToDom(t){let a=this.viewPositionToDom(t.start),e=this.viewPositionToDom(t.end),n=document.createRange();return n.setStart(a.parent,a.offset),n.setEnd(e.parent,e.offset),n}viewPositionToDom(t){let a=t.parent;if(a.is("$text")){let e=this.findCorrespondingDomText(a);if(!e)return null;let n=t.offset;return z0(e)&&(n+=7),{parent:e,offset:n}}{let e,n,i;if(t.offset===0){if(e=this.mapViewToDom(a),!e)return null;i=e.childNodes[0]}else{let h=t.nodeBefore;if(n=h.is("$text")?this.findCorrespondingDomText(h):this.mapViewToDom(t.nodeBefore),!n)return null;e=n.parentNode,i=n.nextSibling}return I2(i)&&z0(i)?{parent:i,offset:7}:{parent:e,offset:n?P8(n)+1:0}}}domToView(t,a={}){if(this.isBlockFiller(t))return null;let e=this.getHostViewElement(t);if(e)return e;if(I2(t)){if(Q6(t))return null;{let n=this._processDataFromDomText(t);return n===""?null:new O1(this.document,n)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new J5(this.document),a.bind&&this.bindDocumentFragments(t,n);else{let i=a.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new B0(this.document,i),a.bind&&this.bindElements(t,n);let h=t.attributes;for(let s=h.length-1;s>=0;s--)n._setAttribute(h[s].name,h[s].value);if(a.withChildren!==!1&&this._rawContentElementMatcher.match(n))return n._setCustomProperty("$rawContent",t.innerHTML),this._encounteredRawContentDomNodes.add(t),n}if(a.withChildren!==!1)for(let i of this.domChildrenToView(t,a))n._appendChild(i);return n}}*domChildrenToView(t,a={}){for(let e=0;e<t.childNodes.length;e++){let n=t.childNodes[e],i=this.domToView(n,a);i!==null&&(yield i)}}domSelectionToView(t){if(t.rangeCount===1){let n=t.getRangeAt(0).startContainer;I2(n)&&(n=n.parentNode);let i=this.fakeSelectionToView(n);if(i)return i}let a=this.isDomSelectionBackward(t),e=[];for(let n=0;n<t.rangeCount;n++){let i=t.getRangeAt(n),h=this.domRangeToView(i);h&&e.push(h)}return new $0(e,{backward:a})}domRangeToView(t){let a=this.domPositionToView(t.startContainer,t.startOffset),e=this.domPositionToView(t.endContainer,t.endOffset);return a&&e?new c1(a,e):null}domPositionToView(t,a){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,P8(t));let e=this.mapDomToView(t);if(e&&(e.is("uiElement")||e.is("rawElement")))return Y._createBefore(e);if(I2(t)){if(Q6(t))return this.domPositionToView(t.parentNode,P8(t));let n=this.findCorrespondingViewText(t),i=a;return n?(z0(t)&&(i-=7,i=i<0?0:i),new Y(n,i)):null}if(a===0){let n=this.mapDomToView(t);if(n)return new Y(n,0)}else{let n=t.childNodes[a-1],i=I2(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Y(i.parent,i.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Q6(t))return null;let a=this.getHostViewElement(t);if(a)return a;let e=t.previousSibling;if(e){if(!this.isElement(e))return null;let n=this.mapDomToView(e);if(n)return n.nextSibling instanceof O1?n.nextSibling:null}else{let n=this.mapDomToView(t.parentNode);if(n){let i=n.getChild(0);return i instanceof O1?i:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){let a=t.previousSibling;return a&&this.mapViewToDom(a)?this.mapViewToDom(a).nextSibling:!a&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){let a=this.mapViewToDom(t);if(a&&a.ownerDocument.activeElement!==a){let{scrollX:e,scrollY:n}=$1.window,i=[];mi(a,h=>{let{scrollLeft:s,scrollTop:d}=h;i.push([s,d])}),a.focus(),mi(a,h=>{let[s,d]=i.shift();h.scrollLeft=s,h.scrollTop=d}),$1.window.scrollTo(e,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return this.blockFillerMode=="br"?t.isEqualNode(mp):!(t.tagName!=="BR"||!xi(t,this.blockElements)||t.parentNode.childNodes.length!==1)||t.isEqualNode(Hp)||function(a,e){return a.isEqualNode(xp)&&xi(a,e)&&a.parentNode.childNodes.length===1}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;let a=document.createRange();a.setStart(t.anchorNode,t.anchorOffset),a.setEnd(t.focusNode,t.focusOffset);let e=a.collapsed;return a.detach(),e}getHostViewElement(t){let a=sa(t);for(a.pop();a.length;){let e=a.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(t){switch(this.blockFillerMode){case"nbsp":return ci(t);case"markedNbsp":return hi(t);case"br":return si(t)}}_isDomSelectionPositionCorrect(t,a){if(I2(t)&&z0(t)&&a<7||this.isElement(t)&&z0(t.childNodes[a]))return!1;let e=this.mapDomToView(t);return!e||!e.is("uiElement")&&!e.is("rawElement")}_processDataFromViewText(t){let a=t.data;if(t.getAncestors().some(e=>this.preElements.includes(e.name)))return a;if(a.charAt(0)==" "){let e=this._getTouchingViewTextNode(t,!1);!(e&&this._nodeEndsWithSpace(e))&&e||(a="\xA0"+a.substr(1))}if(a.charAt(a.length-1)==" "){let e=this._getTouchingViewTextNode(t,!0);a.charAt(a.length-2)!=" "&&e&&e.data.charAt(0)!=" "||(a=a.substr(0,a.length-1)+"\xA0")}return a.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(e=>this.preElements.includes(e.name)))return!1;let a=this._processDataFromViewText(t);return a.charAt(a.length-1)==" "}_processDataFromDomText(t){let a=t.data;if(E8(t,this.preElements))return F8(t);a=a.replace(/[ \n\t\r]{1,}/g," ");let e=this._getTouchingInlineDomNode(t,!1),n=this._getTouchingInlineDomNode(t,!0),i=this._checkShouldLeftTrimDomText(t,e),h=this._checkShouldRightTrimDomText(t,n);return i&&(a=a.replace(/^ /,"")),h&&(a=a.replace(/ $/,"")),a=F8(new Text(a)),a=a.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(a)||!n||n.data&&n.data.charAt(0)==" ")&&(a=a.replace(/\u00A0$/," ")),i&&(a=a.replace(/^\u00A0/," ")),a}_checkShouldLeftTrimDomText(t,a){return!a||!!s2(a)||!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(a.data.charAt(a.data.length-1))}_checkShouldRightTrimDomText(t,a){return!a&&!z0(t)}_getTouchingViewTextNode(t,a){let e=new X5({startPosition:a?Y._createAfter(t):Y._createBefore(t),direction:a?"forward":"backward"});for(let n of e){if(n.item.is("containerElement")||n.item.is("element","br"))return null;if(n.item.is("$textProxy"))return n.item}return null}_getTouchingInlineDomNode(t,a){if(!t.parentNode)return null;let e=a?"nextNode":"previousNode",n=t.ownerDocument,i=sa(t)[0],h=n.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:d=>I2(d)||d.tagName=="BR"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});h.currentNode=t;let s=h[e]();if(s!==null){let d=function(g,p){let z=sa(g),m=sa(p),V=0;for(;z[V]==m[V]&&z[V];)V++;return V===0?null:z[V-1]}(t,s);if(d&&!E8(t,this.blockElements,d)&&!E8(s,this.blockElements,d))return s}return null}}function E8(r,t,a){let e=sa(r);return a&&(e=e.slice(e.indexOf(a)+1)),e.some(n=>n.tagName&&t.includes(n.tagName.toLowerCase()))}function mi(r,t){for(;r&&r!=$1.document;)t(r),r=r.parentNode}function xi(r,t){let a=r.parentNode;return a&&a.tagName&&t.includes(a.tagName.toLowerCase())}function X6(r){let t=Object.prototype.toString.apply(r);return t=="[object Window]"||t=="[object global]"}var E4=D1({},U,{listenTo(r,...t){if(P4(r)||X6(r)){let a=this._getProxyEmitter(r)||new T8(r);a.attach(...t),r=a}U.listenTo.call(this,r,...t)},stopListening(r,t,a){if(P4(r)||X6(r)){let e=this._getProxyEmitter(r);if(!e)return;r=e}U.stopListening.call(this,r,t,a),r instanceof T8&&r.detach(t)},_getProxyEmitter(r){return t=this,a=Hi(r),t[y]&&t[y][a]?t[y][a].emitter:null;var t,a}});class T8{constructor(t){T(this,Hi(t)),this._domNode=t}}function Hi(r){return r["data-ck-expando"]||(r["data-ck-expando"]=x())}D1(T8.prototype,U,{attach(r,t,a={}){if(this._domListeners&&this._domListeners[r])return;let e={capture:!!a.useCapture,passive:!!a.usePassive},n=this._createDomListener(r,e);this._domNode.addEventListener(r,n,e),this._domListeners||(this._domListeners={}),this._domListeners[r]=n},detach(r){let t;!this._domListeners[r]||(t=this._events[r])&&t.callbacks.length||this._domListeners[r].removeListener()},_createDomListener(r,t){let a=e=>{this.fire(r,e)};return a.removeListener=()=>{this._domNode.removeEventListener(r,a,t),delete this._domListeners[r]},a}});class St{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&t.nodeType===3&&(t=t.parentNode),!(!t||t.nodeType!==1)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}i1(St,E4);var Vp=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Lp=function(r){return this.__data__.has(r)};function J6(r){var t=-1,a=r==null?0:r.length;for(this.__data__=new y4;++t<a;)this.add(r[t])}J6.prototype.add=J6.prototype.push=Vp,J6.prototype.has=Lp;var Bp=J6,kp=function(r,t){for(var a=-1,e=r==null?0:r.length;++a<e;)if(t(r[a],a,r))return!0;return!1},Cp=function(r,t){return r.has(t)},Vi=function(r,t,a,e,n,i){var h=1&a,s=r.length,d=t.length;if(s!=d&&!(h&&d>s))return!1;var g=i.get(r),p=i.get(t);if(g&&p)return g==t&&p==r;var z=-1,m=!0,V=2&a?new Bp:void 0;for(i.set(r,t),i.set(t,r);++z<s;){var B=r[z],k=t[z];if(e)var C=h?e(k,B,z,t,r,i):e(B,k,z,r,t,i);if(C!==void 0){if(C)continue;m=!1;break}if(V){if(!kp(t,function(S,F){if(!Cp(V,F)&&(B===S||n(B,S,a,e,i)))return V.push(F)})){m=!1;break}}else if(B!==k&&!n(B,k,a,e,i)){m=!1;break}}return i.delete(r),i.delete(t),m},Ap=function(r){var t=-1,a=Array(r.size);return r.forEach(function(e,n){a[++t]=[n,e]}),a},bp=function(r){var t=-1,a=Array(r.size);return r.forEach(function(e){a[++t]=e}),a},wi=P?P.prototype:void 0,R8=wi?wi.valueOf:void 0,yp=function(r,t,a,e,n,i,h){switch(a){case"[object DataView]":if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=t.byteLength||!i(new G5(r),new G5(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return h2(+r,+t);case"[object Error]":return r.name==t.name&&r.message==t.message;case"[object RegExp]":case"[object String]":return r==t+"";case"[object Map]":var s=Ap;case"[object Set]":var d=1&e;if(s||(s=bp),r.size!=t.size&&!d)return!1;var g=h.get(r);if(g)return g==t;e|=2,h.set(r,t);var p=Vi(s(r),s(t),e,n,i,h);return h.delete(r),p;case"[object Symbol]":if(R8)return R8.call(r)==R8.call(t)}return!1},_p=Object.prototype.hasOwnProperty,Sp=function(r,t,a,e,n,i){var h=1&a,s=J3(r),d=s.length;if(d!=J3(t).length&&!h)return!1;for(var g=d;g--;){var p=s[g];if(!(h?p in t:_p.call(t,p)))return!1}var z=i.get(r),m=i.get(t);if(z&&m)return z==t&&m==r;var V=!0;i.set(r,t),i.set(t,r);for(var B=h;++g<d;){var k=r[p=s[g]],C=t[p];if(e)var S=h?e(C,k,p,t,r,i):e(k,C,p,r,t,i);if(!(S===void 0?k===C||n(k,C,a,e,i):S)){V=!1;break}B||(B=p=="constructor")}if(V&&!B){var F=r.constructor,N=t.constructor;F==N||!("constructor"in r)||!("constructor"in t)||typeof F=="function"&&F instanceof F&&typeof N=="function"&&N instanceof N||(V=!1)}return i.delete(r),i.delete(t),V},Li=Object.prototype.hasOwnProperty,Ip=function(r,t,a,e,n,i){var h=l2(r),s=l2(t),d=h?"[object Array]":q5(r),g=s?"[object Array]":q5(t),p=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",z=(g=g=="[object Arguments]"?"[object Object]":g)=="[object Object]",m=d==g;if(m&&Object(Q2.a)(r)){if(!Object(Q2.a)(t))return!1;h=!0,p=!1}if(m&&!p)return i||(i=new p0),h||X2(r)?Vi(r,t,a,e,n,i):yp(r,t,d,a,e,n,i);if(!(1&a)){var V=p&&Li.call(r,"__wrapped__"),B=z&&Li.call(t,"__wrapped__");if(V||B){var k=V?r.value():r,C=B?t.value():t;return i||(i=new p0),n(k,C,a,e,i)}}return!!m&&(i||(i=new p0),Sp(r,t,a,e,n,i))},Bi=function r(t,a,e,n,i){return t===a||(t==null||a==null||!k1(t)&&!k1(a)?t!=t&&a!=a:Ip(t,a,e,n,r,i))},Op=function(r,t,a){var e=(a=typeof a=="function"?a:void 0)?a(r,t):void 0;return e===void 0?Bi(r,t,void 0,a):!!e};class ki extends St{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(let t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(t.length===0)return;let a=this.domConverter,e=new Map,n=new Set;for(let g of t)if(g.type==="childList"){let p=a.mapDomToView(g.target);if(p&&(p.is("uiElement")||p.is("rawElement")))continue;p&&!this._isBogusBrMutation(g)&&n.add(p)}for(let g of t){let p=a.mapDomToView(g.target);if((!p||!p.is("uiElement")&&!p.is("rawElement"))&&g.type==="characterData"){let z=a.findCorrespondingViewText(g.target);z&&!n.has(z.parent)?e.set(z,{type:"text",oldText:z.data,newText:F8(g.target),node:z}):!z&&z0(g.target)&&n.add(a.mapDomToView(g.target.parentNode))}}let i=[];for(let g of e.values())this.renderer.markToSync("text",g.node),i.push(g);for(let g of n){let p=a.mapViewToDom(g),z=Array.from(g.getChildren()),m=Array.from(a.domChildrenToView(p,{withChildren:!1}));Op(z,m,d)||(this.renderer.markToSync("children",g),i.push({type:"children",oldChildren:z,newChildren:m,node:g}))}let h=t[0].target.ownerDocument.getSelection(),s=null;if(h&&h.anchorNode){let g=a.domPositionToView(h.anchorNode,h.anchorOffset),p=a.domPositionToView(h.focusNode,h.focusOffset);g&&p&&(s=new $0(g),s.setFocus(p))}function d(g,p){if(!Array.isArray(g))return g===p||!(!g.is("$text")||!p.is("$text"))&&g.data===p.data}i.length&&(this.document.fire("mutations",i,s),this.view.forceRender())}_isBogusBrMutation(t){let a=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(a=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),a&&a.is("element","br")}}class D8{constructor(t,a,e){this.view=t,this.document=t.document,this.domEvent=a,this.domTarget=a.target,D1(this,e)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class v5 extends St{constructor(t){super(t),this.useCapture=!1}observe(t){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(a=>{this.listenTo(t,a,(e,n)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(n.target)&&this.onDomEvent(n)},{useCapture:this.useCapture})})}fire(t,a,e){this.isEnabled&&this.document.fire(t,new D8(this.view,a,e))}}class Fp extends v5{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return vt(this)}})}}var N8=function(){return O.a.Date.now()},Pp=/\s/,Ep=function(r){for(var t=r.length;t--&&Pp.test(r.charAt(t)););return t},Tp=/^\s+/,Rp=function(r){return r&&r.slice(0,Ep(r)+1).replace(Tp,"")},Dp=/^[-+]0x[0-9a-f]+$/i,Np=/^0b[01]+$/i,jp=/^0o[0-7]+$/i,Wp=parseInt,Ci=function(r){if(typeof r=="number")return r;if(j6(r))return NaN;if(b(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=b(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=Rp(r);var a=Np.test(r);return a||jp.test(r)?Wp(r.slice(2),a?2:8):Dp.test(r)?NaN:+r},Up=Math.max,qp=Math.min,Z6=function(r,t,a){var e,n,i,h,s,d,g=0,p=!1,z=!1,m=!0;if(typeof r!="function")throw new TypeError("Expected a function");function V(N){var Q=e,h1=n;return e=n=void 0,g=N,h=r.apply(h1,Q)}function B(N){return g=N,s=setTimeout(C,t),p?V(N):h}function k(N){var Q=N-d;return d===void 0||Q>=t||Q<0||z&&N-g>=i}function C(){var N=N8();if(k(N))return S(N);s=setTimeout(C,function(Q){var h1=t-(Q-d);return z?qp(h1,i-(Q-g)):h1}(N))}function S(N){return s=void 0,m&&e?V(N):(e=n=void 0,h)}function F(){var N=N8(),Q=k(N);if(e=arguments,n=this,d=N,Q){if(s===void 0)return B(d);if(z)return clearTimeout(s),s=setTimeout(C,t),V(d)}return s===void 0&&(s=setTimeout(C,t)),h}return t=Ci(t)||0,b(a)&&(p=!!a.leading,i=(z="maxWait"in a)?Up(Ci(a.maxWait)||0,t):i,m="trailing"in a?!!a.trailing:m),F.cancel=function(){s!==void 0&&clearTimeout(s),g=0,e=d=n=s=void 0},F.flush=function(){return s===void 0?h:S(N8())},F};class Gp extends St{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Z6(a=>this.document.fire("selectionChangeDone",a),200)}observe(){let t=this.document;t.on("arrowKey",(a,e)=>{t.selection.isFake&&this.isEnabled&&e.preventDefault()},{context:"$capture"}),t.on("arrowKey",(a,e)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(e.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){let a=this.document.selection,e=new $0(a.getRanges(),{backward:a.isBackward,fake:!1});t!=M1.arrowleft&&t!=M1.arrowup||e.setTo(e.getFirstPosition()),t!=M1.arrowright&&t!=M1.arrowdown||e.setTo(e.getLastPosition());let n={oldSelection:a,newSelection:e,domSelection:null};this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)}}class $p extends St{constructor(t){super(t),this.mutationObserver=t.getObserver(ki),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Z6(a=>this.document.fire("selectionChangeDone",a),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){let a=t.ownerDocument;this._documents.has(a)||(this.listenTo(a,"selectionchange",(e,n)=>{this._handleSelectionChange(n,a)}),this._documents.add(a))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t,a){if(!this.isEnabled)return;let e=a.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(e.anchorNode))return;this.mutationObserver.flush();let n=this.domConverter.domSelectionToView(e);if(n.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(e)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{let i={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Kp extends v5{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;let a=this.document;a.on("focus",()=>{a.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),a.on("blur",(e,n)=>{let i=a.selection.editableElement;i!==null&&i!==n.target||(a.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Qp extends v5{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];let a=this.document;a.on("compositionstart",()=>{a.isComposing=!0}),a.on("compositionend",()=>{a.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}class Yp extends v5{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}var Ai=function(r){return typeof r=="string"||!l2(r)&&k1(r)&&l0(r)=="[object String]"};function te(r){return Object.prototype.toString.apply(r)=="[object Range]"}function bi(r){let t=r.ownerDocument.defaultView.getComputedStyle(r);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}let yi=["top","right","bottom","left","width","height"];class L1{constructor(t){let a=te(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),s2(t)||a)if(a){let e=L1.getDomRangeRects(t);ae(this,L1.getBoundingRect(e))}else ae(this,t.getBoundingClientRect());else if(X6(t)){let{innerWidth:e,innerHeight:n}=t;ae(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else ae(this,t)}clone(){return new L1(this)}moveTo(t,a){return this.top=a,this.right=t+this.width,this.bottom=a+this.height,this.left=t,this}moveBy(t,a){return this.top+=a,this.right+=t,this.left+=t,this.bottom+=a,this}getIntersection(t){let a={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return a.width=a.right-a.left,a.height=a.bottom-a.top,a.width<0||a.height<0?null:new L1(a)}getIntersectionArea(t){let a=this.getIntersection(t);return a?a.getArea():0}getArea(){return this.width*this.height}getVisible(){let t=this._source,a=this.clone();if(!_i(t)){let e=t.parentNode||t.commonAncestorContainer;for(;e&&!_i(e);){let n=new L1(e),i=a.getIntersection(n);if(!i)return null;i.getArea()<a.getArea()&&(a=i),e=e.parentNode}}return a}isEqual(t){for(let a of yi)if(this[a]!==t[a])return!1;return!0}contains(t){let a=this.getIntersection(t);return!(!a||!a.isEqual(t))}excludeScrollbarsAndBorders(){let t=this._source,a,e,n;if(X6(t))a=t.innerWidth-t.document.documentElement.clientWidth,e=t.innerHeight-t.document.documentElement.clientHeight,n=t.getComputedStyle(t.document.documentElement).direction;else{let i=bi(this._source);a=t.offsetWidth-t.clientWidth-i.left-i.right,e=t.offsetHeight-t.clientHeight-i.top-i.bottom,n=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=a,n==="ltr"?this.right-=a:this.left+=a,this.height-=e,this.bottom-=e,this}static getDomRangeRects(t){let a=[],e=Array.from(t.getClientRects());if(e.length)for(let n of e)a.push(new L1(n));else{let n=t.startContainer;I2(n)&&(n=n.parentNode);let i=new L1(n.getBoundingClientRect());i.right=i.left,i.width=0,a.push(i)}return a}static getBoundingRect(t){let a={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},e=0;for(let n of t)e++,a.left=Math.min(a.left,n.left),a.top=Math.min(a.top,n.top),a.right=Math.max(a.right,n.right),a.bottom=Math.max(a.bottom,n.bottom);return e==0?null:(a.width=a.right-a.left,a.height=a.bottom-a.top,new L1(a))}}function ae(r,t){for(let a of yi)r[a]=t[a]}function _i(r){return!!s2(r)&&r===r.ownerDocument.body}class N1{constructor(t,a){N1._observerInstance||N1._createObserver(),this._element=t,this._callback=a,N1._addElementCallback(t,a),N1._observerInstance.observe(t)}destroy(){N1._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,a){N1._elementCallbacks||(N1._elementCallbacks=new Map);let e=N1._elementCallbacks.get(t);e||(e=new Set,N1._elementCallbacks.set(t,e)),e.add(a)}static _deleteElementCallback(t,a){let e=N1._getElementCallbacks(t);e&&(e.delete(a),e.size||(N1._elementCallbacks.delete(t),N1._observerInstance.unobserve(t))),N1._elementCallbacks&&!N1._elementCallbacks.size&&(N1._observerInstance=null,N1._elementCallbacks=null)}static _getElementCallbacks(t){return N1._elementCallbacks?N1._elementCallbacks.get(t):null}static _createObserver(){let t;t=typeof $1.window.ResizeObserver=="function"?$1.window.ResizeObserver:Si,N1._observerInstance=new t(a=>{for(let e of a){let n=N1._getElementCallbacks(e.target);if(n)for(let i of n)i(e)}})}}N1._observerInstance=null,N1._elementCallbacks=null;class Si{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){let t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo($1.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){let t=[];for(let a of this._elements)this._hasRectChanged(a)&&t.push({target:a,contentRect:this._previousRects.get(a)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;let a=new L1(t),e=this._previousRects.get(t),n=!e||!e.isEqual(a);return this._previousRects.set(t,a),n}}function Ii(r,t){r instanceof HTMLTextAreaElement&&(r.value=t),r.innerHTML=t}function T4(r){return t=>t+r}function Z2(r){let t=r.next();return t.done?null:t.value}i1(Si,E4);class f0{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new M.a("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}i1(f0,E4),i1(f0,w1);class It{constructor(){this._listener=Object.create(E4)}listenTo(t){this._listener.listenTo(t,"keydown",(a,e)=>{this._listener.fire("_keydown:"+vt(e),e)})}set(t,a,e={}){let n=_8(t),i=e.priority;this._listener.listenTo(this._listener,"_keydown:"+n,(h,s)=>{a(s,()=>{s.preventDefault(),s.stopPropagation(),h.stop()}),h.return=!0},{priority:i})}press(t){return!!this._listener.fire("_keydown:"+vt(t),t)}destroy(){this._listener.stopListening()}}class Xp extends St{constructor(t){super(t),this.document.on("keydown",(a,e)=>{if(this.isEnabled&&((n=e.keyCode)==M1.arrowright||n==M1.arrowleft||n==M1.arrowup||n==M1.arrowdown)){let i=new $6(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,e),i.stop.called&&a.stop()}var n})}observe(){}}function Oi({target:r,viewportOffset:t=0}){let a=j8(r),e=a,n=null;for(;e;){let i;i=Di(e==a?r:n),Fi(i,()=>Ni(r,e));let h=Ni(r,e);if(Jp(e,h,t),e.parent!=e){if(n=e.frameElement,e=e.parent,!n)return}else e=null}}function Jp(r,t,a){let e=t.clone().moveBy(0,a),n=t.clone().moveBy(0,-a),i=new L1(r).excludeScrollbarsAndBorders();if(![n,e].every(h=>i.contains(h))){let{scrollX:h,scrollY:s}=r;Ei(n,i)?s-=i.top-t.top+a:Pi(e,i)&&(s+=t.bottom-i.bottom+a),Ti(t,i)?h-=i.left-t.left+a:Ri(t,i)&&(h+=t.right-i.right+a),r.scrollTo(h,s)}}function Fi(r,t){let a=j8(r),e,n;for(;r!=a.document.body;)n=t(),e=new L1(r).excludeScrollbarsAndBorders(),e.contains(n)||(Ei(n,e)?r.scrollTop-=e.top-n.top:Pi(n,e)&&(r.scrollTop+=n.bottom-e.bottom),Ti(n,e)?r.scrollLeft-=e.left-n.left:Ri(n,e)&&(r.scrollLeft+=n.right-e.right)),r=r.parentNode}function Pi(r,t){return r.bottom>t.bottom}function Ei(r,t){return r.top<t.top}function Ti(r,t){return r.left<t.left}function Ri(r,t){return r.right>t.right}function j8(r){return te(r)?r.startContainer.ownerDocument.defaultView:r.ownerDocument.defaultView}function Di(r){if(te(r)){let t=r.commonAncestorContainer;return I2(t)&&(t=t.parentNode),t}return r.parentNode}function Ni(r,t){let a=j8(r),e=new L1(r);if(a===t)return e;{let n=a;for(;n!=t;){let i=n.frameElement,h=new L1(i).excludeScrollbarsAndBorders();e.moveBy(h.left,h.top),n=n.parent}}return e}Object.assign({},{scrollViewportToShowTarget:Oi,scrollAncestorsToShowTarget:function(r){Fi(Di(r),()=>new L1(r))}});class ji{constructor(t){this.document=new la(t),this.domConverter=new Y6(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new zi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new ni(this.document),this.addObserver(ki),this.addObserver($p),this.addObserver(Kp),this.addObserver(Fp),this.addObserver(Gp),this.addObserver(Qp),this.addObserver(Xp),v2.isAndroid&&this.addObserver(Yp),this.document.on("arrowKey",fp,{priority:"low"}),dp(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,a="main"){let e=this.document.getRoot(a);e._name=t.tagName.toLowerCase();let n={};for(let{name:h,value:s}of Array.from(t.attributes))n[h]=s,h==="class"?this._writer.addClass(s.split(" "),e):this._writer.setAttribute(h,s,e);this._initialDomRootAttributes.set(t,n);let i=()=>{this._writer.setAttribute("contenteditable",!e.isReadOnly,e),e.isReadOnly?this._writer.addClass("ck-read-only",e):this._writer.removeClass("ck-read-only",e)};i(),this.domRoots.set(a,t),this.domConverter.bindElements(t,e),this._renderer.markToSync("children",e),this._renderer.markToSync("attributes",e),this._renderer.domDocuments.add(t.ownerDocument),e.on("change:children",(h,s)=>this._renderer.markToSync("children",s)),e.on("change:attributes",(h,s)=>this._renderer.markToSync("attributes",s)),e.on("change:text",(h,s)=>this._renderer.markToSync("text",s)),e.on("change:isReadOnly",()=>this.change(i)),e.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(let h of this._observers.values())h.observe(t,a)}detachDomRoot(t){let a=this.domRoots.get(t);Array.from(a.attributes).forEach(({name:n})=>a.removeAttribute(n));let e=this._initialDomRootAttributes.get(a);for(let n in e)a.setAttribute(n,e[n]);this.domRoots.delete(t),this.domConverter.unbindDomElement(a)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let a=this._observers.get(t);if(a)return a;a=new t(this),this._observers.set(t,a);for(let[e,n]of this.domRoots)a.observe(n,e);return a.enable(),a}getObserver(t){return this._observers.get(t)}disableObservers(){for(let t of this._observers.values())t.disable()}enableObservers(){for(let t of this._observers.values())t.enable()}scrollToTheSelection(){let t=this.document.selection.getFirstRange();t&&Oi({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){let t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;let a=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),a}catch(a){M.a.rethrowUnexpectedError(a,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(let t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,a){return Y._createAt(t,a)}createPositionAfter(t){return Y._createAfter(t)}createPositionBefore(t){return Y._createBefore(t)}createRange(t,a){return new c1(t,a)}createRangeOn(t){return c1._createOn(t)}createRangeIn(t){return c1._createIn(t)}createSelection(t,a,e){return new $0(t,a,e)}_disableRendering(t){this._renderingDisabled=t,t==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}i1(ji,w1);class Z5{constructor(t){this.parent=null,this._attrs=_t(t)}get index(){let t;if(!this.parent)return null;if((t=this.parent.getChildIndex(this))===null)throw new M.a("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if((t=this.parent.getChildStartOffset(this))===null)throw new M.a("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){let t=this.index;return t!==null&&this.parent.getChild(t+1)||null}get previousSibling(){let t=this.index;return t!==null&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){let t=[],a=this;for(;a.parent;)t.unshift(a.startOffset),a=a.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){let a=[],e=t.includeSelf?this:this.parent;for(;e;)a[t.parentFirst?"push":"unshift"](e),e=e.parent;return a}getCommonAncestor(t,a={}){let e=this.getAncestors(a),n=t.getAncestors(a),i=0;for(;e[i]==n[i]&&e[i];)i++;return i===0?null:e[i-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;let a=this.getPath(),e=t.getPath(),n=S2(a,e);switch(n){case"prefix":return!0;case"extension":return!1;default:return a[n]<e[n]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){let t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((a,e)=>(a[e[0]]=e[1],a),{})),t}is(t){return t==="node"||t==="model:node"}_clone(){return new Z5(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,a){this._attrs.set(t,a)}_setAttributesTo(t){this._attrs=_t(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class F1 extends Z5{constructor(t,a){super(a),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node"}toJSON(){let t=super.toJSON();return t.data=this.data,t}_clone(){return new F1(this.data,this.getAttributes())}static fromJSON(t){return new F1(t.data,t.attributes)}}class dt{constructor(t,a,e){if(this.textNode=t,a<0||a>t.offsetSize)throw new M.a("model-textproxy-wrong-offsetintext",this);if(e<0||a+e>t.offsetSize)throw new M.a("model-textproxy-wrong-length",this);this.data=t.data.substring(a,a+e),this.offsetInText=a}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy"}getPath(){let t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){let a=[],e=t.includeSelf?this:this.parent;for(;e;)a[t.parentFirst?"push":"unshift"](e),e=e.parent;return a}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class R4{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,a)=>t+a.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){let a=this._nodes.indexOf(t);return a==-1?null:a}getNodeStartOffset(t){let a=this.getNodeIndex(t);return a===null?null:this._nodes.slice(0,a).reduce((e,n)=>e+n.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;let a=this._nodes[t];if(!a)throw new M.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(a)}offsetToIndex(t){let a=0;for(let e of this._nodes){if(t>=a&&t<a+e.offsetSize)return this.getNodeIndex(e);a+=e.offsetSize}if(a!=t)throw new M.a("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,a){for(let e of a)if(!(e instanceof Z5))throw new M.a("model-nodelist-insertnodes-not-node",this);this._nodes.splice(t,0,...a)}_removeNodes(t,a=1){return this._nodes.splice(t,a)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class I1 extends Z5{constructor(t,a,e){super(a),this.name=t,this._children=new R4,e&&this._insertChild(0,e)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}is(t,a=null){return a?a===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t==="node"||t==="model:node"}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let a=this;for(let e of t)a=a.getChild(a.offsetToIndex(e));return a}findAncestor(t,a={includeSelf:!1}){let e=a.includeSelf?this:this.parent;for(;e;){if(e.name===t)return e;e=e.parent}return null}toJSON(){let t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(let a of this._children)t.children.push(a.toJSON())}return t}_clone(t=!1){let a=t?Array.from(this._children).map(e=>e._clone(!0)):null;return new I1(this.name,this.getAttributes(),a)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,a){let e=function(n){return typeof n=="string"?[new F1(n)]:(E1(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new F1(i):i instanceof dt?new F1(i.data,i.getAttributes()):i))}(a);for(let n of e)n.parent!==null&&n._remove(),n.parent=this;this._children._insertNodes(t,e)}_removeChildren(t,a=1){let e=this._children._removeNodes(t,a);for(let n of e)n.parent=null;return e}static fromJSON(t){let a=null;if(t.children){a=[];for(let e of t.children)e.name?a.push(I1.fromJSON(e)):a.push(F1.fromJSON(e))}return new I1(t.name,t.attributes,a)}}class Ot{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new M.a("model-tree-walker-no-start-position",null);let a=t.direction||"forward";if(a!="forward"&&a!="backward")throw new M.a("model-tree-walker-unknown-direction",t,{direction:a});this.direction=a,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=j._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let a,e,n,i;do n=this.position,i=this._visitedParent,{done:a,value:e}=this.next();while(!a&&t(e));a||(this.position=n,this._visitedParent=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let t=this.position,a=this.position.clone(),e=this._visitedParent;if(e.parent===null&&a.offset===e.maxOffset)return{done:!0};if(e===this._boundaryEndParent&&a.offset==this.boundaries.end.offset)return{done:!0};let n=a.parent,i=D4(a,n),h=i||W8(a,n,i);if(h instanceof I1)return this.shallow?a.offset++:(a.path.push(0),this._visitedParent=h),this.position=a,t4("elementStart",h,t,a,1);if(h instanceof F1){let s;if(this.singleCharacters)s=1;else{let p=h.endOffset;this._boundaryEndParent==e&&this.boundaries.end.offset<p&&(p=this.boundaries.end.offset),s=p-a.offset}let d=a.offset-h.startOffset,g=new dt(h,d,s);return a.offset+=s,this.position=a,t4("text",g,t,a,s)}return a.path.pop(),a.offset++,this.position=a,this._visitedParent=e.parent,this.ignoreElementEnd?this._next():t4("elementEnd",e,t,a)}_previous(){let t=this.position,a=this.position.clone(),e=this._visitedParent;if(e.parent===null&&a.offset===0)return{done:!0};if(e==this._boundaryStartParent&&a.offset==this.boundaries.start.offset)return{done:!0};let n=a.parent,i=D4(a,n),h=i||Wi(a,n,i);if(h instanceof I1)return a.offset--,this.shallow?(this.position=a,t4("elementStart",h,t,a,1)):(a.path.push(h.maxOffset),this.position=a,this._visitedParent=h,this.ignoreElementEnd?this._previous():t4("elementEnd",h,t,a));if(h instanceof F1){let s;if(this.singleCharacters)s=1;else{let p=h.startOffset;this._boundaryStartParent==e&&this.boundaries.start.offset>p&&(p=this.boundaries.start.offset),s=a.offset-p}let d=a.offset-h.startOffset,g=new dt(h,d-s,s);return a.offset-=s,this.position=a,t4("text",g,t,a,s)}return a.path.pop(),this.position=a,this._visitedParent=e.parent,t4("elementStart",e,t,a,1)}}function t4(r,t,a,e,n){return{done:!1,value:{type:r,item:t,previousPosition:a,nextPosition:e,length:n}}}class j{constructor(t,a,e="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new M.a("model-position-root-invalid",t);if(!(a instanceof Array)||a.length===0)throw new M.a("model-position-path-incorrect-format",t,{path:a});t.is("rootElement")?a=a.slice():(a=[...t.getPath(),...a],t=t.root),this.root=t,this.path=a,this.stickiness=e}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let a=0;a<this.path.length-1;a++)if(t=t.getChild(t.offsetToIndex(this.path[a])),!t)throw new M.a("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new M.a("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return D4(this,this.parent)}get nodeAfter(){let t=this.parent;return W8(this,t,D4(this,t))}get nodeBefore(){let t=this.parent;return Wi(this,t,D4(this,t))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";let a=S2(this.path,t.path);switch(a){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[a]<t.path[a]?"before":"after"}}getLastMatchingPosition(t,a={}){a.startPosition=this;let e=new Ot(a);return e.skip(t),e.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){let t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){let a=this.parent;return a.is("element")?a.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];let a=S2(this.path,t.path),e=typeof a=="string"?Math.min(this.path.length,t.path.length):a;return this.path.slice(0,e)}getCommonAncestor(t){let a=this.getAncestors(),e=t.getAncestors(),n=0;for(;a[n]==e[n]&&a[n];)n++;return n===0?null:a[n-1]}getShiftedBy(t){let a=this.clone(),e=a.offset+t;return a.offset=e<0?0:e,a}isAfter(t){return this.compareWith(t)=="after"}isBefore(t){return this.compareWith(t)=="before"}isEqual(t){return this.compareWith(t)=="same"}isTouching(t){let a=null,e=null;switch(this.compareWith(t)){case"same":return!0;case"before":a=j._createAt(this),e=j._createAt(t);break;case"after":a=j._createAt(t),e=j._createAt(this);break;default:return!1}let n=a.parent;for(;a.path.length+e.path.length;){if(a.isEqual(e))return!0;if(a.path.length>e.path.length){if(a.offset!==n.maxOffset)return!1;a.path=a.path.slice(0,-1),n=n.parent,a.offset++}else{if(e.offset!==0)return!1;e.path=e.path.slice(0,-1)}}}is(t){return t==="position"||t==="model:position"}hasSameParentAs(t){return this.root!==t.root?!1:S2(this.getParentPath(),t.getParentPath())=="same"}getTransformedByOperation(t){let a;switch(t.type){case"insert":a=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":a=this._getTransformedByMoveOperation(t);break;case"split":a=this._getTransformedBySplitOperation(t);break;case"merge":a=this._getTransformedByMergeOperation(t);break;default:a=j._createAt(this)}return a}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){let a=t.movedRange;return a.containsPosition(this)||a.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){let a=t.movedRange,e;return a.containsPosition(this)||a.start.isEqual(this)?(e=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(e=e._getTransformedByDeletion(t.deletionPosition,1))):e=this.isEqual(t.deletionPosition)?j._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),e}_getTransformedByDeletion(t,a){let e=j._createAt(this);if(this.root!=t.root)return e;if(S2(t.getParentPath(),this.getParentPath())=="same"){if(t.offset<this.offset){if(t.offset+a>this.offset)return null;e.offset-=a}}else if(S2(t.getParentPath(),this.getParentPath())=="prefix"){let n=t.path.length-1;if(t.offset<=this.path[n]){if(t.offset+a>this.path[n])return null;e.path[n]-=a}}return e}_getTransformedByInsertion(t,a){let e=j._createAt(this);if(this.root!=t.root)return e;if(S2(t.getParentPath(),this.getParentPath())=="same")(t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious")&&(e.offset+=a);else if(S2(t.getParentPath(),this.getParentPath())=="prefix"){let n=t.path.length-1;t.offset<=this.path[n]&&(e.path[n]+=a)}return e}_getTransformedByMove(t,a,e){if(a=a._getTransformedByDeletion(t,e),t.isEqual(a))return j._createAt(this);let n=this._getTransformedByDeletion(t,e);return n===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(e).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(t,a):n._getTransformedByInsertion(a,e)}_getCombined(t,a){let e=t.path.length-1,n=j._createAt(a);return n.stickiness=this.stickiness,n.offset=n.offset+this.path[e]-t.offset,n.path=[...n.path,...this.path.slice(e+1)],n}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,a,e="toNone"){if(t instanceof j)return new j(t.root,t.path,t.stickiness);{let n=t;if(a=="end")a=n.maxOffset;else{if(a=="before")return this._createBefore(n,e);if(a=="after")return this._createAfter(n,e);if(a!==0&&!a)throw new M.a("model-createpositionat-offset-required",[this,t])}if(!n.is("element")&&!n.is("documentFragment"))throw new M.a("model-position-parent-incorrect",[this,t]);let i=n.getPath();return i.push(a),new this(n.root,i,e)}}static _createAfter(t,a){if(!t.parent)throw new M.a("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,a)}static _createBefore(t,a){if(!t.parent)throw new M.a("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,a)}static fromJSON(t,a){if(t.root==="$graveyard"){let e=new j(a.graveyard,t.path);return e.stickiness=t.stickiness,e}if(!a.getRoot(t.root))throw new M.a("model-position-fromjson-no-root",a,{rootName:t.root});return new j(a.getRoot(t.root),t.path,t.stickiness)}}function D4(r,t){let a=t.getChild(t.offsetToIndex(r.offset));return a&&a.is("$text")&&a.startOffset<r.offset?a:null}function W8(r,t,a){return a!==null?null:t.getChild(t.offsetToIndex(r.offset))}function Wi(r,t,a){return a!==null?null:t.getChild(t.offsetToIndex(r.offset)-1)}class D{constructor(t,a=null){this.start=j._createAt(t),this.end=a?j._createAt(a):j._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Ot({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return S2(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,a=!1){t.isCollapsed&&(a=!1);let e=this.containsPosition(t.start)||a&&this.start.isEqual(t.start),n=this.containsPosition(t.end)||a&&this.end.isEqual(t.end);return e&&n}containsItem(t){let a=j._createBefore(t);return this.containsPosition(a)||this.start.isEqual(a)}is(t){return t==="range"||t==="model:range"}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){let a=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&a.push(new D(this.start,t.start)),this.containsPosition(t.end)&&a.push(new D(t.end,this.end))):a.push(new D(this.start,this.end)),a}getIntersection(t){if(this.isIntersecting(t)){let a=this.start,e=this.end;return this.containsPosition(t.start)&&(a=t.start),this.containsPosition(t.end)&&(e=t.end),new D(a,e)}return null}getJoined(t,a=!1){let e=this.isIntersecting(t);if(e||(e=this.start.isBefore(t.start)?a?this.end.isTouching(t.start):this.end.isEqual(t.start):a?t.end.isTouching(this.start):t.end.isEqual(this.start)),!e)return null;let n=this.start,i=this.end;return t.start.isBefore(n)&&(n=t.start),t.end.isAfter(i)&&(i=t.end),new D(n,i)}getMinimalFlatRanges(){let t=[],a=this.start.getCommonPath(this.end).length,e=j._createAt(this.start),n=e.parent;for(;e.path.length>a+1;){let i=n.maxOffset-e.offset;i!==0&&t.push(new D(e,e.getShiftedBy(i))),e.path=e.path.slice(0,-1),e.offset++,n=n.parent}for(;e.path.length<=this.end.path.length;){let i=this.end.path[e.path.length-1],h=i-e.offset;h!==0&&t.push(new D(e,e.getShiftedBy(h))),e.offset=i,e.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new Ot(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;let a=new Ot(t);for(let e of a)yield e.item}*getPositions(t={}){t.boundaries=this;let a=new Ot(t);yield a.position;for(let e of a)yield e.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new D(this.start,this.end)]}getTransformedByOperations(t){let a=[new D(this.start,this.end)];for(let e of t)for(let n=0;n<a.length;n++){let i=a[n].getTransformedByOperation(e);a.splice(n,1,...i),n+=i.length-1}for(let e=0;e<a.length;e++){let n=a[e];for(let i=e+1;i<a.length;i++){let h=a[i];(n.containsRange(h)||h.containsRange(n)||n.isEqual(h))&&a.splice(i,1)}}return a}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,a=this.end.nodeBefore;return t&&t.is("element")&&t===a?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,a=!1){return this._getTransformedByInsertion(t.position,t.howMany,a)}_getTransformedByMoveOperation(t,a=!1){let e=t.sourcePosition,n=t.howMany,i=t.targetPosition;return this._getTransformedByMove(e,i,n,a)}_getTransformedBySplitOperation(t){let a=this.start._getTransformedBySplitOperation(t),e=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(e=this.end.getShiftedBy(1)),a.root!=e.root&&(e=this.end.getShiftedBy(-1)),new D(a,e)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new D(this.start);let a=this.start._getTransformedByMergeOperation(t),e=this.end._getTransformedByMergeOperation(t);return a.root!=e.root&&(e=this.end.getShiftedBy(-1)),a.isAfter(e)?(t.sourcePosition.isBefore(t.targetPosition)?(a=j._createAt(e),a.offset=0):(t.deletionPosition.isEqual(a)||(e=t.deletionPosition),a=t.targetPosition),new D(a,e)):new D(a,e)}_getTransformedByInsertion(t,a,e=!1){if(e&&this.containsPosition(t))return[new D(this.start,t),new D(t.getShiftedBy(a),this.end._getTransformedByInsertion(t,a))];{let n=new D(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,a),n.end=n.end._getTransformedByInsertion(t,a),[n]}}_getTransformedByMove(t,a,e,n=!1){if(this.isCollapsed){let z=this.start._getTransformedByMove(t,a,e);return[new D(z)]}let i=D._createFromPositionAndShift(t,e),h=a._getTransformedByDeletion(t,e);if(this.containsPosition(a)&&!n&&(i.containsPosition(this.start)||i.containsPosition(this.end))){let z=this.start._getTransformedByMove(t,a,e),m=this.end._getTransformedByMove(t,a,e);return[new D(z,m)]}let s,d=this.getDifference(i),g=null,p=this.getIntersection(i);if(d.length==1?g=new D(d[0].start._getTransformedByDeletion(t,e),d[0].end._getTransformedByDeletion(t,e)):d.length==2&&(g=new D(this.start,this.end._getTransformedByDeletion(t,e))),s=g?g._getTransformedByInsertion(h,e,p!==null||n):[],p){let z=new D(p.start._getCombined(i.start,h),p.end._getCombined(i.start,h));s.length==2?s.splice(1,0,z):s.push(z)}return s}_getTransformedByDeletion(t,a){let e=this.start._getTransformedByDeletion(t,a),n=this.end._getTransformedByDeletion(t,a);return e==null&&n==null?null:(e==null&&(e=t),n==null&&(n=t),new D(e,n))}static _createFromPositionAndShift(t,a){let e=t,n=t.getShiftedBy(a);return a>0?new this(e,n):new this(n,e)}static _createIn(t){return new this(j._createAt(t,0),j._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(j._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(t.length===0)throw new M.a("range-create-from-ranges-empty-array",null);if(t.length==1)return t[0].clone();let a=t[0];t.sort((i,h)=>i.start.isAfter(h.start)?1:-1);let e=t.indexOf(a),n=new this(a.start,a.end);if(e>0)for(let i=e-1;t[i].end.isEqual(n.start);i++)n.start=j._createAt(t[i].start);for(let i=e+1;i<t.length&&t[i].start.isEqual(n.end);i++)n.end=j._createAt(t[i].end);return n}static fromJSON(t,a){return new this(j.fromJSON(t.start,a),j.fromJSON(t.end,a))}}class U8{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,a)=>{if(a.viewPosition)return;let e=this._modelToViewMapping.get(a.modelPosition.parent);a.viewPosition=this.findPositionIn(e,a.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,a)=>{if(a.modelPosition)return;let e=this.findMappedViewAncestor(a.viewPosition),n=this._viewToModelMapping.get(e),i=this._toModelOffset(a.viewPosition.parent,a.viewPosition.offset,e);a.modelPosition=j._createAt(n,i)},{priority:"low"})}bindElements(t,a){this._modelToViewMapping.set(t,a),this._viewToModelMapping.set(a,t)}unbindViewElement(t){let a=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(let e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);this._modelToViewMapping.get(a)==t&&this._modelToViewMapping.delete(a)}unbindModelElement(t){let a=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(a)==t&&this._viewToModelMapping.delete(a)}bindElementToMarker(t,a){let e=this._markerNameToElements.get(a)||new Set;e.add(t);let n=this._elementToMarkerNames.get(t)||new Set;n.add(a),this._markerNameToElements.set(a,e),this._elementToMarkerNames.set(t,n)}unbindElementFromMarkerName(t,a){let e=this._markerNameToElements.get(a);e&&(e.delete(t),e.size==0&&this._markerNameToElements.delete(a));let n=this._elementToMarkerNames.get(t);n&&(n.delete(a),n.size==0&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){let t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new D(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new c1(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){let a={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",a),a.modelPosition}toViewPosition(t,a={isPhantom:!1}){let e={modelPosition:t,mapper:this,isPhantom:a.isPhantom};return this.fire("modelToViewPosition",e),e.viewPosition}markerNameToElements(t){let a=this._markerNameToElements.get(t);if(!a)return null;let e=new Set;for(let n of a)if(n.is("attributeElement"))for(let i of n.getElementsWithSameId())e.add(i);else e.add(n);return e}registerViewToModelLength(t,a){this._viewToModelLengthCallbacks.set(t,a)}findMappedViewAncestor(t){let a=t.parent;for(;!this._viewToModelMapping.has(a);)a=a.parent;return a}_toModelOffset(t,a,e){if(e!=t)return this._toModelOffset(t.parent,t.index,e)+this._toModelOffset(t,a,t);if(t.is("$text"))return a;let n=0;for(let i=0;i<a;i++)n+=this.getModelLength(t.getChild(i));return n}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let a=0;for(let e of t.getChildren())a+=this.getModelLength(e);return a}}findPositionIn(t,a){let e,n=0,i=0,h=0;if(t.is("$text"))return new Y(t,a);for(;i<a;)e=t.getChild(h),n=this.getModelLength(e),i+=n,h++;return i==a?this._moveViewPositionToTextNode(new Y(t,h)):this.findPositionIn(e,a-(i-n))}_moveViewPositionToTextNode(t){let a=t.nodeBefore,e=t.nodeAfter;return a instanceof O1?new Y(a,a.data.length):e instanceof O1?new Y(e,0):t}}i1(U8,U);class ee{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,a){a=re(a),t instanceof dt&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(a,!0)}consume(t,a){return a=re(a),t instanceof dt&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,a)&&(this._consumable.get(t).set(a,!1),!0)}test(t,a){a=re(a),t instanceof dt&&(t=this._getSymbolForTextProxy(t));let e=this._consumable.get(t);if(e===void 0)return null;let n=e.get(a);return n===void 0?null:n}revert(t,a){a=re(a),t instanceof dt&&(t=this._getSymbolForTextProxy(t));let e=this.test(t,a);return e===!1?(this._consumable.get(t).set(a,!0),!0):e!==!0&&null}_getSymbolForTextProxy(t){let a=null,e=this._textProxyRegistry.get(t.startOffset);if(e){let n=e.get(t.endOffset);n&&(a=n.get(t.parent))}return a||(a=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),a}_addSymbolForTextProxy(t,a,e){let n=Symbol("textProxySymbol"),i,h;return i=this._textProxyRegistry.get(t),i||(i=new Map,this._textProxyRegistry.set(t,i)),h=i.get(a),h||(h=new Map,i.set(a,h)),h.set(e,n),n}}function re(r){let t=r.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}class q8{constructor(t){this.conversionApi=Object.assign({dispatcher:this},t),this._reconversionEventsMapping=new Map}convertChanges(t,a,e){for(let i of t.getMarkersToRemove())this.convertMarkerRemove(i.name,i.range,e);let n=this._mapChangesWithAutomaticReconversion(t);for(let i of n)i.type==="insert"?this.convertInsert(D._createFromPositionAndShift(i.position,i.length),e):i.type==="remove"?this.convertRemove(i.position,i.length,i.name,e):i.type==="reconvert"?this.reconvertElement(i.element,e):this.convertAttribute(i.range,i.attributeKey,i.attributeOldValue,i.attributeNewValue,e);for(let i of this.conversionApi.mapper.flushUnboundMarkerNames()){let h=a.get(i).getRange();this.convertMarkerRemove(i,h,e),this.convertMarkerAdd(i,h,e)}for(let i of t.getMarkersToAdd())this.convertMarkerAdd(i.name,i.range,e)}convertInsert(t,a){this.conversionApi.writer=a,this.conversionApi.consumable=this._createInsertConsumable(t);for(let e of Array.from(t).map(Ui))this._convertInsertWithAttributes(e);this._clearConversionApi()}convertRemove(t,a,e,n){this.conversionApi.writer=n,this.fire("remove:"+e,{position:t,length:a},this.conversionApi),this._clearConversionApi()}convertAttribute(t,a,e,n,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:"+a);for(let h of t){let s={item:h.item,range:D._createFromPositionAndShift(h.previousPosition,h.length),attributeKey:a,attributeOldValue:e,attributeNewValue:n};this._testAndFire("attribute:"+a,s)}this._clearConversionApi()}reconvertElement(t,a){let e=D._createOn(t);this.conversionApi.writer=a,this.conversionApi.consumable=this._createInsertConsumable(e);let n=this.conversionApi.mapper,i=n.toViewElement(t);a.remove(i),this._convertInsertWithAttributes({item:t,range:e});let h=n.toViewElement(t);for(let s of D._createIn(t)){let{item:d}=s,g=tz(d,n);g?g.root!==h.root&&a.move(a.createRangeOn(g),n.toViewPosition(j._createBefore(d))):this._convertInsertWithAttributes(Ui(s))}n.unbindViewElement(i),this._clearConversionApi()}convertSelection(t,a,e){let n=Array.from(a.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=e,this.conversionApi.consumable=this._createSelectionConsumable(t,n),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(let i of n){let h=i.getRange();if(!Zp(t.getFirstPosition(),i,this.conversionApi.mapper))continue;let s={item:t,markerName:i.name,markerRange:h};this.conversionApi.consumable.test(t,"addMarker:"+i.name)&&this.fire("addMarker:"+i.name,s,this.conversionApi)}for(let i of t.getAttributeKeys()){let h={item:t,range:t.getFirstRange(),attributeKey:i,attributeOldValue:null,attributeNewValue:t.getAttribute(i)};this.conversionApi.consumable.test(t,"attribute:"+h.attributeKey)&&this.fire("attribute:"+h.attributeKey+":$text",h,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,a,e){if(a.root.rootName=="$graveyard")return;this.conversionApi.writer=e;let n="addMarker:"+t,i=new ee;if(i.add(a,n),this.conversionApi.consumable=i,this.fire(n,{markerName:t,markerRange:a},this.conversionApi),i.test(a,n)){this.conversionApi.consumable=this._createConsumableForRange(a,n);for(let h of a.getItems()){if(!this.conversionApi.consumable.test(h,n))continue;let s={item:h,range:D._createOn(h),markerName:t,markerRange:a};this.fire(n,s,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,a,e){a.root.rootName!="$graveyard"&&(this.conversionApi.writer=e,this.fire("removeMarker:"+t,{markerName:t,markerRange:a},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(t,a){this._reconversionEventsMapping.set(a,t)}_createInsertConsumable(t){let a=new ee;for(let e of t){let n=e.item;a.add(n,"insert");for(let i of n.getAttributeKeys())a.add(n,"attribute:"+i)}return a}_createConsumableForRange(t,a){let e=new ee;for(let n of t.getItems())e.add(n,a);return e}_createSelectionConsumable(t,a){let e=new ee;e.add(t,"selection");for(let n of a)e.add(t,"addMarker:"+n.name);for(let n of t.getAttributeKeys())e.add(t,"attribute:"+n);return e}_testAndFire(t,a){this.conversionApi.consumable.test(a.item,t)&&this.fire(function(e,n){let i=n.item.name||"$text";return`${e}:${i}`}(t,a),a,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(t){this._testAndFire("insert",t);for(let a of t.item.getAttributeKeys())t.attributeKey=a,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(a),this._testAndFire("attribute:"+a,t)}_mapChangesWithAutomaticReconversion(t){let a=new Set,e=[];for(let n of t.getChanges()){let i=n.position||n.range.start,h=i.parent;if(D4(i,h)){e.push(n);continue}let s=n.type==="attribute"?W8(i,h,null):h;if(s.is("$text")){e.push(n);continue}let d;if(d=n.type==="attribute"?`attribute:${n.attributeKey}:${s.name}`:`${n.type}:${n.name}`,this._isReconvertTriggerEvent(d,s.name)){if(a.has(s))continue;a.add(s),e.push({type:"reconvert",element:s})}else e.push(n)}return e}_isReconvertTriggerEvent(t,a){return this._reconversionEventsMapping.get(t)===a}}function Zp(r,t,a){let e=t.getRange(),n=Array.from(r.getAncestors());return n.shift(),n.reverse(),!n.some(i=>{if(e.containsItem(i))return!!a.toViewElement(i).getCustomProperty("addHighlight")})}function Ui(r){return{item:r.item,range:D._createFromPositionAndShift(r.previousPosition,r.length)}}function tz(r,t){if(r.is("textProxy")){let a=t.toViewPosition(j._createBefore(r)).parent;return a.is("$text")?a:null}return t.toViewElement(r)}i1(q8,U);class Ft{constructor(t,a,e){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,a,e)}get anchor(){if(this._ranges.length>0){let t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){let t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(let a of this._ranges){let e=!1;for(let n of t._ranges)if(a.isEqual(n)){e=!0;break}if(!e)return!1}return!0}*getRanges(){for(let t of this._ranges)yield new D(t.start,t.end)}getFirstRange(){let t=null;for(let a of this._ranges)t&&!a.start.isBefore(t.start)||(t=a);return t?new D(t.start,t.end):null}getLastRange(){let t=null;for(let a of this._ranges)t&&!a.end.isAfter(t.end)||(t=a);return t?new D(t.start,t.end):null}getFirstPosition(){let t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){let t=this.getLastRange();return t?t.end.clone():null}setTo(t,a,e){if(t===null)this._setRanges([]);else if(t instanceof Ft)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof D)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof j)this._setRanges([new D(t)]);else if(t instanceof Z5){let n=!!e&&!!e.backward,i;if(a=="in")i=D._createIn(t);else if(a=="on")i=D._createOn(t);else{if(a===void 0)throw new M.a("model-selection-setto-required-second-parameter",[this,t]);i=new D(j._createAt(t,a))}this._setRanges([i],n)}else{if(!E1(t))throw new M.a("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(t,a=!1){let e=(t=Array.from(t)).some(n=>{if(!(n instanceof D))throw new M.a("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(i=>!i.isEqual(n))});if(t.length!==this._ranges.length||e){this._removeAllRanges();for(let n of t)this._pushRange(n);this._lastRangeBackward=!!a,this.fire("change:range",{directChange:!0})}}setFocus(t,a){if(this.anchor===null)throw new M.a("model-selection-setfocus-no-ranges",[this,t]);let e=j._createAt(t,a);if(e.compareWith(this.focus)=="same")return;let n=this.anchor;this._ranges.length&&this._popRange(),e.compareWith(n)=="before"?(this._pushRange(new D(e,n)),this._lastRangeBackward=!0):(this._pushRange(new D(n,e)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,a){this.getAttribute(t)!==a&&(this._attrs.set(t,a),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}is(t){return t==="selection"||t==="model:selection"}*getSelectedBlocks(){let t=new WeakSet;for(let a of this.getRanges()){let e=Gi(a.start,t);e&&G8(e,a)&&(yield e);for(let i of a.getWalker()){let h=i.item;i.type=="elementEnd"&&az(h,t,a)&&(yield h)}let n=Gi(a.end,t);n&&!a.end.isTouching(j._createAt(n,0))&&G8(n,a)&&(yield n)}}containsEntireContent(t=this.anchor.root){let a=j._createAt(t,0),e=j._createAt(t,"end");return a.isTouching(this.getFirstPosition())&&e.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new D(t.start,t.end))}_checkRange(t){for(let a=0;a<this._ranges.length;a++)if(t.isIntersecting(this._ranges[a]))throw new M.a("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[a]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function qi(r,t){return!t.has(r)&&(t.add(r),r.root.document.model.schema.isBlock(r)&&r.parent)}function az(r,t,a){return qi(r,t)&&G8(r,a)}function Gi(r,t){let a=r.parent.root.document.model.schema,e=r.parent.getAncestors({parentFirst:!0,includeSelf:!0}),n=!1,i=e.find(h=>!n&&(n=a.isLimit(h),!n&&qi(h,t)));return e.forEach(h=>t.add(h)),i}function G8(r,t){let a=function(e){let n=e.root.document.model.schema,i=e.parent;for(;i;){if(n.isBlock(i))return i;i=i.parent}}(r);return a?!t.containsRange(D._createOn(a),!0):!0}i1(Ft,U);class ut extends D{constructor(t,a){super(t,a),ez.call(this)}detach(){this.stopListening()}is(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"}toRange(){return new D(this.start,this.end)}static fromRange(t){return new ut(t.start,t.end)}}function ez(){this.listenTo(this.root.document.model,"applyOperation",(r,t)=>{let a=t[0];a.isDocumentOperation&&rz.call(this,a)},{priority:"low"})}function rz(r){let t=this.getTransformedByOperation(r),a=D._createFromRanges(t),e=!a.isEqual(this),n=function(h,s){switch(s.type){case"insert":return h.containsPosition(s.position);case"move":case"remove":case"reinsert":case"merge":return h.containsPosition(s.sourcePosition)||h.start.isEqual(s.sourcePosition)||h.containsPosition(s.targetPosition);case"split":return h.containsPosition(s.splitPosition)||h.containsPosition(s.insertionPosition)}return!1}(this,r),i=null;if(e){a.root.rootName=="$graveyard"&&(i=r.type=="remove"?r.sourcePosition:r.deletionPosition);let h=this.toRange();this.start=a.start,this.end=a.end,this.fire("change:range",h,{deletionPosition:i})}else n&&this.fire("change:content",this.toRange(),{deletionPosition:i})}i1(ut,U);class K0{constructor(t){this._selection=new nz(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}is(t){return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection"}_setFocus(t,a){this._selection.setFocus(t,a)}_setTo(t,a,e){this._selection.setTo(t,a,e)}_setAttribute(t,a){this._selection.setAttribute(t,a)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return"selection:"+t}static _isStoreAttributeKey(t){return t.startsWith("selection:")}}i1(K0,U);class nz extends Ft{constructor(t){super(),this.markers=new X1({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(a,e)=>{let n=e[0];n.isDocumentOperation&&n.type!="marker"&&n.type!="rename"&&n.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(let a of this.getRanges())if(!this._document._validateSelectionRange(a))throw new M.a("document-selection-wrong-position",this,{range:a})}),this.listenTo(this._model.markers,"update",(a,e,n,i)=>{this._updateMarker(e,i)}),this.listenTo(this._document,"change",(a,e)=>{(function(n,i){let h=n.document.differ;for(let s of h.getChanges()){if(s.type!="insert")continue;let d=s.position.parent;s.length===d.maxOffset&&n.enqueueChange(i,g=>{let p=Array.from(d.getAttributeKeys()).filter(z=>z.startsWith("selection:"));for(let z of p)g.removeAttribute(z,d)})}})(this._model,e)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,a,e){super.setTo(t,a,e),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,a){super.setFocus(t,a),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,a){if(this._setAttribute(t,a)){let e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){let a=[t];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}overrideGravity(){let t=x();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new M.a("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(t){let a=this._prepareRange(t);a&&this._ranges.push(a)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;let a=ut.fromRange(t);return a.on("change:range",(e,n,i)=>{if(this._hasChangedRange=!0,a.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;let h=this._ranges.indexOf(a);this._ranges.splice(h,1),a.detach()}}),a}_updateMarkers(){if(!this._observedMarkers.size)return;let t=[],a=!1;for(let n of this._model.markers){let i=n.name.split(":",1)[0];if(!this._observedMarkers.has(i))continue;let h=n.getRange();for(let s of this.getRanges())h.containsRange(s,!s.isCollapsed)&&t.push(n)}let e=Array.from(this.markers);for(let n of t)this.markers.has(n)||(this.markers.add(n),a=!0);for(let n of Array.from(this.markers))t.includes(n)||(this.markers.remove(n),a=!0);a&&this.fire("change:marker",{oldMarkers:e,directChange:!1})}_updateMarker(t,a){let e=t.name.split(":",1)[0];if(!this._observedMarkers.has(e))return;let n=!1,i=Array.from(this.markers),h=this.markers.has(t);if(a){let s=!1;for(let d of this.getRanges())if(a.containsRange(d,!d.isCollapsed)){s=!0;break}s&&!h?(this.markers.add(t),n=!0):!s&&h&&(this.markers.remove(t),n=!0)}else h&&(this.markers.remove(t),n=!0);n&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(t){let a=_t(this._getSurroundingAttributes()),e=_t(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(let[i,h]of this._attributePriority)h=="low"&&(this._attrs.delete(i),this._attributePriority.delete(i));this._setAttributesTo(a);let n=[];for(let[i,h]of this.getAttributes())e.has(i)&&e.get(i)===h||n.push(i);for(let[i]of e)this.hasAttribute(i)||n.push(i);n.length>0&&this.fire("change:attribute",{attributeKeys:n,directChange:!1})}_setAttribute(t,a,e=!0){let n=e?"normal":"low";return n=="low"&&this._attributePriority.get(t)=="normal"?!1:super.getAttribute(t)!==a&&(this._attrs.set(t,a),this._attributePriority.set(t,n),!0)}_removeAttribute(t,a=!0){let e=a?"normal":"low";return(e!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,e),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){let a=new Set;for(let[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(let[e,n]of t)this._setAttribute(e,n,!1)&&a.add(e);return a}*_getStoredAttributes(){let t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(let a of t.getAttributeKeys())a.startsWith("selection:")&&(yield[a.substr("selection:".length),t.getAttribute(a)])}_getSurroundingAttributes(){let t=this.getFirstPosition(),a=this._model.schema,e=null;if(this.isCollapsed){let n=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(e=ne(n)),e||(e=ne(i)),!this.isGravityOverridden&&!e){let h=n;for(;h&&!a.isInline(h)&&!e;)h=h.previousSibling,e=ne(h)}if(!e){let h=i;for(;h&&!a.isInline(h)&&!e;)h=h.nextSibling,e=ne(h)}e||(e=this._getStoredAttributes())}else{let n=this.getFirstRange();for(let i of n){if(i.item.is("element")&&a.isObject(i.item))break;if(i.type=="text"){e=i.item.getAttributes();break}}}return e}_fixGraveyardSelection(t){let a=this._model.schema.getNearestSelectionRange(t);a&&this._pushRange(a)}}function ne(r){return r instanceof dt||r instanceof F1?r.getAttributes():null}class $i{constructor(t){this._dispatchers=t}add(t){for(let a of this._dispatchers)t(a);return this}}var gt=function(r){return h5(r,5)};class oz extends $i{elementToElement(t){return this.add(function(a){return(a=gt(a)).view=oe(a.view,"container"),e=>{var n;if(e.on("insert:"+a.model,(n=a.view,(i,h,s)=>{let d=n(h.item,s);if(!d||!s.consumable.consume(h.item,"insert"))return;let g=s.mapper.toViewPosition(h.range.start);s.mapper.bindElements(h.item,d),s.writer.insert(g,d)}),{priority:a.converterPriority||"normal"}),a.triggerBy){if(a.triggerBy.attributes)for(let i of a.triggerBy.attributes)e._mapReconversionTriggerEvent(a.model,`attribute:${i}:${a.model}`);if(a.triggerBy.children)for(let i of a.triggerBy.children)e._mapReconversionTriggerEvent(a.model,"insert:"+i),e._mapReconversionTriggerEvent(a.model,"remove:"+i)}}}(t))}attributeToElement(t){return this.add(function(a){a=gt(a);let e="attribute:"+(a.model.key?a.model.key:a.model);if(a.model.name&&(e+=":"+a.model.name),a.model.values)for(let i of a.model.values)a.view[i]=oe(a.view[i],"attribute");else a.view=oe(a.view,"attribute");let n=Yi(a);return i=>{i.on(e,function(h){return(s,d,g)=>{let p=h(d.attributeOldValue,g),z=h(d.attributeNewValue,g);if(!p&&!z||!g.consumable.consume(d.item,s.name))return;let m=g.writer,V=m.document.selection;if(d.item instanceof Ft||d.item instanceof K0)m.wrap(V.getFirstRange(),z);else{let B=g.mapper.toViewRange(d.range);d.attributeOldValue!==null&&p&&(B=m.unwrap(B,p)),d.attributeNewValue!==null&&z&&m.wrap(B,z)}}}(n),{priority:a.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(a){a=gt(a);let e="attribute:"+(a.model.key?a.model.key:a.model);if(a.model.name&&(e+=":"+a.model.name),a.model.values)for(let i of a.model.values)a.view[i]=Xi(a.view[i]);else a.view=Xi(a.view);let n=Yi(a);return i=>{var h;i.on(e,(h=n,(s,d,g)=>{let p=h(d.attributeOldValue,g),z=h(d.attributeNewValue,g);if(!p&&!z||!g.consumable.consume(d.item,s.name))return;let m=g.mapper.toViewElement(d.item),V=g.writer;if(!m)throw new M.a("conversion-attribute-to-attribute-on-text",[d,g]);if(d.attributeOldValue!==null&&p)if(p.key=="class"){let B=u1(p.value);for(let k of B)V.removeClass(k,m)}else if(p.key=="style"){let B=Object.keys(p.value);for(let k of B)V.removeStyle(k,m)}else V.removeAttribute(p.key,m);if(d.attributeNewValue!==null&&z)if(z.key=="class"){let B=u1(z.value);for(let k of B)V.addClass(k,m)}else if(z.key=="style"){let B=Object.keys(z.value);for(let k of B)V.setStyle(k,z.value[k],m)}else V.setAttribute(z.key,z.value,m)}),{priority:a.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(a){return(a=gt(a)).view=oe(a.view,"ui"),e=>{var n;e.on("addMarker:"+a.model,(n=a.view,(i,h,s)=>{h.isOpening=!0;let d=n(h,s);h.isOpening=!1;let g=n(h,s);if(!d||!g)return;let p=h.markerRange;if(p.isCollapsed&&!s.consumable.consume(p,i.name))return;for(let V of p)if(!s.consumable.consume(V.item,i.name))return;let z=s.mapper,m=s.writer;m.insert(z.toViewPosition(p.start),d),s.mapper.bindElementToMarker(d,h.markerName),p.isCollapsed||(m.insert(z.toViewPosition(p.end),g),s.mapper.bindElementToMarker(g,h.markerName)),i.stop()}),{priority:a.converterPriority||"normal"}),e.on("removeMarker:"+a.model,(a.view,(i,h,s)=>{let d=s.mapper.markerNameToElements(h.markerName);if(d){for(let g of d)s.mapper.unbindElementFromMarkerName(g,h.markerName),s.writer.clear(s.writer.createRangeOn(g),g);s.writer.clearClonedElementsGroup(h.markerName),i.stop()}}),{priority:a.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(a){return e=>{var n;e.on("addMarker:"+a.model,(n=a.view,(i,h,s)=>{if(!h.item||!(h.item instanceof Ft||h.item instanceof K0||h.item.is("$textProxy")))return;let d=$8(n,h,s);if(!d||!s.consumable.consume(h.item,i.name))return;let g=s.writer,p=Ki(g,d),z=g.document.selection;if(h.item instanceof Ft||h.item instanceof K0)g.wrap(z.getFirstRange(),p,z);else{let m=s.mapper.toViewRange(h.range),V=g.wrap(m,p);for(let B of V.getItems())if(B.is("attributeElement")&&B.isSimilar(p)){s.mapper.bindElementToMarker(B,h.markerName);break}}}),{priority:a.converterPriority||"normal"}),e.on("addMarker:"+a.model,function(i){return(h,s,d)=>{if(!s.item||!(s.item instanceof I1))return;let g=$8(i,s,d);if(!g||!d.consumable.test(s.item,h.name))return;let p=d.mapper.toViewElement(s.item);if(p&&p.getCustomProperty("addHighlight")){d.consumable.consume(s.item,h.name);for(let z of D._createIn(s.item))d.consumable.consume(z.item,h.name);p.getCustomProperty("addHighlight")(p,g,d.writer),d.mapper.bindElementToMarker(p,s.markerName)}}}(a.view),{priority:a.converterPriority||"normal"}),e.on("removeMarker:"+a.model,function(i){return(h,s,d)=>{if(s.markerRange.isCollapsed)return;let g=$8(i,s,d);if(!g)return;let p=Ki(d.writer,g),z=d.mapper.markerNameToElements(s.markerName);if(z){for(let m of z)d.mapper.unbindElementFromMarkerName(m,s.markerName),m.is("attributeElement")?d.writer.unwrap(d.writer.createRangeOn(m),p):m.getCustomProperty("removeHighlight")(m,g.id,d.writer);d.writer.clearClonedElementsGroup(s.markerName),h.stop()}}}(a.view),{priority:a.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(a){let e=(a=gt(a)).model;return a.view||(a.view=n=>({group:e,name:n.substr(a.model.length+1)})),n=>{var i;n.on("addMarker:"+e,(i=a.view,(h,s,d)=>{let g=i(s.markerName,d);if(!g)return;let p=s.markerRange;d.consumable.consume(p,h.name)&&(Qi(p,!1,d,s,g),Qi(p,!0,d,s,g),h.stop())}),{priority:a.converterPriority||"normal"}),n.on("removeMarker:"+e,function(h){return(s,d,g)=>{let p=h(d.markerName,g);if(!p)return;let z=g.mapper.markerNameToElements(d.markerName);if(z){for(let V of z)g.mapper.unbindElementFromMarkerName(V,d.markerName),V.is("containerElement")?(m(`data-${p.group}-start-before`,V),m(`data-${p.group}-start-after`,V),m(`data-${p.group}-end-before`,V),m(`data-${p.group}-end-after`,V)):g.writer.clear(g.writer.createRangeOn(V),V);g.writer.clearClonedElementsGroup(d.markerName),s.stop()}function m(V,B){if(B.hasAttribute(V)){let k=new Set(B.getAttribute(V).split(","));k.delete(p.name),k.size==0?g.writer.removeAttribute(V,B):g.writer.setAttribute(V,Array.from(k).join(","),B)}}}}(a.view),{priority:a.converterPriority||"normal"})}}(t))}}function Ki(r,t){let a=r.createAttributeElement("span",t.attributes);return t.classes&&a._addClass(t.classes),t.priority&&(a._priority=t.priority),a._id=t.id,a}function Qi(r,t,a,e,n){let i=t?r.start:r.end;if(a.schema.checkChild(i,"$text"))(function(h,s,d,g,p){let z=`${p.group}-${s?"start":"end"}`,m=p.name?{name:p.name}:null,V=d.writer.createUIElement(z,m);d.writer.insert(h,V),d.mapper.bindElementToMarker(V,g.markerName)})(a.mapper.toViewPosition(i),t,a,e,n);else{let h,s;t&&i.nodeAfter||!t&&!i.nodeBefore?(h=i.nodeAfter,s=!0):(h=i.nodeBefore,s=!1),function(d,g,p,z,m,V){let B=`data-${V.group}-${g?"start":"end"}-${p?"before":"after"}`,k=d.hasAttribute(B)?d.getAttribute(B).split(","):[];k.unshift(V.name),z.writer.setAttribute(B,k.join(","),d),z.mapper.bindElementToMarker(d,m.markerName)}(a.mapper.toViewElement(h),t,s,a,e,n)}}function oe(r,t){return typeof r=="function"?r:(a,e)=>function(n,i,h){typeof n=="string"&&(n={name:n});let s,d=i.writer,g=Object.assign({},n.attributes);if(h=="container")s=d.createContainerElement(n.name,g);else if(h=="attribute"){let p={priority:n.priority||F4.DEFAULT_PRIORITY};s=d.createAttributeElement(n.name,g,p)}else s=d.createUIElement(n.name,g);if(n.styles){let p=Object.keys(n.styles);for(let z of p)d.setStyle(z,n.styles[z],s)}if(n.classes){let p=n.classes;if(typeof p=="string")d.addClass(p,s);else for(let z of p)d.addClass(z,s)}return s}(r,e,t)}function Yi(r){return r.model.values?(t,a)=>{let e=r.view[t];return e?e(t,a):null}:r.view}function Xi(r){return typeof r=="string"?t=>({key:r,value:t}):typeof r=="object"?r.value?()=>r:t=>({key:r.key,value:t}):r}function $8(r,t,a){let e=typeof r=="function"?r(t,a):r;return e?(e.priority||(e.priority=10),e.id||(e.id=t.markerName),e):null}function Ji(r){let{schema:t,document:a}=r.model;for(let e of a.getRootNames()){let n=a.getRoot(e);if(n.isEmpty&&!t.checkChild(n,"$text")&&t.checkChild(n,"paragraph"))return r.insertElement("paragraph",n),!0}return!1}function Zi(r,t,a){let e=a.createContext(r);return!!a.checkChild(e,"paragraph")&&!!a.checkChild(e.push("paragraph"),t)}function tl(r,t){let a=t.createElement("paragraph");return t.insert(a,r),t.createPositionAt(a,0)}class iz extends $i{elementToElement(t){return this.add(al(t))}elementToAttribute(t){return this.add(function(a){el(a=gt(a));let e=rl(a,!1),n=K8(a.view),i=n?"element:"+n:"element";return h=>{h.on(i,e,{priority:a.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(a){a=gt(a);let e=null;(typeof a.view=="string"||a.view.key)&&(e=function(i){typeof i.view=="string"&&(i.view={key:i.view});let h=i.view.key,s;if(h=="class"||h=="style")s={[h=="class"?"classes":"styles"]:i.view.value};else{let d=i.view.value===void 0?/[\s\S]*/:i.view.value;s={attributes:{[h]:d}}}return i.view.name&&(s.name=i.view.name),i.view=s,h}(a)),el(a,e);let n=rl(a,!0);return i=>{i.on("element",n,{priority:a.converterPriority||"low"})}}(t))}elementToMarker(t){return Object(M.b)("upcast-helpers-element-to-marker-deprecated"),this.add(function(a){return function(e){let n=e.model;e.model=(i,h)=>{let s=typeof n=="string"?n:n(i,h);return h.writer.createElement("$marker",{"data-name":s})}}(a=gt(a)),al(a)}(t))}dataToMarker(t){return this.add(function(a){(a=gt(a)).model||(a.model=i=>i?a.view+":"+i:a.view);let e=Q8(nl(a,"start")),n=Q8(nl(a,"end"));return i=>{i.on("element:"+a.view+"-start",e,{priority:a.converterPriority||"normal"}),i.on("element:"+a.view+"-end",n,{priority:a.converterPriority||"normal"});let h=H.get("low"),s=H.get("highest"),d=H.get(a.converterPriority)/s;i.on("element",function(g){return(p,z,m)=>{let V="data-"+g.view;function B(k,C){for(let S of C){let F=g.model(S,m),N=m.writer.createElement("$marker",{"data-name":F});m.writer.insert(N,k),z.modelCursor.isEqual(k)?z.modelCursor=z.modelCursor.getShiftedBy(1):z.modelCursor=z.modelCursor._getTransformedByInsertion(k,1),z.modelRange=z.modelRange._getTransformedByInsertion(k,1)[0]}}z.modelRange||(z=Object.assign(z,m.convertChildren(z.viewItem,z.modelCursor))),m.consumable.consume(z.viewItem,{attributes:V+"-end-after"})&&B(z.modelRange.end,z.viewItem.getAttribute(V+"-end-after").split(",")),m.consumable.consume(z.viewItem,{attributes:V+"-start-after"})&&B(z.modelRange.end,z.viewItem.getAttribute(V+"-start-after").split(",")),m.consumable.consume(z.viewItem,{attributes:V+"-end-before"})&&B(z.modelRange.start,z.viewItem.getAttribute(V+"-end-before").split(",")),m.consumable.consume(z.viewItem,{attributes:V+"-start-before"})&&B(z.modelRange.start,z.viewItem.getAttribute(V+"-start-before").split(","))}}(a),{priority:h+d})}}(t))}}function al(r){let t=Q8(r=gt(r)),a=K8(r.view),e=a?"element:"+a:"element";return n=>{n.on(e,t,{priority:r.converterPriority||"normal"})}}function K8(r){return typeof r=="string"?r:typeof r=="object"&&typeof r.name=="string"?r.name:null}function Q8(r){let t=new st(r.view);return(a,e,n)=>{let i=t.match(e.viewItem);if(!i)return;let h=i.match;if(h.name=!0,!n.consumable.test(e.viewItem,h))return;let s=function(d,g,p){return d instanceof Function?d(g,p):p.writer.createElement(d)}(r.model,e.viewItem,n);s&&n.safeInsert(s,e.modelCursor)&&(n.consumable.consume(e.viewItem,h),n.convertChildren(e.viewItem,s),n.updateConversionResult(s,e))}}function el(r,t=null){let a=t===null||(i=>i.getAttribute(t)),e=typeof r.model!="object"?r.model:r.model.key,n=typeof r.model!="object"||r.model.value===void 0?a:r.model.value;r.model={key:e,value:n}}function rl(r,t){let a=new st(r.view);return(e,n,i)=>{let h=a.match(n.viewItem);if(!h)return;let s=r.model.key,d=typeof r.model.value=="function"?r.model.value(n.viewItem,i):r.model.value;d!==null&&(function(g,p){let z=typeof g=="function"?g(p):g;return typeof z=="object"&&!K8(z)?!1:!z.classes&&!z.attributes&&!z.styles}(r.view,n.viewItem)?h.match.name=!0:delete h.match.name,!!i.consumable.test(n.viewItem,h.match)&&(n.modelRange||(n=Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor))),function(g,p,z,m){let V=!1;for(let B of Array.from(g.getItems({shallow:z})))m.schema.checkAttribute(B,p.key)&&(V=!0,B.hasAttribute(p.key)||m.writer.setAttribute(p.key,p.value,B));return V}(n.modelRange,{key:s,value:d},t,i)&&i.consumable.consume(n.viewItem,h.match)))}}function nl(r,t){let a={};return a.view=r.view+"-"+t,a.model=(e,n)=>{let i=e.getAttribute("name"),h=r.model(i,n);return n.writer.createElement("$marker",{"data-name":h})},a}class ol{constructor(t,a){this.model=t,this.view=new ji(a),this.mapper=new U8,this.downcastDispatcher=new q8({mapper:this.mapper,schema:t.schema});let e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(e,"change",()=>{this.view.change(h=>{this.downcastDispatcher.convertChanges(e.differ,i,h),this.downcastDispatcher.convertSelection(n,i,h)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(h,s){return(d,g)=>{let p=g.newSelection,z=[];for(let V of p.getRanges())z.push(s.toModelRange(V));let m=h.createSelection(z,{backward:p.isBackward});m.isEqual(h.document.selection)||h.change(V=>{V.setSelection(m)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(h,s,d)=>{if(!d.consumable.consume(s.item,"insert"))return;let g=d.writer,p=d.mapper.toViewPosition(s.range.start),z=g.createText(s.item.data);g.insert(p,z)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(h,s,d)=>{let g=d.mapper.toViewPosition(s.position),p=s.position.getShiftedBy(s.length),z=d.mapper.toViewPosition(p,{isPhantom:!0}),m=d.writer.createRange(g,z),V=d.writer.remove(m.getTrimmed());for(let B of d.writer.createRangeIn(V).getItems())d.mapper.unbindViewElement(B)},{priority:"low"}),this.downcastDispatcher.on("selection",(h,s,d)=>{let g=d.writer,p=g.document.selection;for(let z of p.getRanges())z.isCollapsed&&z.end.parent.isAttached()&&d.writer.mergeAttributes(z.start);g.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(h,s,d)=>{let g=s.selection;if(g.isCollapsed||!d.consumable.consume(g,"selection"))return;let p=[];for(let z of g.getRanges()){let m=d.mapper.toViewRange(z);p.push(m)}d.writer.setSelection(p,{backward:g.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,s,d)=>{let g=s.selection;if(!g.isCollapsed||!d.consumable.consume(g,"selection"))return;let p=d.writer,z=g.getFirstPosition(),m=d.mapper.toViewPosition(z),V=p.breakAttributes(m);p.setSelection(V)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(h=>{if(h.rootName=="$graveyard")return null;let s=new op(this.view.document,h.name);return s.rootName=h.rootName,this.mapper.bindElements(h,s),s})}destroy(){this.view.destroy(),this.stopListening()}}i1(ol,w1);class lz{constructor(){this._commands=new Map}add(t,a){this._commands.set(t,a)}get(t){return this._commands.get(t)}execute(t,...a){let e=this.get(t);if(!e)throw new M.a("commandcollection-command-not-found",this,{commandName:t});return e.execute(...a)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(let t of this.commands())t.destroy()}}class va{constructor(){this._consumables=new Map}add(t,a){let e;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?e=this._consumables.get(t):(e=new cz(t),this._consumables.set(t,e)),e.add(a))}test(t,a){let e=this._consumables.get(t);return e===void 0?null:t.is("$text")||t.is("documentFragment")?e:e.test(a)}consume(t,a){return!!this.test(t,a)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(a),!0)}revert(t,a){let e=this._consumables.get(t);e!==void 0&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):e.revert(a))}static consumablesFromElement(t){let a={element:t,name:!0,attributes:[],classes:[],styles:[]},e=t.getAttributeKeys();for(let h of e)h!="style"&&h!="class"&&a.attributes.push(h);let n=t.getClassNames();for(let h of n)a.classes.push(h);let i=t.getStyleNames();for(let h of i)a.styles.push(h);return a}static createFrom(t,a){if(a||(a=new va(t)),t.is("$text"))return a.add(t),a;t.is("element")&&a.add(t,va.consumablesFromElement(t)),t.is("documentFragment")&&a.add(t);for(let e of t.getChildren())a=va.createFrom(e,a);return a}}class cz{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(let a in this._consumables)a in t&&this._add(a,t[a])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(let a in this._consumables)if(a in t){let e=this._test(a,t[a]);if(e!==!0)return e}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(let a in this._consumables)a in t&&this._consume(a,t[a])}revert(t){t.name&&(this._canConsumeName=!0);for(let a in this._consumables)a in t&&this._revert(a,t[a])}_add(t,a){let e=l2(a)?a:[a],n=this._consumables[t];for(let i of e){if(t==="attributes"&&(i==="class"||i==="style"))throw new M.a("viewconsumable-invalid-attribute",this);if(n.set(i,!0),t==="styles")for(let h of this.element.document.stylesProcessor.getRelatedStyles(i))n.set(h,!0)}}_test(t,a){let e=l2(a)?a:[a],n=this._consumables[t];for(let i of e)if(t!=="attributes"||i!=="class"&&i!=="style"){let h=n.get(i);if(h===void 0)return null;if(!h)return!1}else{let h=i=="class"?"classes":"styles",s=this._test(h,[...this._consumables[h].keys()]);if(s!==!0)return s}return!0}_consume(t,a){let e=l2(a)?a:[a],n=this._consumables[t];for(let i of e)if(t!=="attributes"||i!=="class"&&i!=="style"){if(n.set(i,!1),t=="styles")for(let h of this.element.document.stylesProcessor.getRelatedStyles(i))n.set(h,!1)}else{let h=i=="class"?"classes":"styles";this._consume(h,[...this._consumables[h].keys()])}}_revert(t,a){let e=l2(a)?a:[a],n=this._consumables[t];for(let i of e)if(t!=="attributes"||i!=="class"&&i!=="style")n.get(i)===!1&&n.set(i,!0);else{let h=i=="class"?"classes":"styles";this._revert(h,[...this._consumables[h].keys()])}}}class il{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,a)=>{a[0]=new a4(a[0])},{priority:"highest"}),this.on("checkChild",(t,a)=>{a[0]=new a4(a[0]),a[1]=this.getDefinition(a[1])},{priority:"highest"})}register(t,a){if(this._sourceDefinitions[t])throw new M.a("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},a)],this._clearCache()}extend(t,a){if(!this._sourceDefinitions[t])throw new M.a("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},a)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let a;return a=typeof t=="string"?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[a]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){let a=this.getDefinition(t);return!(!a||!a.isBlock)}isLimit(t){let a=this.getDefinition(t);return!!a&&!(!a.isLimit&&!a.isObject)}isObject(t){let a=this.getDefinition(t);return!!a&&!!(a.isObject||a.isLimit&&a.isSelectable&&a.isContent)}isInline(t){let a=this.getDefinition(t);return!(!a||!a.isInline)}isSelectable(t){let a=this.getDefinition(t);return!!a&&!(!a.isSelectable&&!a.isObject)}isContent(t){let a=this.getDefinition(t);return!!a&&!(!a.isContent&&!a.isObject)}checkChild(t,a){return!!a&&this._checkContextMatch(a,t)}checkAttribute(t,a){let e=this.getDefinition(t.last);return!!e&&e.allowAttributes.includes(a)}checkMerge(t,a=null){if(t instanceof j){let e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof I1))throw new M.a("schema-check-merge-no-element-before",this);if(!(n instanceof I1))throw new M.a("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}for(let e of a.getChildren())if(!this.checkChild(t,e))return!1;return!0}addChildCheck(t){this.on("checkChild",(a,[e,n])=>{if(!n)return;let i=t(e,n);typeof i=="boolean"&&(a.stop(),a.return=i)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(a,[e,n])=>{let i=t(e,n);typeof i=="boolean"&&(a.stop(),a.return=i)},{priority:"high"})}setAttributeProperties(t,a){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),a)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let a;for(t instanceof j?a=t.parent:a=(t instanceof D?[t]:Array.from(t.getRanges())).reduce((e,n)=>{let i=n.getCommonAncestor();return e?e.getCommonAncestor(i,{includeSelf:!0}):i},null);!this.isLimit(a)&&a.parent;)a=a.parent;return a}checkAttributeInSelection(t,a){if(t.isCollapsed){let e=[...t.getFirstPosition().getAncestors(),new F1("",t.getAttributes())];return this.checkAttribute(e,a)}{let e=t.getRanges();for(let n of e)for(let i of n)if(this.checkAttribute(i.item,a))return!0}return!1}*getValidRanges(t,a){t=function*(e){for(let n of e)yield*n.getMinimalFlatRanges()}(t);for(let e of t)yield*this._getValidRangesForRange(e,a)}getNearestSelectionRange(t,a="both"){if(this.checkChild(t,"$text"))return new D(t);let e,n,i=t.getAncestors().reverse().find(h=>this.isLimit(h))||t.root;a!="both"&&a!="backward"||(e=new Ot({boundaries:D._createIn(i),startPosition:t,direction:"backward"})),a!="both"&&a!="forward"||(n=new Ot({boundaries:D._createIn(i),startPosition:t}));for(let h of function*(s,d){let g=!1;for(;!g;){if(g=!0,s){let p=s.next();p.done||(g=!1,yield{walker:s,value:p.value})}if(d){let p=d.next();p.done||(g=!1,yield{walker:d,value:p.value})}}}(e,n)){let s=h.walker==e?"elementEnd":"elementStart",d=h.value;if(d.type==s&&this.isObject(d.item))return D._createOn(d.item);if(this.checkChild(d.nextPosition,"$text"))return new D(d.nextPosition)}return null}findAllowedParent(t,a){let e=t.parent;for(;e;){if(this.checkChild(e,a))return e;if(this.isLimit(e))return null;e=e.parent}return null}removeDisallowedAttributes(t,a){for(let e of t)if(e.is("$text"))ll(this,e,a);else{let n=D._createIn(e).getPositions();for(let i of n)ll(this,i.nodeBefore||i.parent,a)}}createContext(t){return new a4(t)}_clearCache(){this._compiledDefinitions=null}_compile(){let t={},a=this._sourceDefinitions,e=Object.keys(a);for(let n of e)t[n]=hz(a[n],n);for(let n of e)sz(t,n);for(let n of e)vz(t,n);for(let n of e)dz(t,n),uz(t,n);for(let n of e)gz(t,n),pz(t,n);this._compiledDefinitions=t}_checkContextMatch(t,a,e=a.length-1){let n=a.getItem(e);if(t.allowIn.includes(n.name)){if(e==0)return!0;{let i=this.getDefinition(n);return this._checkContextMatch(i,a,e-1)}}return!1}*_getValidRangesForRange(t,a){let e=t.start,n=t.start;for(let i of t.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(D._createIn(i),a)),this.checkAttribute(i,a)||(e.isEqual(n)||(yield new D(e,n)),e=j._createAfter(i)),n=j._createAfter(i);e.isEqual(n)||(yield new D(e,n))}}i1(il,w1);class a4{constructor(t){if(t instanceof a4)return t;typeof t=="string"?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),this._items=t.map(fz)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){let a=new a4([t]);return a._items=[...this._items,...a._items],a}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function hz(r,t){let a={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,n){for(let i of e){let h=Object.keys(i).filter(s=>s.startsWith("is"));for(let s of h)n[s]=i[s]}}(r,a),N4(r,a,"allowIn"),N4(r,a,"allowContentOf"),N4(r,a,"allowWhere"),N4(r,a,"allowAttributes"),N4(r,a,"allowAttributesOf"),N4(r,a,"inheritTypesFrom"),function(e,n){for(let i of e){let h=i.inheritAllFrom;h&&(n.allowContentOf.push(h),n.allowWhere.push(h),n.allowAttributesOf.push(h),n.inheritTypesFrom.push(h))}}(r,a),a}function sz(r,t){for(let a of r[t].allowContentOf)r[a]&&zz(r,a).forEach(e=>{e.allowIn.push(t)});delete r[t].allowContentOf}function vz(r,t){for(let a of r[t].allowWhere){let e=r[a];if(e){let n=e.allowIn;r[t].allowIn.push(...n)}}delete r[t].allowWhere}function dz(r,t){for(let a of r[t].allowAttributesOf){let e=r[a];if(e){let n=e.allowAttributes;r[t].allowAttributes.push(...n)}}delete r[t].allowAttributesOf}function uz(r,t){let a=r[t];for(let e of a.inheritTypesFrom){let n=r[e];if(n){let i=Object.keys(n).filter(h=>h.startsWith("is"));for(let h of i)h in a||(a[h]=n[h])}}delete a.inheritTypesFrom}function gz(r,t){let a=r[t],e=a.allowIn.filter(n=>r[n]);a.allowIn=Array.from(new Set(e))}function pz(r,t){let a=r[t];a.allowAttributes=Array.from(new Set(a.allowAttributes))}function N4(r,t,a){for(let e of r)typeof e[a]=="string"?t[a].push(e[a]):Array.isArray(e[a])&&t[a].push(...e[a])}function zz(r,t){let a=r[t];return(e=r,Object.keys(e).map(n=>e[n])).filter(n=>n.allowIn.includes(a.name));var e}function fz(r){return typeof r=="string"||r.is("documentFragment")?{name:typeof r=="string"?r:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:r.is("element")?r.name:"$text",*getAttributeKeys(){yield*r.getAttributeKeys()},getAttribute:t=>r.getAttribute(t)}}function ll(r,t,a){for(let e of t.getAttributeKeys())r.checkAttribute(t,e)||a.removeAttribute(e,t)}class cl{constructor(t={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,a,e=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(h,s){let d;for(let g of new a4(h)){let p={};for(let m of g.getAttributeKeys())p[m]=g.getAttribute(m);let z=s.createElement(g.name,p);d&&s.append(z,d),d=j._createAt(z,0)}return d}(e,a),this.conversionApi.writer=a,this.conversionApi.consumable=va.createFrom(t),this.conversionApi.store={};let{modelRange:n}=this._convertItem(t,this._modelCursor),i=a.createDocumentFragment();if(n){this._removeEmptyElements();for(let h of Array.from(this._modelCursor.parent.getChildren()))a.append(h,i);i.markers=function(h,s){let d=new Set,g=new Map,p=D._createIn(h).getItems();for(let z of p)z.name=="$marker"&&d.add(z);for(let z of d){let m=z.getAttribute("data-name"),V=s.createPositionBefore(z);g.has(m)?g.get(m).end=V.clone():g.set(m,new D(V.clone())),s.remove(z)}return g}(i,a)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(t,a){let e=Object.assign({viewItem:t,modelCursor:a,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,e,this.conversionApi):t.is("$text")?this.fire("text",e,this.conversionApi):this.fire("documentFragment",e,this.conversionApi),e.modelRange&&!(e.modelRange instanceof D))throw new M.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:e.modelRange,modelCursor:e.modelCursor}}_convertChildren(t,a){let e=a.is("position")?a:j._createAt(a,0),n=new D(e);for(let i of Array.from(t.getChildren())){let h=this._convertItem(i,e);h.modelRange instanceof D&&(n.end=h.modelRange.end,e=h.modelCursor)}return{modelRange:n,modelCursor:e}}_safeInsert(t,a){let e=this._splitToAllowedParent(t,a);return!!e&&(this.conversionApi.writer.insert(t,e.position),!0)}_updateConversionResult(t,a){let e=this._getSplitParts(t),n=this.conversionApi.writer;a.modelRange||(a.modelRange=n.createRange(n.createPositionBefore(t),n.createPositionAfter(e[e.length-1])));let i=this._cursorParents.get(t);a.modelCursor=i?n.createPositionAt(i,0):a.modelRange.end}_splitToAllowedParent(t,a){let{schema:e,writer:n}=this.conversionApi,i=e.findAllowedParent(a,t);if(i){if(i===a.parent)return{position:a};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return Zi(a,t,e)?{position:tl(a,n)}:null;let h=this.conversionApi.writer.split(a,i),s=[];for(let g of h.range.getWalker())if(g.type=="elementEnd")s.push(g.item);else{let p=s.pop(),z=g.item;this._registerSplitPair(p,z)}let d=h.range.end.parent;return this._cursorParents.set(t,d),{position:h.position,cursorParent:d}}_registerSplitPair(t,a){this._splitParts.has(t)||this._splitParts.set(t,[t]);let e=this._splitParts.get(t);this._splitParts.set(a,e),e.push(a)}_getSplitParts(t){let a;return a=this._splitParts.has(t)?this._splitParts.get(t):[t],a}_removeEmptyElements(){let t=!1;for(let a of this._splitParts.keys())a.isEmpty&&(this.conversionApi.writer.remove(a),this._splitParts.delete(a),t=!0);t&&this._removeEmptyElements()}}i1(cl,U);class Mz{getHtml(t){let a=document.implementation.createHTMLDocument("").createElement("div");return a.appendChild(t),a.innerHTML}}class mz{constructor(t){this._domParser=new DOMParser,this._domConverter=new Y6(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new Mz}toData(t){let a=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(a)}toView(t){let a=this._toDom(t);return this._domConverter.domToView(a)}registerRawContentMatcher(t){this._domConverter.registerRawContentMatcher(t)}useFillerType(t){this._domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp"}_toDom(t){let a=this._domParser.parseFromString(t,"text/html"),e=a.createDocumentFragment(),n=a.body.childNodes;for(;n.length>0;)e.appendChild(n[0]);return e}}class hl{constructor(t,a){this.model=t,this.mapper=new U8,this.downcastDispatcher=new q8({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(e,n,i)=>{if(!i.consumable.consume(n.item,"insert"))return;let h=i.writer,s=i.mapper.toViewPosition(n.range.start),d=h.createText(n.item.data);h.insert(s,d)},{priority:"lowest"}),this.upcastDispatcher=new cl({schema:t.schema}),this.viewDocument=new la(a),this.stylesProcessor=a,this.htmlProcessor=new mz(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new ni(this.viewDocument),this.upcastDispatcher.on("text",(e,n,{schema:i,consumable:h,writer:s})=>{let d=n.modelCursor;if(!h.test(n.viewItem))return;if(!i.checkChild(d,"$text")){if(!Zi(d,"$text",i))return;d=tl(d,s)}h.consume(n.viewItem);let g=s.createText(n.viewItem.data);s.insert(g,d),n.modelRange=s.createRange(d,d.getShiftedBy(g.offsetSize)),n.modelCursor=n.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(e,n,i)=>{if(!n.modelRange&&i.consumable.consume(n.viewItem,{name:!0})){let{modelRange:h,modelCursor:s}=i.convertChildren(n.viewItem,n.modelCursor);n.modelRange=h,n.modelCursor=s}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(e,n,i)=>{if(!n.modelRange&&i.consumable.consume(n.viewItem,{name:!0})){let{modelRange:h,modelCursor:s}=i.convertChildren(n.viewItem,n.modelCursor);n.modelRange=h,n.modelCursor=s}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange("transparent",Ji)},{priority:"lowest"})}get(t={}){let{rootName:a="main",trim:e="empty"}=t;if(!this._checkIfRootsExists([a]))throw new M.a("datacontroller-get-non-existent-root",this);let n=this.model.document.getRoot(a);return e!=="empty"||this.model.hasContent(n,{ignoreWhitespaces:!0})?this.stringify(n,t):""}stringify(t,a={}){let e=this.toView(t,a);return this.processor.toData(e)}toView(t,a={}){let e=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();let i=D._createIn(t),h=new J5(e);this.mapper.bindElements(t,h),this.downcastDispatcher.conversionApi.options=a,this.downcastDispatcher.convertInsert(i,n);let s=t.is("documentFragment")?Array.from(t.markers):function(d){let g=[],p=d.root.document;if(!p)return[];let z=D._createIn(d);for(let m of p.model.markers){let V=z.getIntersection(m.getRange());V&&g.push([m.name,V])}return g}(t);for(let[d,g]of s)this.downcastDispatcher.convertMarkerAdd(d,g,n);return delete this.downcastDispatcher.conversionApi.options,h}init(t){if(this.model.document.version)throw new M.a("datacontroller-init-document-not-empty",this);let a={};if(typeof t=="string"?a.main=t:a=t,!this._checkIfRootsExists(Object.keys(a)))throw new M.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",e=>{for(let n of Object.keys(a)){let i=this.model.document.getRoot(n);e.insert(this.parse(a[n],i),i,0)}}),Promise.resolve()}set(t){let a={};if(typeof t=="string"?a.main=t:a=t,!this._checkIfRootsExists(Object.keys(a)))throw new M.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange("transparent",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(let n of Object.keys(a)){let i=this.model.document.getRoot(n);e.remove(e.createRangeIn(i)),e.insert(this.parse(a[n],i),i,0)}})}parse(t,a="$root"){let e=this.processor.toView(t);return this.toModel(e,a)}toModel(t,a="$root"){return this.model.change(e=>this.upcastDispatcher.convert(t,e,a))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(let a of t)if(!this.model.document.getRootNames().includes(a))return!1;return!0}}i1(hl,w1);class xz{constructor(t,a){this._helpers=new Map,this._downcast=u1(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=u1(a),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,a){let e=this._downcast.includes(a);if(!this._upcast.includes(a)&&!e)throw new M.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[a],isDowncast:e})}for(t){if(!this._helpers.has(t))throw new M.a("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(let{model:a,view:e}of Y8(t))this.for("upcast").elementToElement({model:a,view:e,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(let{model:a,view:e}of Y8(t))this.for("upcast").elementToAttribute({view:e,model:a,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(let{model:a,view:e}of Y8(t))this.for("upcast").attributeToAttribute({view:e,model:a})}_createConversionHelpers({name:t,dispatchers:a,isDowncast:e}){if(this._helpers.has(t))throw new M.a("conversion-group-exists",this);let n=e?new oz(a):new iz(a);this._helpers.set(t,n)}}function*Y8(r){if(r.model.values)for(let t of r.model.values){let a={key:r.model.key,value:t},e=r.view[t],n=r.upcastAlso?r.upcastAlso[t]:void 0;yield*sl(a,e,n)}else yield*sl(r.model,r.view,r.upcastAlso)}function*sl(r,t,a){if(yield{model:r,view:t},a)for(let e of u1(a))yield{model:r,view:e}}class ie{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(let t of this.operations)if(t.baseVersion!==null)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class k0{constructor(t){this.baseVersion=t,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){let t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Pt{constructor(t){this.markers=new Map,this._children=new R4,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(t){return t==="documentFragment"||t==="model:documentFragment"}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let a=this;for(let e of t)a=a.getChild(a.offsetToIndex(e));return a}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){let t=[];for(let a of this._children)t.push(a.toJSON());return t}static fromJSON(t){let a=[];for(let e of t)e.name?a.push(I1.fromJSON(e)):a.push(F1.fromJSON(e));return new Pt(a)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,a){let e=function(n){return typeof n=="string"?[new F1(n)]:(E1(n)||(n=[n]),Array.from(n).map(i=>typeof i=="string"?new F1(i):i instanceof dt?new F1(i.data,i.getAttributes()):i))}(a);for(let n of e)n.parent!==null&&n._remove(),n.parent=this;this._children._insertNodes(t,e)}_removeChildren(t,a=1){let e=this._children._removeNodes(t,a);for(let n of e)n.parent=null;return e}}function X8(r,t){let a=(t=dl(t)).reduce((i,h)=>i+h.offsetSize,0),e=r.parent;ga(r);let n=r.index;return e._insertChild(n,t),ua(e,n+t.length),ua(e,n),new D(r,r.getShiftedBy(a))}function vl(r){if(!r.isFlat)throw new M.a("operation-utils-remove-range-not-flat",this);let t=r.start.parent;ga(r.start),ga(r.end);let a=t._removeChildren(r.start.index,r.end.index-r.start.index);return ua(t,r.start.index),a}function da(r,t){if(!r.isFlat)throw new M.a("operation-utils-move-range-not-flat",this);let a=vl(r);return X8(t=t._getTransformedByDeletion(r.start,r.end.offset-r.start.offset),a)}function dl(r){let t=[];r instanceof Array||(r=[r]);for(let a=0;a<r.length;a++)if(typeof r[a]=="string")t.push(new F1(r[a]));else if(r[a]instanceof dt)t.push(new F1(r[a].data,r[a].getAttributes()));else if(r[a]instanceof Pt||r[a]instanceof R4)for(let e of r[a])t.push(e);else r[a]instanceof Z5&&t.push(r[a]);for(let a=1;a<t.length;a++){let e=t[a],n=t[a-1];e instanceof F1&&n instanceof F1&&ul(e,n)&&(t.splice(a-1,2,new F1(n.data+e.data,n.getAttributes())),a--)}return t}function ua(r,t){let a=r.getChild(t-1),e=r.getChild(t);if(a&&e&&a.is("$text")&&e.is("$text")&&ul(a,e)){let n=new F1(a.data+e.data,a.getAttributes());r._removeChildren(t-1,2),r._insertChild(t-1,n)}}function ga(r){let t=r.textNode,a=r.parent;if(t){let e=r.offset-t.startOffset,n=t.index;a._removeChildren(n,1);let i=new F1(t.data.substr(0,e),t.getAttributes()),h=new F1(t.data.substr(e),t.getAttributes());a._insertChild(n,[i,h])}}function ul(r,t){let a=r.getAttributes(),e=t.getAttributes();for(let n of a){if(n[1]!==t.getAttribute(n[0]))return!1;e.next()}return e.next().done}var gl=function(r,t){return Bi(r,t)};class e2 extends k0{constructor(t,a,e,n,i){super(i),this.range=t.clone(),this.key=a,this.oldValue=e===void 0?null:e,this.newValue=n===void 0?null:n}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new e2(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new e2(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){let t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new M.a("attribute-operation-range-not-flat",this);for(let t of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!gl(t.getAttribute(this.key),this.oldValue))throw new M.a("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key))throw new M.a("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){gl(this.oldValue,this.newValue)||function(t,a,e){ga(t.start),ga(t.end);for(let n of t.getItems({shallow:!0})){let i=n.is("$textProxy")?n.textNode:n;e!==null?i._setAttribute(a,e):i._removeAttribute(a),ua(i.parent,i.index)}ua(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,a){return new e2(D.fromJSON(t.range,a),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Hz extends k0{constructor(t,a){super(null),this.sourcePosition=t.clone(),this.howMany=a}get type(){return"detach"}toJSON(){let t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new M.a("detach-operation-on-document-node",this)}_execute(){vl(D._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class S1 extends k0{constructor(t,a,e,n){super(n),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=a,this.targetPosition=e.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){let t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){let t=this.sourcePosition.parent,a=this.targetPosition.parent,e=this.sourcePosition.offset,n=this.targetPosition.offset;if(e+this.howMany>t.maxOffset)throw new M.a("move-operation-nodes-do-not-exist",this);if(t===a&&e<n&&n<e+this.howMany)throw new M.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&S2(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){let i=this.sourcePosition.path.length-1;if(this.targetPosition.path[i]>=e&&this.targetPosition.path[i]<e+this.howMany)throw new M.a("move-operation-node-into-itself",this)}}_execute(){da(D._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){let t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,a){let e=j.fromJSON(t.sourcePosition,a),n=j.fromJSON(t.targetPosition,a);return new this(e,t.howMany,n,t.baseVersion)}}class f2 extends k0{constructor(t,a,e){super(e),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new R4(dl(a)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){let t=new R4([...this.nodes].map(e=>e._clone(!0))),a=new f2(this.position,t,this.baseVersion);return a.shouldReceiveAttributes=this.shouldReceiveAttributes,a}getReversed(){let t=this.position.root.document.graveyard,a=new j(t,[0]);return new S1(this.position,this.nodes.maxOffset,a,this.baseVersion+1)}_validate(){let t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new M.a("insert-operation-position-invalid",this)}_execute(){let t=this.nodes;this.nodes=new R4([...t].map(a=>a._clone(!0))),X8(this.position,t)}toJSON(){let t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,a){let e=[];for(let i of t.nodes)i.name?e.push(I1.fromJSON(i)):e.push(F1.fromJSON(i));let n=new f2(j.fromJSON(t.position,a),e,t.baseVersion);return n.shouldReceiveAttributes=t.shouldReceiveAttributes,n}}class t0 extends k0{constructor(t,a,e,n,i,h){super(h),this.name=t,this.oldRange=a?a.clone():null,this.newRange=e?e.clone():null,this.affectsData=i,this._markers=n}get type(){return"marker"}clone(){return new t0(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new t0(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){let t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){let t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,a){return new t0(t.name,t.oldRange?D.fromJSON(t.oldRange,a):null,t.newRange?D.fromJSON(t.newRange,a):null,a.model.markers,t.affectsData,t.baseVersion)}}class a0 extends k0{constructor(t,a,e,n){super(n),this.position=t,this.position.stickiness="toNext",this.oldName=a,this.newName=e}get type(){return"rename"}clone(){return new a0(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new a0(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){let t=this.position.nodeAfter;if(!(t instanceof I1))throw new M.a("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new M.a("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){let t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,a){return new a0(j.fromJSON(t.position,a),t.oldName,t.newName,t.baseVersion)}}class Et extends k0{constructor(t,a,e,n,i){super(i),this.root=t,this.key=a,this.oldValue=e,this.newValue=n}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new Et(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Et(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new M.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new M.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){let t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,a){if(!a.getRoot(t.root))throw new M.a("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new Et(a.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class c2 extends k0{constructor(t,a,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=a,this.targetPosition=e.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=n.clone()}get type(){return"merge"}get deletionPosition(){return new j(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){let t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new D(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){let t=this.targetPosition._getTransformedByMergeOperation(this),a=this.sourcePosition.path.slice(0,-1),e=new j(this.sourcePosition.root,a)._getTransformedByMergeOperation(this);return new T1(t,this.howMany,e,this.graveyardPosition,this.baseVersion+1)}_validate(){let t=this.sourcePosition.parent,a=this.targetPosition.parent;if(!t.parent)throw new M.a("merge-operation-source-position-invalid",this);if(!a.parent)throw new M.a("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new M.a("merge-operation-how-many-invalid",this)}_execute(){let t=this.sourcePosition.parent;da(D._createIn(t),this.targetPosition),da(D._createOn(t),this.graveyardPosition)}toJSON(){let t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,a){let e=j.fromJSON(t.sourcePosition,a),n=j.fromJSON(t.targetPosition,a),i=j.fromJSON(t.graveyardPosition,a);return new this(e,t.howMany,n,i,t.baseVersion)}}class T1 extends k0{constructor(t,a,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=a,this.insertionPosition=e,this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){let t=this.insertionPosition.path.slice();return t.push(0),new j(this.insertionPosition.root,t)}get movedRange(){let t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new D(this.splitPosition,t)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){let t=this.splitPosition.root.document.graveyard,a=new j(t,[0]);return new c2(this.moveTargetPosition,this.howMany,this.splitPosition,a,this.baseVersion+1)}_validate(){let t=this.splitPosition.parent,a=this.splitPosition.offset;if(!t||t.maxOffset<a)throw new M.a("split-operation-position-invalid",this);if(!t.parent)throw new M.a("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new M.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M.a("split-operation-graveyard-position-invalid",this)}_execute(){let t=this.splitPosition.parent;if(this.graveyardPosition)da(D._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{let a=t._clone();X8(this.insertionPosition,a)}da(new D(j._createAt(t,this.splitPosition.offset),j._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){let t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){let a=t.path.slice(0,-1);return a[a.length-1]++,new j(t.root,a,"toPrevious")}static fromJSON(t,a){let e=j.fromJSON(t.splitPosition,a),n=j.fromJSON(t.insertionPosition,a),i=t.graveyardPosition?j.fromJSON(t.graveyardPosition,a):null;return new this(e,t.howMany,n,i,t.baseVersion)}}class J8 extends I1{constructor(t,a,e="main"){super(a),this._document=t,this.rootName=e}get document(){return this._document}is(t,a){return a?a===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node"}toJSON(){return this.rootName}}class Vz{constructor(t,a){this.model=t,this.batch=a}createText(t,a){return new F1(t,a)}createElement(t,a){return new I1(t,a)}createDocumentFragment(){return new Pt}cloneElement(t,a=!0){return t._clone(a)}insert(t,a,e=0){if(this._assertWriterUsedCorrectly(),t instanceof F1&&t.data=="")return;let n=j._createAt(a,e);if(t.parent){if(fl(t.root,n.root))return void this.move(D._createOn(t),n);if(t.root.document)throw new M.a("model-writer-insert-forbidden-move",this);this.remove(t)}let i=n.root.document?n.root.document.version:null,h=new f2(n,t,i);if(t instanceof F1&&(h.shouldReceiveAttributes=!0),this.batch.addOperation(h),this.model.applyOperation(h),t instanceof Pt)for(let[s,d]of t.markers){let g=j._createAt(d.root,0),p={range:new D(d.start._getCombined(g,n),d.end._getCombined(g,n)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,p):this.addMarker(s,p)}}insertText(t,a,e,n){a instanceof Pt||a instanceof I1||a instanceof j?this.insert(this.createText(t),a,e):this.insert(this.createText(t,a),e,n)}insertElement(t,a,e,n){a instanceof Pt||a instanceof I1||a instanceof j?this.insert(this.createElement(t),a,e):this.insert(this.createElement(t,a),e,n)}append(t,a){this.insert(t,a,"end")}appendText(t,a,e){a instanceof Pt||a instanceof I1?this.insert(this.createText(t),a,"end"):this.insert(this.createText(t,a),e,"end")}appendElement(t,a,e){a instanceof Pt||a instanceof I1?this.insert(this.createElement(t),a,"end"):this.insert(this.createElement(t,a),e,"end")}setAttribute(t,a,e){if(this._assertWriterUsedCorrectly(),e instanceof D){let n=e.getMinimalFlatRanges();for(let i of n)pl(this,t,a,i)}else zl(this,t,a,e)}setAttributes(t,a){for(let[e,n]of _t(t))this.setAttribute(e,n,a)}removeAttribute(t,a){if(this._assertWriterUsedCorrectly(),a instanceof D){let e=a.getMinimalFlatRanges();for(let n of e)pl(this,t,null,n)}else zl(this,t,null,a)}clearAttributes(t){this._assertWriterUsedCorrectly();let a=e=>{for(let n of e.getAttributeKeys())this.removeAttribute(n,e)};if(t instanceof D)for(let e of t.getItems())a(e);else a(t)}move(t,a,e){if(this._assertWriterUsedCorrectly(),!(t instanceof D))throw new M.a("writer-move-invalid-range",this);if(!t.isFlat)throw new M.a("writer-move-range-not-flat",this);let n=j._createAt(a,e);if(n.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!fl(t.root,n.root))throw new M.a("writer-move-different-document",this);let i=t.root.document?t.root.document.version:null,h=new S1(t.start,t.end.offset-t.start.offset,n,i);this.batch.addOperation(h),this.model.applyOperation(h)}remove(t){this._assertWriterUsedCorrectly();let a=(t instanceof D?t:D._createOn(t)).getMinimalFlatRanges().reverse();for(let e of a)this._addOperationForAffectedMarkers("move",e),wz(e.start,e.end.offset-e.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();let a=t.nodeBefore,e=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(a instanceof I1))throw new M.a("writer-merge-no-element-before",this);if(!(e instanceof I1))throw new M.a("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,a,e){return this.model.createPositionFromPath(t,a,e)}createPositionAt(t,a){return this.model.createPositionAt(t,a)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,a){return this.model.createRange(t,a)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,a,e){return this.model.createSelection(t,a,e)}_mergeDetached(t){let a=t.nodeBefore,e=t.nodeAfter;this.move(D._createIn(e),j._createAt(a,"end")),this.remove(e)}_merge(t){let a=j._createAt(t.nodeBefore,"end"),e=j._createAt(t.nodeAfter,0),n=t.root.document.graveyard,i=new j(n,[0]),h=t.root.document.version,s=new c2(e,t.nodeAfter.maxOffset,a,i,h);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,a){if(this._assertWriterUsedCorrectly(),!(t instanceof I1))throw new M.a("writer-rename-not-element-instance",this);let e=t.root.document?t.root.document.version:null,n=new a0(j._createBefore(t),t.name,a,e);this.batch.addOperation(n),this.model.applyOperation(n)}split(t,a){this._assertWriterUsedCorrectly();let e,n,i=t.parent;if(!i.parent)throw new M.a("writer-split-element-no-parent",this);if(a||(a=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(a))throw new M.a("writer-split-invalid-limit-element",this);do{let h=i.root.document?i.root.document.version:null,s=i.maxOffset-t.offset,d=T1.getInsertionPosition(t),g=new T1(t,s,d,null,h);this.batch.addOperation(g),this.model.applyOperation(g),e||n||(e=i,n=t.parent.nextSibling),i=(t=this.createPositionAfter(t.parent)).parent}while(i!==a);return{position:t,range:new D(j._createAt(e,"end"),j._createAt(n,0))}}wrap(t,a){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new M.a("writer-wrap-range-not-flat",this);let e=a instanceof I1?a:new I1(a);if(e.childCount>0)throw new M.a("writer-wrap-element-not-empty",this);if(e.parent!==null)throw new M.a("writer-wrap-element-attached",this);this.insert(e,t.start);let n=new D(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(n,j._createAt(e,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),t.parent===null)throw new M.a("writer-unwrap-element-no-parent",this);this.move(D._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,a){if(this._assertWriterUsedCorrectly(),!a||typeof a.usingOperation!="boolean")throw new M.a("writer-addmarker-no-usingoperation",this);let e=a.usingOperation,n=a.range,i=a.affectsData!==void 0&&a.affectsData;if(this.model.markers.has(t))throw new M.a("writer-addmarker-marker-exists",this);if(!n)throw new M.a("writer-addmarker-no-range",this);return e?(pa(this,t,null,n,i),this.model.markers.get(t)):this.model.markers._set(t,n,e,i)}updateMarker(t,a){this._assertWriterUsedCorrectly();let e=typeof t=="string"?t:t.name,n=this.model.markers.get(e);if(!n)throw new M.a("writer-updatemarker-marker-not-exists",this);if(!a)return void this.model.markers._refresh(n);let i=typeof a.usingOperation=="boolean",h=typeof a.affectsData=="boolean",s=h?a.affectsData:n.affectsData;if(!i&&!a.range&&!h)throw new M.a("writer-updatemarker-wrong-options",this);let d=n.getRange(),g=a.range?a.range:d;i&&a.usingOperation!==n.managedUsingOperations?a.usingOperation?pa(this,e,null,g,s):(pa(this,e,d,null,s),this.model.markers._set(e,g,void 0,s)):n.managedUsingOperations?pa(this,e,d,g,s):this.model.markers._set(e,g,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();let a=typeof t=="string"?t:t.name;if(!this.model.markers.has(a))throw new M.a("writer-removemarker-no-marker",this);let e=this.model.markers.get(a);if(!e.managedUsingOperations)return void this.model.markers._remove(a);pa(this,a,e.getRange(),null,e.affectsData)}setSelection(t,a,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,a,e)}setSelectionFocus(t,a){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,a)}setSelectionAttribute(t,a){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._setSelectionAttribute(t,a);else for(let[e,n]of _t(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),typeof t=="string")this._removeSelectionAttribute(t);else for(let a of t)this._removeSelectionAttribute(a)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,a){let e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){let n=K0._getStoreAttributeKey(t);this.setAttribute(n,a,e.anchor.parent)}e._setAttribute(t,a)}_removeSelectionAttribute(t){let a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){let e=K0._getStoreAttributeKey(t);this.removeAttribute(e,a.anchor.parent)}a._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M.a("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,a){for(let e of this.model.markers){if(!e.managedUsingOperations)continue;let n=e.getRange(),i=!1;if(t==="move")i=a.containsPosition(n.start)||a.start.isEqual(n.start)||a.containsPosition(n.end)||a.end.isEqual(n.end);else{let h=a.nodeBefore,s=a.nodeAfter,d=n.start.parent==h&&n.start.isAtEnd,g=n.end.parent==s&&n.end.offset==0,p=n.end.nodeAfter==s,z=n.start.nodeAfter==s;i=d||g||p||z}i&&this.updateMarker(e.name,{range:n})}}}function pl(r,t,a,e){let n=r.model,i=n.document,h,s,d,g=e.start;for(let z of e.getWalker({shallow:!0}))d=z.item.getAttribute(t),h&&s!=d&&(s!=a&&p(),g=h),h=z.nextPosition,s=d;function p(){let z=new D(g,h),m=z.root.document?i.version:null,V=new e2(z,t,s,a,m);r.batch.addOperation(V),n.applyOperation(V)}h instanceof j&&h!=g&&s!=a&&p()}function zl(r,t,a,e){let n=r.model,i=n.document,h=e.getAttribute(t),s,d;if(h!=a){if(e.root===e){let g=e.document?i.version:null;d=new Et(e,t,h,a,g)}else{s=new D(j._createBefore(e),r.createPositionAfter(e));let g=s.root.document?i.version:null;d=new e2(s,t,h,a,g)}r.batch.addOperation(d),n.applyOperation(d)}}function pa(r,t,a,e,n){let i=r.model,h=i.document,s=new t0(t,a,e,i.markers,n,h.version);r.batch.addOperation(s),i.applyOperation(s)}function wz(r,t,a,e){let n;if(r.root.document){let i=e.document,h=new j(i.graveyard,[0]);n=new S1(r,t,h,i.version)}else n=new Hz(r,t);a.addOperation(n),e.applyOperation(n)}function fl(r,t){return r===t||r instanceof J8&&t instanceof J8}class Lz{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);let a=D._createOn(t);for(let e of this._markerCollection.getMarkersIntersectingRange(a)){let n=e.getRange();this.bufferMarkerChange(e.name,n,n,e.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(let a of t.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;let a=this._isInInsertedElement(t.sourcePosition.parent),e=this._isInInsertedElement(t.targetPosition.parent);a||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),e||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);let a=D._createFromPositionAndShift(t.position,1);for(let e of this._markerCollection.getMarkersIntersectingRange(a)){let n=e.getRange();this.bufferMarkerChange(e.name,n,n,e.affectsData)}break}case"split":{let a=t.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{let a=t.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);let e=t.graveyardPosition.parent;this._markInsert(e,t.graveyardPosition.offset,1);let n=t.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,t.targetPosition.offset,a.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,a,e,n){let i=this._changedMarkers.get(t);i?(i.newRange=e,i.affectsData=n,i.oldRange==null&&i.newRange==null&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:a,newRange:e,affectsData:n})}getMarkersToRemove(){let t=[];for(let[a,e]of this._changedMarkers)e.oldRange!=null&&t.push({name:a,range:e.oldRange});return t}getMarkersToAdd(){let t=[];for(let[a,e]of this._changedMarkers)e.newRange!=null&&t.push({name:a,range:e.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(let[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let a=[];for(let e of this._changesInElement.keys()){let n=this._changesInElement.get(e).sort((p,z)=>p.offset===z.offset?p.type!=z.type?p.type=="remove"?-1:1:0:p.offset<z.offset?-1:1),i=this._elementSnapshots.get(e),h=Ml(e.getChildren()),s=Bz(i.length,n),d=0,g=0;for(let p of s)if(p==="i")a.push(this._getInsertDiff(e,d,h[d].name)),d++;else if(p==="r")a.push(this._getRemoveDiff(e,d,i[g].name)),g++;else if(p==="a"){let z=h[d].attributes,m=i[g].attributes,V;if(h[d].name=="$text")V=new D(j._createAt(e,d),j._createAt(e,d+1));else{let B=e.offsetToIndex(d);V=new D(j._createAt(e,d),j._createAt(e.getChild(B),0))}a.push(...this._getAttributesDiff(V,m,z)),d++,g++}else d++,g++}a.sort((e,n)=>e.position.root!=n.position.root?e.position.root.rootName<n.position.root.rootName?-1:1:e.position.isEqual(n.position)?e.changeCount-n.changeCount:e.position.isBefore(n.position)?-1:1);for(let e=1,n=0;e<a.length;e++){let i=a[n],h=a[e],s=i.type=="remove"&&h.type=="remove"&&i.name=="$text"&&h.name=="$text"&&i.position.isEqual(h.position),d=i.type=="insert"&&h.type=="insert"&&i.name=="$text"&&h.name=="$text"&&i.position.parent==h.position.parent&&i.position.offset+i.length==h.position.offset,g=i.type=="attribute"&&h.type=="attribute"&&i.position.parent==h.position.parent&&i.range.isFlat&&h.range.isFlat&&i.position.offset+i.length==h.position.offset&&i.attributeKey==h.attributeKey&&i.attributeOldValue==h.attributeOldValue&&i.attributeNewValue==h.attributeNewValue;s||d||g?(i.length++,g&&(i.range.end=i.range.end.getShiftedBy(1)),a[e]=null):n=e}a=a.filter(e=>e);for(let e of a)delete e.changeCount,e.type=="attribute"&&(delete e.position,delete e.length);return this._changeCount=0,this._cachedChangesWithGraveyard=a.slice(),this._cachedChanges=a.filter(kz),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,a,e){let n={type:"insert",offset:a,howMany:e,count:this._changeCount++};this._markChange(t,n)}_markRemove(t,a,e){let n={type:"remove",offset:a,howMany:e,count:this._changeCount++};this._markChange(t,n),this._removeAllNestedChanges(t,a,e)}_markAttribute(t){let a={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,a)}_markChange(t,a){this._makeSnapshot(t);let e=this._getChangesForElement(t);this._handleChange(a,e),e.push(a);for(let n=0;n<e.length;n++)e[n].howMany<1&&(e.splice(n,1),n--)}_getChangesForElement(t){let a;return this._changesInElement.has(t)?a=this._changesInElement.get(t):(a=[],this._changesInElement.set(t,a)),a}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Ml(t.getChildren()))}_handleChange(t,a){t.nodesToHandle=t.howMany;for(let e of a){let n=t.offset+t.howMany,i=e.offset+e.howMany;if(t.type=="insert"&&(e.type=="insert"&&(t.offset<=e.offset?e.offset+=t.howMany:t.offset<i&&(e.howMany+=t.nodesToHandle,t.nodesToHandle=0)),e.type=="remove"&&t.offset<e.offset&&(e.offset+=t.howMany),e.type=="attribute")){if(t.offset<=e.offset)e.offset+=t.howMany;else if(t.offset<i){let h=e.howMany;e.howMany=t.offset-e.offset,a.unshift({type:"attribute",offset:n,howMany:h-e.howMany,count:this._changeCount++})}}if(t.type=="remove"){if(e.type=="insert"){if(n<=e.offset)e.offset-=t.howMany;else if(n<=i)if(t.offset<e.offset){let h=n-e.offset;e.offset=t.offset,e.howMany-=h,t.nodesToHandle-=h}else e.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=e.offset)t.nodesToHandle-=e.howMany,e.howMany=0;else if(t.offset<i){let h=i-t.offset;e.howMany-=h,t.nodesToHandle-=h}}if(e.type=="remove"&&(n<=e.offset?e.offset-=t.howMany:t.offset<e.offset&&(t.nodesToHandle+=e.howMany,e.howMany=0)),e.type=="attribute"){if(n<=e.offset)e.offset-=t.howMany;else if(t.offset<e.offset){let h=n-e.offset;e.offset=t.offset,e.howMany-=h}else if(t.offset<i)if(n<=i){let h=e.howMany;e.howMany=t.offset-e.offset;let s=h-e.howMany-t.nodesToHandle;a.unshift({type:"attribute",offset:t.offset,howMany:s,count:this._changeCount++})}else e.howMany-=i-t.offset}}if(t.type=="attribute"){if(e.type=="insert")if(t.offset<e.offset&&n>e.offset){if(n>i){let h={type:"attribute",offset:i,howMany:n-i,count:this._changeCount++};this._handleChange(h,a),a.push(h)}t.nodesToHandle=e.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=e.offset&&t.offset<i&&(n>i?(t.nodesToHandle=n-i,t.offset=i):t.nodesToHandle=0);if(e.type=="remove"&&t.offset<e.offset&&n>e.offset){let h={type:"attribute",offset:e.offset,howMany:n-e.offset,count:this._changeCount++};this._handleChange(h,a),a.push(h),t.nodesToHandle=e.offset-t.offset,t.howMany=t.nodesToHandle}e.type=="attribute"&&(t.offset>=e.offset&&n<=i?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=e.offset&&n>=i&&(e.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,a,e){return{type:"insert",position:j._createAt(t,a),name:e,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,a,e){return{type:"remove",position:j._createAt(t,a),name:e,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,a,e){let n=[];e=new Map(e);for(let[i,h]of a){let s=e.has(i)?e.get(i):null;s!==h&&n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:h,attributeNewValue:s,changeCount:this._changeCount++}),e.delete(i)}for(let[i,h]of e)n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:h,changeCount:this._changeCount++});return n}_isInInsertedElement(t){let a=t.parent;if(!a)return!1;let e=this._changesInElement.get(a),n=t.startOffset;if(e){for(let i of e)if(i.type=="insert"&&n>=i.offset&&n<i.offset+i.howMany)return!0}return this._isInInsertedElement(a)}_removeAllNestedChanges(t,a,e){let n=new D(j._createAt(t,a),j._createAt(t,a+e));for(let i of n.getItems({shallow:!0}))i.is("element")&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}function Ml(r){let t=[];for(let a of r)if(a.is("$text"))for(let e=0;e<a.data.length;e++)t.push({name:"$text",attributes:new Map(a.getAttributes())});else t.push({name:a.name,attributes:new Map(a.getAttributes())});return t}function Bz(r,t){let a=[],e=0,n=0;for(let i of t){if(i.offset>e){for(let h=0;h<i.offset-e;h++)a.push("e");n+=i.offset-e}if(i.type=="insert"){for(let h=0;h<i.howMany;h++)a.push("i");e=i.offset+i.howMany}else if(i.type=="remove"){for(let h=0;h<i.howMany;h++)a.push("r");e=i.offset,n+=i.howMany}else a.push(..."a".repeat(i.howMany).split("")),e=i.offset+i.howMany,n+=i.howMany}if(n<r)for(let i=0;i<r-n-e;i++)a.push("e");return a}function kz(r){let t=r.position&&r.position.root.rootName=="$graveyard",a=r.range&&r.range.root.rootName=="$graveyard";return!t&&!a}class Cz{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY){let e=[];for(let n of this._operations)n.baseVersion>=t&&n.baseVersion<a&&e.push(n);return e}getOperation(t){for(let a of this._operations)if(a.baseVersion==t)return a}setOperationAsUndone(t,a){this._undoPairs.set(a,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function ml(r,t){return!!(a=r.charAt(t-1))&&a.length==1&&/[\ud800-\udbff]/.test(a)&&function(e){return!!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}(r.charAt(t));var a}function xl(r,t){return!!(a=r.charAt(t))&&a.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(a);var a}class Hl{constructor(t){this.model=t,this.version=0,this.history=new Cz(this),this.selection=new K0(this),this.roots=new X1({idProperty:"rootName"}),this.differ=new Lz(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(a,e)=>{let n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new M.a("model-document-applyoperation-wrong-version",this,{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(a,e)=>{let n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(a,e)=>{let n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(a,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),n===null&&e.on("change",(h,s)=>{this.differ.bufferMarkerChange(e.name,s,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(t="$root",a="main"){if(this.roots.get(a))throw new M.a("model-document-createroot-name-exists",this,{name:a});let e=new J8(this,t,a);return this.roots.add(e),e}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!="$graveyard")}registerPostFixer(t){this._postFixers.add(t)}toJSON(){let t=No(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(let t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){let t=this._getDefaultRoot(),a=this.model,e=a.schema,n=a.createPositionFromPath(t,[0]);return e.getNearestSelectionRange(n)||a.createRange(n)}_validateSelectionRange(t){return Vl(t.start)&&Vl(t.end)}_callPostFixers(t){let a=!1;do for(let e of this._postFixers)if(this.selection.refresh(),a=e(t),a)break;while(a)}}function Vl(r){let t=r.textNode;if(t){let a=t.data,e=r.offset-t.startOffset;return!ml(a,e)&&!xl(a,e)}return!0}i1(Hl,U);class wl{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,a,e=!1,n=!1){let i=t instanceof za?t.name:t;if(i.includes(","))throw new M.a("markercollection-incorrect-marker-name",this);let h=this._markers.get(i);if(h){let g=h.getRange(),p=!1;return g.isEqual(a)||(h._attachLiveRange(ut.fromRange(a)),p=!0),e!=h.managedUsingOperations&&(h._managedUsingOperations=e,p=!0),typeof n=="boolean"&&n!=h.affectsData&&(h._affectsData=n,p=!0),p&&this.fire("update:"+i,h,g,a),h}let s=ut.fromRange(a),d=new za(i,s,e,n);return this._markers.set(i,d),this.fire("update:"+i,d,null,a),d}_remove(t){let a=t instanceof za?t.name:t,e=this._markers.get(a);return!!e&&(this._markers.delete(a),this.fire("update:"+a,e,e.getRange(),null),this._destroyMarker(e),!0)}_refresh(t){let a=t instanceof za?t.name:t,e=this._markers.get(a);if(!e)throw new M.a("markercollection-refresh-marker-not-exists",this);let n=e.getRange();this.fire("update:"+a,e,n,n,e.managedUsingOperations,e.affectsData)}*getMarkersAtPosition(t){for(let a of this)a.getRange().containsPosition(t)&&(yield a)}*getMarkersIntersectingRange(t){for(let a of this)a.getRange().getIntersection(t)!==null&&(yield a)}destroy(){for(let t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(let a of this._markers.values())a.name.startsWith(t+":")&&(yield a)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}i1(wl,U);class za{constructor(t,a,e,n){this.name=t,this._liveRange=this._attachLiveRange(a),this._managedUsingOperations=e,this._affectsData=n}get managedUsingOperations(){if(!this._liveRange)throw new M.a("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M.a("marker-destroyed",this);return this._affectsData}getStart(){if(!this._liveRange)throw new M.a("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M.a("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M.a("marker-destroyed",this);return this._liveRange.toRange()}is(t){return t==="marker"||t==="model:marker"}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}i1(za,U);class M2 extends k0{get type(){return"noop"}clone(){return new M2(this.baseVersion)}getReversed(){return new M2(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}let Q0={};Q0[e2.className]=e2,Q0[f2.className]=f2,Q0[t0.className]=t0,Q0[S1.className]=S1,Q0[M2.className]=M2,Q0[k0.className]=k0,Q0[a0.className]=a0,Q0[Et.className]=Et,Q0[T1.className]=T1,Q0[c2.className]=c2;class L2 extends j{constructor(t,a,e="toNone"){if(super(t,a,e),!this.root.is("rootElement"))throw new M.a("model-liveposition-root-not-rootelement",t);Az.call(this)}detach(){this.stopListening()}is(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"}toPosition(){return new j(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,a){return new this(t.root,t.path.slice(),a||t.stickiness)}}function Az(){this.listenTo(this.root.document.model,"applyOperation",(r,t)=>{let a=t[0];a.isDocumentOperation&&bz.call(this,a)},{priority:"low"})}function bz(r){let t=this.getTransformedByOperation(r);if(!this.isEqual(t)){let a=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",a)}}i1(L2,U);class yz{constructor(t,a,e){this.model=t,this.writer=a,this.position=e,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=a.createDocumentFragment(),this._documentFragmentPosition=a.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t){for(let a of Array.from(t))this._handleNode(a);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){let a=this.writer.createPositionAfter(this._lastNode),e=this.writer.createPositionAfter(t);if(e.isAfter(a)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new M.a("insertcontent-invalid-insertion-position",this);this.position=e,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?D._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new D(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let a=this._checkAndAutoParagraphToAllowedPosition(t);a||(a=this._checkAndSplitToAllowedPosition(t),a)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;let t=L2.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new M.a("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=L2.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=L2.fromPosition(t,"toNext"))}_mergeOnLeft(){let t=this._firstNode;if(!(t instanceof I1)||!this._canMergeLeft(t))return;let a=L2._createBefore(t);a.stickiness="toNext";let e=L2.fromPosition(this.position,"toNext");this._affectedStart.isEqual(a)&&(this._affectedStart.detach(),this._affectedStart=L2._createAt(a.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=a.nodeBefore,this._lastNode=a.nodeBefore),this.writer.merge(a),a.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=L2._createAt(a.nodeBefore,"end","toNext")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),a.detach()}_mergeOnRight(){let t=this._lastNode;if(!(t instanceof I1)||!this._canMergeRight(t))return;let a=L2._createAfter(t);if(a.stickiness="toNext",!this.position.isEqual(a))throw new M.a("insertcontent-invalid-insertion-position",this);this.position=j._createAt(a.nodeBefore,"end");let e=L2.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(a)&&(this._affectedEnd.detach(),this._affectedEnd=L2._createAt(a.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=a.nodeBefore,this._lastNode=a.nodeBefore),this.writer.merge(a),a.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=L2._createAt(a.nodeBefore,0,"toPrevious")),this.position=e.toPosition(),e.detach(),this._filterAttributesOf.push(this.position.parent),a.detach()}_canMergeLeft(t){let a=t.previousSibling;return a instanceof I1&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(a,t)}_canMergeRight(t){let a=t.nextSibling;return a instanceof I1&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(t,a)}_tryAutoparagraphing(t){let a=this.writer.createElement("paragraph");this._getAllowedIn(a,this.position.parent)&&this.schema.checkChild(a,t)&&(a._appendChild(t),this._handleNode(a))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();let a=this.writer.createElement("paragraph");return this.writer.insert(a,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=a,this.position=this.writer.createPositionAt(a,0),!0}_checkAndSplitToAllowedPosition(t){let a=this._getAllowedIn(t,this.position.parent);if(!a)return!1;for(a!=this.position.parent&&this._insertPartialFragment();a!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){let e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===a&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{let e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,a){return this.schema.checkChild(a,t)?a:a.parent?this._getAllowedIn(t,a.parent):null}}function _z(r,t,a={}){if(t.isCollapsed)return;let e=t.getFirstRange();if(e.root.rootName=="$graveyard")return;let n=r.schema;r.change(i=>{if(!a.doNotResetEntireContent&&function(d,g){let p=d.getLimitElement(g);if(!g.containsEntireContent(p))return!1;let z=g.getFirstRange();return z.start.parent==z.end.parent?!1:d.checkChild(p,"paragraph")}(n,t))return void function(d,g){let p=d.model.schema.getLimitElement(g);d.remove(d.createRangeIn(p)),Ll(d,d.createPositionAt(p,0),g)}(i,t);let[h,s]=function(d){let g=d.root.document.model,p=d.start,z=d.end;if(g.hasContent(d,{ignoreMarkers:!0})){let m=function(V){let B=V.parent,k=B.root.document.model.schema,C=B.getAncestors({parentFirst:!0,includeSelf:!0});for(let S of C){if(k.isLimit(S))return null;if(k.isBlock(S))return S}}(z);if(m&&z.isTouching(g.createPositionAt(m,0))){let V=g.createSelection(d);g.modifySelection(V,{direction:"backward"}),z=V.getLastPosition()}}return[L2.fromPosition(p,"toPrevious"),L2.fromPosition(z,"toNext")]}(e);h.isTouching(s)||i.remove(i.createRange(h,s)),a.leaveUnmerged||(function(d,g,p){let z=d.model;if(!Z8(d.model.schema,g,p))return;let[m,V]=function(B,k){let C=B.getAncestors(),S=k.getAncestors(),F=0;for(;C[F]&&C[F]==S[F];)F++;return[C[F],S[F]]}(g,p);!m||!V||(!z.hasContent(m,{ignoreMarkers:!0})&&z.hasContent(V,{ignoreMarkers:!0})?function B(k,C,S,F){let N=C.parent,Q=S.parent;if(!(N==F||Q==F)){for(C=k.createPositionAfter(N),(S=k.createPositionBefore(Q)).isEqual(C)||k.insert(N,S);C.parent.isEmpty;){let h1=C.parent;C=k.createPositionBefore(h1),k.remove(h1)}S=k.createPositionBefore(Q),function(h1,P1){let x1=P1.nodeBefore,m2=P1.nodeAfter;x1.name!=m2.name&&h1.rename(x1,m2.name),h1.clearAttributes(x1),h1.setAttributes(Object.fromEntries(m2.getAttributes()),x1),h1.merge(P1)}(k,S),!!Z8(k.model.schema,C,S)&&B(k,C,S,F)}}(d,g,p,m.parent):function B(k,C,S,F){let N=C.parent,Q=S.parent;if(!(N==F||Q==F)){for(C=k.createPositionAfter(N),(S=k.createPositionBefore(Q)).isEqual(C)||k.insert(Q,C),k.merge(C);S.parent.isEmpty;){let h1=S.parent;S=k.createPositionBefore(h1),k.remove(h1)}!Z8(k.model.schema,C,S)||B(k,C,S,F)}}(d,g,p,m.parent))}(i,h,s),n.removeDisallowedAttributes(h.parent.getChildren(),i)),Bl(i,t,h),!a.doNotAutoparagraph&&function(d,g){let p=d.checkChild(g,"$text"),z=d.checkChild(g,"paragraph");return!p&&z}(n,h)&&Ll(i,h,t),h.detach(),s.detach()})}function Z8(r,t,a){let e=t.parent,n=a.parent;return e!=n&&!r.isLimit(e)&&!r.isLimit(n)&&function(i,h,s){let d=new D(i,h);for(let g of d.getWalker())if(s.isLimit(g.item))return!1;return!0}(t,a,r)}function Ll(r,t,a){let e=r.createElement("paragraph");r.insert(e,t),Bl(r,a,r.createPositionAt(e,0))}function Bl(r,t,a){t instanceof K0?r.setSelection(a):t.setTo(a)}function Sz(r,t){let{isForward:a,walker:e,unit:n,schema:i}=r,{type:h,item:s,nextPosition:d}=t;if(h=="text")return r.unit==="word"?function(g,p){let z=g.position.textNode;if(z){let m=g.position.offset-z.startOffset;for(;!Oz(z.data,m,p)&&!Fz(z,m,p);){g.next();let V=p?g.position.nodeAfter:g.position.nodeBefore;if(V&&V.is("$text")){let B=V.data.charAt(p?0:V.data.length-1);' ,.?!:;"-()'.includes(B)||(g.next(),z=g.position.textNode)}m=g.position.offset-z.startOffset}}return g.position}(e,a):function(g,p){let z=g.position.textNode;if(z){let m=z.data,V=g.position.offset-z.startOffset;for(;ml(m,V)||p=="character"&&xl(m,V);)g.next(),V=g.position.offset-z.startOffset}return g.position}(e,n);if(h==(a?"elementStart":"elementEnd")){if(i.isSelectable(s))return j._createAt(s,a?"after":"before");if(i.checkChild(d,"$text"))return d}else{if(i.isLimit(s))return void e.skip(()=>!0);if(i.checkChild(d,"$text"))return d}}function Iz(r,t){let a=r.root,e=j._createAt(a,t?"end":0);return t?new D(r,e):new D(e,r)}function Oz(r,t,a){let e=t+(a?0:-1);return' ,.?!:;"-()'.includes(r.charAt(e))}function Fz(r,t,a){return t===(a?r.endOffset:0)}function kl(r,t){let a=[];Array.from(r.getItems({direction:"backward"})).map(e=>t.createRangeOn(e)).filter(e=>(e.start.isAfter(r.start)||e.start.isEqual(r.start))&&(e.end.isBefore(r.end)||e.end.isEqual(r.end))).forEach(e=>{a.push(e.start.parent),t.remove(e)}),a.forEach(e=>{let n=e;for(;n.parent&&n.isEmpty;){let i=t.createRangeOn(n);n=n.parent,t.remove(i)}})}function Pz(r){r.document.registerPostFixer(t=>function(a,e){let n=e.document.selection,i=e.schema,h=[],s=!1;for(let d of n.getRanges()){let g=Ez(d,i);g&&!g.isEqual(d)?(h.push(g),s=!0):h.push(d)}s&&a.setSelection(function(d){let g=[];g.push(d.shift());for(let p of d){let z=g.pop();if(p.isEqual(z))g.push(z);else if(p.isIntersecting(z)){let m=z.start.isAfter(p.start)?p.start:z.start,V=z.end.isAfter(p.end)?z.end:p.end,B=new D(m,V);g.push(B)}else g.push(z),g.push(p)}return g}(h),{backward:n.isBackward})}(t,r))}function Ez(r,t){return r.isCollapsed?function(a,e){let n=a.start,i=e.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;let h=i.start;return n.isEqual(h)?null:new D(h)}(r,t):function(a,e){let{start:n,end:i}=a,h=e.checkChild(n,"$text"),s=e.checkChild(i,"$text"),d=e.getLimitElement(n),g=e.getLimitElement(i);if(d===g){if(h&&s)return null;if(function(m,V,B){let k=m.nodeAfter&&!B.isLimit(m.nodeAfter)||B.checkChild(m,"$text"),C=V.nodeBefore&&!B.isLimit(V.nodeBefore)||B.checkChild(V,"$text");return k||C}(n,i,e)){let m=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),V=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),B=m?m.start:n,k=V?V.end:i;return new D(B,k)}}let p=d&&!d.is("rootElement"),z=g&&!g.is("rootElement");if(p||z){let m=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,V=p&&(!m||!Al(n.nodeAfter,e)),B=z&&(!m||!Al(i.nodeBefore,e)),k=n,C=i;return V&&(k=j._createBefore(Cl(d,e))),B&&(C=j._createAfter(Cl(g,e))),new D(k,C)}return null}(r,t)}function Cl(r,t){let a=r,e=a;for(;t.isLimit(e)&&e.parent;)a=e,e=e.parent;return a}function Al(r,t){return r&&t.isSelectable(r)}class bl{constructor(){this.markers=new wl,this.document=new Hl(this),this.schema=new il,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,a)=>{a[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$documentFragment",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$documentFragment"}),this.schema.register("$marker"),this.schema.addChildCheck((t,a)=>{if(a.name==="$marker")return!0}),Pz(this),this.document.registerPostFixer(Ji)}change(t){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ie,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(a){M.a.rethrowUnexpectedError(a,this)}}enqueueChange(t,a){try{typeof t=="string"?t=new ie(t):typeof t=="function"&&(a=t,t=new ie),this._pendingChanges.push({batch:t,callback:a}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(e){M.a.rethrowUnexpectedError(e,this)}}applyOperation(t){t._execute()}insertContent(t,a,e){return function(n,i,h,s){return n.change(d=>{let g;g=h?h instanceof Ft||h instanceof K0?h:d.createSelection(h,s):n.document.selection,g.isCollapsed||n.deleteContent(g,{doNotAutoparagraph:!0});let p=new yz(n,d,g.anchor),z;z=i.is("documentFragment")?i.getChildren():[i],p.handleNodes(z);let m=p.getSelectionRange();m&&(g instanceof K0?d.setSelection(m):g.setTo(m));let V=p.getAffectedRange()||n.createRange(g.anchor);return p.destroy(),V})}(this,t,a,e)}deleteContent(t,a){_z(this,t,a)}modifySelection(t,a){(function(e,n,i={}){let h=e.schema,s=i.direction!="backward",d=i.unit?i.unit:"character",g=n.focus,p=new Ot({boundaries:Iz(g,s),singleCharacters:!0,direction:s?"forward":"backward"}),z={walker:p,schema:h,isForward:s,unit:d},m;for(;m=p.next();){if(m.done)return;let V=Sz(z,m.value);if(V)return void(n instanceof K0?e.change(B=>{B.setSelectionFocus(V)}):n.setFocus(V))}})(this,t,a)}getSelectedContent(t){return function(a,e){return a.change(n=>{let i=n.createDocumentFragment(),h=e.getFirstRange();if(!h||h.isCollapsed)return i;let s=h.start.root,d=h.start.getCommonPath(h.end),g=s.getNodeByPath(d),p;p=h.start.parent==h.end.parent?h:n.createRange(n.createPositionAt(g,h.start.path[d.length]),n.createPositionAt(g,h.end.path[d.length]+1));let z=p.end.offset-p.start.offset;for(let m of p.getItems({shallow:!0}))m.is("$textProxy")?n.appendText(m.data,m.getAttributes(),i):n.append(n.cloneElement(m,!0),i);if(p!=h){let m=h._getTransformedByMove(p.start,n.createPositionAt(i,0),z)[0],V=n.createRange(n.createPositionAt(i,0),m.start);kl(n.createRange(m.end,n.createPositionAt(i,"end")),n),kl(V,n)}return i})}(this,t)}hasContent(t,a={}){let e=t instanceof I1?D._createIn(t):t;if(e.isCollapsed)return!1;let{ignoreWhitespaces:n=!1,ignoreMarkers:i=!1}=a;if(!i){for(let h of this.markers.getMarkersIntersectingRange(e))if(h.affectsData)return!0}for(let h of e.getItems())if(this.schema.isContent(h)&&(!h.is("$textProxy")||!n||h.data.search(/\S/)!==-1))return!0;return!1}createPositionFromPath(t,a,e){return new j(t,a,e)}createPositionAt(t,a){return j._createAt(t,a)}createPositionAfter(t){return j._createAfter(t)}createPositionBefore(t){return j._createBefore(t)}createRange(t,a){return new D(t,a)}createRangeIn(t){return D._createIn(t)}createRangeOn(t){return D._createOn(t)}createSelection(t,a,e){return new Ft(t,a,e)}createBatch(t){return new ie(t)}createOperationFromJSON(t){return class{static fromJSON(a,e){return Q0[a.__className].fromJSON(a,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){let t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){let a=this._pendingChanges[0].batch;this._currentWriter=new Vz(this,a);let e=this._pendingChanges[0].callback(this._currentWriter);t.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}i1(bl,w1);class Tz extends It{constructor(t){super(),this.editor=t}set(t,a,e={}){if(typeof a=="string"){let n=a;a=(i,h)=>{this.editor.execute(n),h()}}super.set(t,a,e)}}class yl{constructor(t={}){this._context=t.context||new Pg({language:t.language}),this._context._addEditor(this,!t.context);let a=Array.from(this.constructor.builtinPlugins||[]);this.config=new bt(t,this.constructor.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new Q5(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new lz,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new bl;let e=new np;this.data=new hl(this.model,e),this.editing=new ol(this.model,e),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new xz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Tz(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){let t=this.config,a=t.get("plugins"),e=t.get("removePlugins")||[],n=t.get("extraPlugins")||[],i=t.get("substitutePlugins")||[];return this.plugins.init(a.concat(n),e,i)}destroy(){let t=Promise.resolve();return this.state=="initializing"&&(t=new Promise(a=>this.once("ready",a))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...t){try{return this.commands.execute(...t)}catch(a){M.a.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}}i1(yl,w1);class Rz{constructor(t){this.editor=t,this._components=new Map}*names(){for(let t of this._components.values())yield t.originalName}add(t,a){this._components.set(t7(t),{callback:a,originalName:t})}create(t){if(!this.has(t))throw new M.a("componentfactory-item-missing",this,{name:t});return this._components.get(t7(t)).callback(this.editor.locale)}has(t){return this._components.has(t7(t))}}function t7(r){return String(r).toLowerCase()}class _l{constructor(t){this.editor=t,this.componentFactory=new Rz(t),this.focusTracker=new f0,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(let t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,a){this._editableElementsMap.set(t,a),a.ckeditorInstance||(a.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}i1(_l,U);var Dz={setData(r){this.data.set(r)},getData(r){return this.data.get(r)}},Nz={updateSourceElement(){if(!this.sourceElement)throw new M.a("editor-missing-sourceelement",this);Ii(this.sourceElement,this.data.get())}};class Sl extends oa{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new X1({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if(typeof t!="string")throw new M.a("pendingactions-add-invalid-message",this);let a=Object.create(w1);return a.set("message",t),this._actions.add(a),this.hasAny=!0,a}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}let a7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',e7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',jz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Wz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',Il='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Ol='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',r7='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',Fl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Uz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',qz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',Gz='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';function n7({emitter:r,activator:t,callback:a,contextElements:e}){r.listenTo(document,"mousedown",(n,i)=>{if(!t())return;let h=typeof i.composedPath=="function"?i.composedPath():[];for(let s of e)if(s.contains(i.target)||h.includes(s))return;a()})}function o7(r){r.set("_isCssTransitionsDisabled",!1),r.disableCssTransitions=()=>{r._isCssTransitionsDisabled=!0},r.enableCssTransitions=()=>{r._isCssTransitionsDisabled=!1},r.extendTemplate({attributes:{class:[r.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function i7({view:r}){r.listenTo(r.element,"submit",(t,a)=>{a.preventDefault(),r.fire("submit")},{useCapture:!0})}class e4 extends X1{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(a,e,n)=>{this._renderViewIntoCollectionParent(e,n)}),this.on("remove",(a,e)=>{e.element&&this._parentElement&&e.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(let a of this)this._renderViewIntoCollectionParent(a)}delegate(...t){if(!t.length||!t.every(a=>typeof a=="string"))throw new M.a("ui-viewcollection-delegate-wrong-events",this);return{to:a=>{for(let e of this)for(let n of t)e.delegate(n).to(a);this.on("add",(e,n)=>{for(let i of t)n.delegate(i).to(a)}),this.on("remove",(e,n)=>{for(let i of t)n.stopDelegating(i,a)})}}}_renderViewIntoCollectionParent(t,a){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[a])}}c(14);class g1{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new X1,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(a,e)=>{e.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Y0.bind(this,this)}createCollection(t){let a=new e4(t);return this._viewCollections.add(a),a}registerChild(t){E1(t)||(t=[t]);for(let a of t)this._unboundChildren.add(a)}deregisterChild(t){E1(t)||(t=[t]);for(let a of t)this._unboundChildren.remove(a)}setTemplate(t){this.template=new Y0(t)}extendTemplate(t){Y0.extend(this.template,t)}render(){if(this.isRendered)throw new M.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}i1(g1,E4),i1(g1,w1);class Y0{constructor(t){Object.assign(this,Rl(Tl(t))),this._isRendered=!1,this._revertData=null}render(){let t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new M.a("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(a){if(a.children)for(let e of a.children)ce(e)?yield e:l7(e)&&(yield*t(e))}(this)}static bind(t,a){return{to:(e,n)=>new $z({eventNameOrFunction:e,attribute:e,observable:t,emitter:a,callback:n}),if:(e,n,i)=>new Pl({observable:t,emitter:a,attribute:e,valueIfTrue:n,callback:i})}}static extend(t,a){if(t._isRendered)throw new M.a("template-extend-render",[this,t]);(function e(n,i){if(i.attributes&&(n.attributes||(n.attributes={}),jl(n.attributes,i.attributes)),i.eventListeners&&(n.eventListeners||(n.eventListeners={}),jl(n.eventListeners,i.eventListeners)),i.text&&n.text.push(...i.text),i.children&&i.children.length){if(n.children.length!=i.children.length)throw new M.a("ui-template-extend-children-mismatch",n);let h=0;for(let s of i.children)e(n.children[h++],s)}})(t,Rl(Tl(a)))}_renderNode(t){let a;if(a=t.node?this.tag&&this.text:this.tag?this.text:!this.text,a)throw new M.a("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let a=t.node;return a||(a=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),a}_renderText(t){let a=t.node;return a?t.revertData.text=a.textContent:a=t.node=document.createTextNode(""),le(this.text)?this._bindToObservable({schema:this.text,updater:Kz(a),data:t}):a.textContent=this.text.join(""),a}_renderAttributes(t){let a,e,n,i;if(!this.attributes)return;let h=t.node,s=t.revertData;for(a in this.attributes)if(n=h.getAttribute(a),e=this.attributes[a],s&&(s.attributes[a]=n),i=b(e[0])&&e[0].ns?e[0].ns:null,le(e)){let d=i?e[0].value:e;s&&Wl(a)&&d.unshift(n),this._bindToObservable({schema:d,updater:Qz(h,a,i),data:t})}else a=="style"&&typeof e[0]!="string"?this._renderStyleAttribute(e[0],t):(s&&n&&Wl(a)&&e.unshift(n),e=e.map(d=>d&&d.value||d).reduce((d,g)=>d.concat(g),[]).reduce(Nl,""),j4(e)||h.setAttributeNS(i,a,e))}_renderStyleAttribute(t,a){let e=a.node;for(let n in t){let i=t[n];le(i)?this._bindToObservable({schema:[i],updater:Yz(e,n),data:a}):e.style[n]=i}}_renderElementChildren(t){let a=t.node,e=t.intoFragment?document.createDocumentFragment():a,n=t.isApplying,i=0;for(let h of this.children)if(c7(h)){if(!n){h.setParent(a);for(let s of h)e.appendChild(s.element)}}else if(ce(h))n||(h.isRendered||h.render(),e.appendChild(h.element));else if(P4(h))e.appendChild(h);else if(n){let s={children:[],bindings:[],attributes:{}};t.revertData.children.push(s),h._renderNode({node:e.childNodes[i++],isApplying:!0,revertData:s})}else e.appendChild(h.render());t.intoFragment&&a.appendChild(e)}_setUpListeners(t){if(this.eventListeners)for(let a in this.eventListeners){let e=this.eventListeners[a].map(n=>{let[i,h]=a.split("@");return n.activateDomEventListener(i,h,t)});t.revertData&&t.revertData.bindings.push(e)}}_bindToObservable({schema:t,updater:a,data:e}){let n=e.revertData;El(t,a,e);let i=t.filter(h=>!j4(h)).filter(h=>h.observable).map(h=>h.activateAttributeListener(t,a,e));n&&n.bindings.push(i)}_revertTemplateFromNode(t,a){for(let e of a.bindings)for(let n of e)n();if(a.text)t.textContent=a.text;else{for(let e in a.attributes){let n=a.attributes[e];n===null?t.removeAttribute(e):t.setAttribute(e,n)}for(let e=0;e<a.children.length;++e)this._revertTemplateFromNode(t.childNodes[e],a.children[e])}}}i1(Y0,U);class fa{constructor(t){Object.assign(this,t)}getValue(t){let a=this.observable[this.attribute];return this.callback?this.callback(a,t):a}activateAttributeListener(t,a,e){let n=()=>El(t,a,e);return this.emitter.listenTo(this.observable,"change:"+this.attribute,n),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,n)}}}class $z extends fa{activateDomEventListener(t,a,e){let n=(i,h)=>{a&&!h.target.matches(a)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(h):this.observable.fire(this.eventNameOrFunction,h))};return this.emitter.listenTo(e.node,t,n),()=>{this.emitter.stopListening(e.node,t,n)}}}class Pl extends fa{getValue(t){return!j4(super.getValue(t))&&(this.valueIfTrue||!0)}}function le(r){return!!r&&(r.value&&(r=r.value),Array.isArray(r)?r.some(le):r instanceof fa)}function El(r,t,{node:a}){let e=function(n,i){return n.map(h=>h instanceof fa?h.getValue(i):h)}(r,a);e=r.length==1&&r[0]instanceof Pl?e[0]:e.reduce(Nl,""),j4(e)?t.remove():t.set(e)}function Kz(r){return{set(t){r.textContent=t},remove(){r.textContent=""}}}function Qz(r,t,a){return{set(e){r.setAttributeNS(a,t,e)},remove(){r.removeAttributeNS(a,t)}}}function Yz(r,t){return{set(a){r.style[t]=a},remove(){r.style[t]=null}}}function Tl(r){return ht(r,t=>{if(t&&(t instanceof fa||l7(t)||ce(t)||c7(t)))return t})}function Rl(r){if(typeof r=="string"?r=function(t){return{text:[t]}}(r):r.text&&function(t){t.text=u1(t.text)}(r),r.on&&(r.eventListeners=function(t){for(let a in t)Dl(t,a);return t}(r.on),delete r.on),!r.text){r.attributes&&function(a){for(let e in a)a[e].value&&(a[e].value=u1(a[e].value)),Dl(a,e)}(r.attributes);let t=[];if(r.children)if(c7(r.children))t.push(r.children);else for(let a of r.children)l7(a)||ce(a)||P4(a)?t.push(a):t.push(new Y0(a));r.children=t}return r}function Dl(r,t){r[t]=u1(r[t])}function Nl(r,t){return j4(t)?r:j4(r)?t:`${r} ${t}`}function jl(r,t){for(let a in t)r[a]?r[a].push(...t[a]):r[a]=t[a]}function j4(r){return!r&&r!==0}function ce(r){return r instanceof g1}function l7(r){return r instanceof Y0}function c7(r){return r instanceof e4}function Wl(r){return r=="class"||r=="style"}class Xz extends e4{constructor(t,a=[]){super(a),this.locale=t}attachToDom(){this._bodyCollectionContainer=new Y0({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=function(a,e,n={},i=[]){let h=n&&n.xmlns,s=h?a.createElementNS(h,e):a.createElement(e);for(let d in n)s.setAttribute(d,n[d]);!Ai(i)&&E1(i)||(i=[i]);for(let d of i)Ai(d)&&(d=a.createTextNode(d)),s.appendChild(d);return s}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();let t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}c(16);class he extends g1{constructor(){super();let t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){let t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),a=t.getAttribute("viewBox");for(a&&(this.viewBox=a),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}c(18);class Ul extends g1{constructor(t){super(t),this.set("text",""),this.set("position","s");let a=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",a.to("position",e=>"ck-tooltip_"+e),a.if("text","ck-hidden",e=>!e.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:a.to("text")}]}]})}}c(20);class K1 extends g1{constructor(t){super(t);let a=this.bindTemplate,e=x();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(e),this.iconView=new he,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",n=>!n),a.if("isVisible","ck-hidden",n=>!n),a.to("isOn",n=>n?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],type:a.to("type",n=>n||"button"),tabindex:a.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+e,"aria-disabled":a.if("isEnabled",!0,n=>!n),"aria-pressed":a.to("isOn",n=>!!this.isToggleable&&String(n))},children:this.children,on:{mousedown:a.to(n=>{n.preventDefault()}),click:a.to(n=>{this.isEnabled?this.fire("execute"):n.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){let t=new Ul;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){let a=new g1,e=this.bindTemplate;return a.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),a}_createKeystrokeView(){let t=new g1;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",a=>Zo(a))}]}),t}_getTooltipString(t,a,e){return t?typeof t=="string"?t:(e&&(e=Zo(e)),t instanceof Function?t(a,e):`${a}${e?` (${e})`:""}`):""}}c(22);class h7 extends K1{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){let t=new g1;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}class W4{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(let a in t.actions){let e=t.actions[a];typeof e=="string"&&(e=[e]);for(let n of e)t.keystrokeHandler.set(n,(i,h)=>{this[a](),h()})}}get first(){return this.focusables.find(s7)||null}get last(){return this.focusables.filter(s7).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((a,e)=>{let n=a.element===this.focusTracker.focusedElement;return n&&(t=e),n}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){let a=this.current,e=this.focusables.length;if(!e)return null;if(a===null)return this[t===1?"first":"last"];let n=(a+e+t)%e;do{let i=this.focusables.get(n);if(s7(i))return i;n=(n+e+t)%e}while(n!==a);return null}}function s7(r){return!(!r.focus||$1.window.getComputedStyle(r.element).display=="none")}c(24);var ql='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Gl extends K1{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){let t=new he;return t.content=ql,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}c(26);class Jz extends g1{constructor(t){super(t);let a=this.bindTemplate;this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new It,this.focusTracker=new f0,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",a.if("isVisible","ck-hidden",e=>!e),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,a)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),a())}),this.keystrokes.set("arrowleft",(t,a)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),a())})}focus(){this.actionView.focus()}_createActionView(){let t=new K1;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){let t=new K1,a=t.bindTemplate;return t.icon=ql,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":a.to("isOn",e=>String(e))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}class Zz extends g1{constructor(t){super(t);let a=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",a.to("position",e=>"ck-dropdown__panel_"+e),a.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:a.to(e=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){let t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}c(28);function $l({element:r,target:t,positions:a,limiter:e,fitInViewport:n}){c0(t)&&(t=t()),c0(e)&&(e=e());let i=function(z){return z&&z.parentNode?z.offsetParent===$1.document.body?null:z.offsetParent:null}(r),h=new L1(r),s=new L1(t),d,g;e||n?[g,d]=function(m,V){let{elementRect:B,viewportRect:k}=V,C=B.getArea(),S=function(F,{targetRect:N,elementRect:Q,limiterRect:h1,viewportRect:P1}){let x1=[],m2=Q.getArea();for(let k2 of F){let x2=v7(k2,N,Q);if(!x2)continue;let[e0,C2]=x2,X0=0,Tt=0;if(h1)if(P1){let wa=h1.getIntersection(P1);wa&&(X0=wa.getIntersectionArea(C2))}else X0=h1.getIntersectionArea(C2);P1&&(Tt=P1.getIntersectionArea(C2));let Va={positionName:e0,positionRect:C2,limiterIntersectArea:X0,viewportIntersectArea:Tt};if(X0===m2)return[Va];x1.push(Va)}return x1}(m,V);if(k){let F=Kl(S.filter(({viewportIntersectArea:N})=>N===C),C);if(F)return F}return Kl(S,C)}(a,{targetRect:s,elementRect:h,limiterRect:e&&new L1(e).getVisible(),viewportRect:n&&new L1($1.window)})||v7(a[0],s,h):[g,d]=v7(a[0],s,h);let p=Ql(d);return i&&(p=function({left:z,top:m},V){let B=Ql(new L1(V)),k=bi(V);return z-=B.left,m-=B.top,z+=V.scrollLeft,m+=V.scrollTop,z-=k.left,m-=k.top,{left:z,top:m}}(p,i)),{left:p.left,top:p.top,name:g}}function v7(r,t,a){let e=r(t,a);if(!e)return null;let{left:n,top:i,name:h}=e;return[h,a.clone().moveTo(n,i)]}function Kl(r,t){let a,e,n=0;for(let{positionName:i,positionRect:h,limiterIntersectArea:s,viewportIntersectArea:d}of r){if(s===t)return[i,h];let g=d**2+s**2;g>n&&(n=g,a=h,e=i)}return a?[e,a]:null}function Ql({left:r,top:t}){let{scrollX:a,scrollY:e}=$1.window;return{left:r+a,top:t+e}}class U4 extends g1{constructor(t,a,e){super(t);let n=this.bindTemplate;this.buttonView=a,this.panelView=e,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new It,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",i=>!i)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[a,e]}),a.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelPosition==="auto"?this.panelView.position=U4._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);let t=(a,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(a,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(a,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){let{south:t,north:a,southEast:e,southWest:n,northEast:i,northWest:h,southMiddleEast:s,southMiddleWest:d,northMiddleEast:g,northMiddleWest:p}=U4.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[e,n,s,d,t,i,h,g,p,a]:[n,e,d,s,t,h,i,p,g,a]}}U4.defaultPanelPositions={south:(r,t)=>({top:r.bottom,left:r.left-(t.width-r.width)/2,name:"s"}),southEast:r=>({top:r.bottom,left:r.left,name:"se"}),southWest:(r,t)=>({top:r.bottom,left:r.left-t.width+r.width,name:"sw"}),southMiddleEast:(r,t)=>({top:r.bottom,left:r.left-(t.width-r.width)/4,name:"sme"}),southMiddleWest:(r,t)=>({top:r.bottom,left:r.left-3*(t.width-r.width)/4,name:"smw"}),north:(r,t)=>({top:r.top-t.height,left:r.left-(t.width-r.width)/2,name:"n"}),northEast:(r,t)=>({top:r.top-t.height,left:r.left,name:"ne"}),northWest:(r,t)=>({top:r.top-t.height,left:r.left-t.width+r.width,name:"nw"}),northMiddleEast:(r,t)=>({top:r.top-t.height,left:r.left-(t.width-r.width)/4,name:"nme"}),northMiddleWest:(r,t)=>({top:r.top-t.height,left:r.left-3*(t.width-r.width)/4,name:"nmw"})},U4._getOptimalPosition=$l;class Yl extends g1{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class tf extends g1{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Xl(r){return Array.isArray(r)?{items:r,removeItems:[]}:r?Object.assign({items:[],removeItems:[]},r):{items:[],removeItems:[]}}c(30);class d7 extends g1{constructor(t,a){super(t);let e=this.bindTemplate,n=this.t;this.options=a||{},this.set("ariaLabel",n("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new f0,this.keystrokes=new It,this.set("class"),this.set("isCompact",!1),this.itemsView=new af(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new W4({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}});let i=["ck","ck-toolbar",e.to("class"),e.if("isCompact","ck-toolbar_compact")];var h;this.options.shouldGroupWhenFull&&this.options.isFloating&&i.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:i,role:"toolbar","aria-label":e.to("ariaLabel"),style:{maxWidth:e.to("maxWidth")}},children:this.children,on:{mousedown:(h=this,h.bindTemplate.to(s=>{s.target===h.element&&s.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new rf(this):new ef(this)}render(){super.render();for(let t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,a)=>{this.focusTracker.add(a.element)}),this.items.on("remove",(t,a)=>{this.focusTracker.remove(a.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,a){let e=Xl(t),n=e.items.filter((h,s,d)=>h==="|"||e.removeItems.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(Object(M.b)("toolbarview-line-break-ignored-when-grouping-items",d),!1):!!a.has(h)||(Object(M.b)("toolbarview-item-unavailable",{name:h}),!1))),i=this._cleanSeparators(n).map(h=>h==="|"?new Yl:h==="-"?new tf:a.create(h));this.items.addMany(i)}_cleanSeparators(t){let a=h=>h!=="-"&&h!=="|",e=t.length,n=t.findIndex(a),i=e-t.slice().reverse().findIndex(a);return t.slice(n,i).filter((h,s,d)=>a(h)?!0:!(s>0&&d[s-1]===h))}}class af extends g1{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ef{constructor(t){let a=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(e=>e),t.focusables.bindTo(t.items).using(e=>e),t.extendTemplate({attributes:{class:[a.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class rf{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(a=>a),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(a,e)=>{let n=e.index;for(let i of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(i):this.ungroupedItems.remove(i);for(let i=n;i<n+e.added.length;i++){let h=e.added[i-n];i>this.ungroupedItems.length?this.groupedItems.add(h,i-this.ungroupedItems.length):this.ungroupedItems.add(h,i)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);let t=this.groupedItems.length,a;for(;this._areItemsOverflowing;)this._groupLastItem(),a=!0;if(!a&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;let t=this.viewElement,a=this.viewLocale.uiLanguageDirection,e=new L1(t.lastChild),n=new L1(t);if(!this.cachedPadding){let i=$1.window.getComputedStyle(t),h=a==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[h])}return a==="ltr"?e.right>n.right-this.cachedPadding:e.left<n.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new N1(this.viewElement,a=>{t&&t===a.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=a.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Yl),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){let t=this.viewLocale,a=t.t,e=q4(t);return e.class="ck-toolbar__grouped-dropdown",e.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se",function(n,i){let h=n.locale,s=h.t,d=n.toolbarView=new d7(h);d.set("ariaLabel",s("Dropdown toolbar")),n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.map(g=>d.items.add(g)),n.panelView.children.add(d),d.items.delegate("execute").to(n)}(e,[]),e.buttonView.set({label:a("Show more items"),tooltip:!0,tooltipPosition:t.uiLanguageDirection==="rtl"?"se":"sw",icon:Gz}),e.toolbarView.items.bindTo(this.groupedItems).using(n=>n),e}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}c(32);class nf extends g1{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new f0,this.keystrokes=new It,this._focusCycler=new W4({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(let t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,a)=>{this.focusTracker.add(a.element)}),this.items.on("remove",(t,a)=>{this.focusTracker.remove(a.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class of extends g1{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class lf extends g1{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}c(34),c(36);function q4(r,t=Gl){let a=new t(r),e=new Zz(r),n=new U4(r,a,e);return a.bind("isEnabled").to(n),a instanceof Gl?a.bind("isOn").to(n,"isOpen"):a.arrowView.bind("isOn").to(n,"isOpen"),function(i){(function(h){h.on("render",()=>{n7({emitter:h,activator:()=>h.isOpen,callback:()=>{h.isOpen=!1},contextElements:[h.element]})})})(i),function(h){h.on("execute",s=>{s.source instanceof h7||(h.isOpen=!1)})}(i),function(h){h.keystrokes.set("arrowdown",(s,d)=>{h.isOpen&&(h.panelView.focus(),d())}),h.keystrokes.set("arrowup",(s,d)=>{h.isOpen&&(h.panelView.focusLast(),d())})}(i)}(n),n}function Jl(r,t){let a=r.locale,e=r.listView=new nf(a);e.items.bindTo(t).using(({type:n,model:i})=>{if(n==="separator")return new lf(a);if(n==="button"||n==="switchbutton"){let h=new of(a),s;return s=n==="button"?new K1(a):new h7(a),s.bind(...Object.keys(i)).to(i),s.delegate("execute").to(h),h.children.add(s),h}}),r.panelView.children.add(e),e.items.delegate("execute").to(r)}c(38);class cf extends g1{constructor(t){super(t),this.body=new Xz(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}c(40);class hf extends g1{constructor(t){super(t),this.set("text"),this.set("for"),this.id="ck-editor__label_"+x();let a=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:a.to("for")},children:[{text:a.to("text")}]})}}class sf extends g1{constructor(t,a,e){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=e,this._hasExternalElement=!!this._editableElement,this._editingView=a}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){let t=this._editingView;function a(e){t.change(n=>{let i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}t.isRenderingInProgress?function e(n){t.once("change:isRenderingInProgress",(i,h,s)=>{s?e(n):a(n)})}(this):a(this)}}class vf extends sf{constructor(t,a,e){super(t,a,e),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();let t=this._editingView,a=this.t;t.change(e=>{let n=t.document.getRoot(this.name);e.setAttribute("aria-label",a("Rich Text Editor, %0",this.name),n)})}}c(42),c(44);class df extends g1{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new f0,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);let a=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",a.if("isFocused","ck-input_focused"),a.if("isEmpty","ck-input-text_empty"),a.if("hasError","ck-error")],id:a.to("id"),placeholder:a.to("placeholder"),readonly:a.to("isReadOnly"),"aria-invalid":a.if("hasError",!0),"aria-describedby":a.to("ariaDescribedById")},on:{input:a.to("input"),change:a.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,a,e)=>{this._setDomElementValue(e),this._updateIsEmpty()})}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||t===0?t:""}}c(46);class u7 extends g1{constructor(t,a){super(t);let e="ck-labeled-field-view-"+x(),n="ck-labeled-field-view-status-"+x();this.fieldView=a(this,e,n),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(e),this.statusView=this._createStatusView(n),this.bind("_statusText").to(this,"errorText",this,"infoText",(h,s)=>h||s);let i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",h=>!h),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(t){let a=new hf(this.locale);return a.for=t,a.bind("text").to(this,"label"),a}_createStatusView(t){let a=new g1(this.locale),e=this.bindTemplate;return a.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",e.if("errorText","ck-labeled-field-view__status_error"),e.if("_statusText","ck-hidden",n=>!n)],id:t,role:e.if("errorText","alert")},children:[{text:e.to("_statusText")}]}),a}focus(){this.fieldView.focus()}}function g7(r,t,a){let e=new df(r.locale);return e.set({id:t,ariaDescribedById:a}),e.bind("isReadOnly").to(r,"isEnabled",n=>!n),e.bind("hasError").to(r,"errorText",n=>!!n),e.on("input",()=>{r.errorText=null}),r.bind("isEmpty","isFocused","placeholder").to(e),e}class p7 extends oa{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,a)=>{window.alert(a.message)},{priority:"lowest"})}showSuccess(t,a={}){this._showNotification({message:t,type:"success",namespace:a.namespace,title:a.title})}showInfo(t,a={}){this._showNotification({message:t,type:"info",namespace:a.namespace,title:a.title})}showWarning(t,a={}){this._showNotification({message:t,type:"warning",namespace:a.namespace,title:a.title})}_showNotification(t){let a="show:"+t.type+(t.namespace?":"+t.namespace:"");this.fire(a,{message:t.message,type:t.type,title:t.title||""})}}class z7{constructor(t,a){a&&D1(this,a),t&&this.set(t)}}i1(z7,w1),c(48);let Zl=T4("px"),tc=$1.document.body;class p1 extends g1{constructor(t){super(t);let a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",a.to("position",e=>"ck-balloon-panel_"+e),a.if("isVisible","ck-balloon-panel_visible"),a.if("withArrow","ck-balloon-panel_with-arrow"),a.to("class")],style:{top:a.to("top",Zl),left:a.to("left",Zl)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();let a=p1.defaultPositions,e=Object.assign({},{element:this.element,positions:[a.southArrowNorth,a.southArrowNorthMiddleWest,a.southArrowNorthMiddleEast,a.southArrowNorthWest,a.southArrowNorthEast,a.northArrowSouth,a.northArrowSouthMiddleWest,a.northArrowSouthMiddleEast,a.northArrowSouthWest,a.northArrowSouthEast],limiter:tc,fitInViewport:!0},t),n=p1._getOptimalPosition(e),i=parseInt(n.left),h=parseInt(n.top),s=n.name;Object.assign(this,{top:h,left:i,position:s})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);let a=f7(t.target),e=t.limiter?f7(t.limiter):tc;this.listenTo($1.document,"scroll",(n,i)=>{let h=i.target,s=a&&h.contains(a),d=e&&h.contains(e);!s&&!d&&a&&e||this.attachTo(t)},{useCapture:!0}),this.listenTo($1.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening($1.document,"scroll"),this.stopListening($1.window,"resize")}}function f7(r){return s2(r)?r:te(r)?r.commonAncestorContainer:typeof r=="function"?f7(r()):null}function U2(r,t){return r.top-t.height-p1.arrowVerticalOffset}function q2(r){return r.bottom+p1.arrowVerticalOffset}p1.arrowHorizontalOffset=25,p1.arrowVerticalOffset=10,p1._getOptimalPosition=$l,p1.defaultPositions={northWestArrowSouthWest:(r,t)=>({top:U2(r,t),left:r.left-p1.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(r,t)=>({top:U2(r,t),left:r.left-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(r,t)=>({top:U2(r,t),left:r.left-t.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(r,t)=>({top:U2(r,t),left:r.left-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(r,t)=>({top:U2(r,t),left:r.left-t.width+p1.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(r,t)=>({top:U2(r,t),left:r.left+r.width/2-p1.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(r,t)=>({top:U2(r,t),left:r.left+r.width/2-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(r,t)=>({top:U2(r,t),left:r.left+r.width/2-t.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(r,t)=>({top:U2(r,t),left:r.left+r.width/2-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(r,t)=>({top:U2(r,t),left:r.left+r.width/2-t.width+p1.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(r,t)=>({top:U2(r,t),left:r.right-p1.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(r,t)=>({top:U2(r,t),left:r.right-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(r,t)=>({top:U2(r,t),left:r.right-t.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(r,t)=>({top:U2(r,t),left:r.right-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(r,t)=>({top:U2(r,t),left:r.right-t.width+p1.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(r,t)=>({top:q2(r),left:r.left-p1.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(r,t)=>({top:q2(r),left:r.left-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(r,t)=>({top:q2(r),left:r.left-t.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(r,t)=>({top:q2(r),left:r.left-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(r,t)=>({top:q2(r),left:r.left-t.width+p1.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(r,t)=>({top:q2(r),left:r.left+r.width/2-p1.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(r,t)=>({top:q2(r),left:r.left+r.width/2-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(r,t)=>({top:q2(r),left:r.left+r.width/2-t.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(r,t)=>({top:q2(r),left:r.left+r.width/2-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(r,t)=>({top:q2(r),left:r.left+r.width/2-t.width+p1.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(r,t)=>({top:q2(r),left:r.right-p1.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(r,t)=>({top:q2(r),left:r.right-.25*t.width-p1.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(r,t)=>({top:q2(r),left:r.right-t.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(r,t)=>({top:q2(r),left:r.right-.75*t.width+p1.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(r,t)=>({top:q2(r),left:r.right-t.width+p1.arrowHorizontalOffset,name:"arrow_ne"})},c(50),c(52);let se=T4("px");class G4 extends ${static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{let a=this.editor.editing.view,e=a.document.selection.editableElement;return e?a.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new p1(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new M.a("contextualballoon-add-view-exist",[this,t]);let a=t.stackId||"main";if(!this._idToStack.has(a))return this._idToStack.set(a,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(a)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(a));let e=this._idToStack.get(a);t.singleViewMode&&this.showStack(a),e.set(t.view,t),this._viewToStack.set(t.view,e),e===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new M.a("contextualballoon-remove-view-not-exist",[this,t]);let a=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(a.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(a.values())[a.size-2])),a.size===1?(this._idToStack.delete(this._getStackId(a)),this._numberOfStacks=this._idToStack.size):a.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;let a=this._idToStack.get(t);if(!a)throw new M.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==a&&this._showView(Array.from(a.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(a=>a[1]===t)[0]}_showNextStack(){let t=Array.from(this._idToStack.values()),a=t.indexOf(this._visibleStack)+1;t[a]||(a=0),this.showStack(this._getStackId(t[a]))}_showPrevStack(){let t=Array.from(this._idToStack.values()),a=t.indexOf(this._visibleStack)-1;t[a]||(a=t.length-1),this.showStack(this._getStackId(t[a]))}_createRotatorView(){let t=new uf(this.editor.locale),a=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,n)=>!n&&e>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,n)=>{if(n<2)return"";let i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return a("%0 of %1",[i,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){let t=new gf(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(a,e)=>!e&&a>=2?Math.min(a-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:a="",withArrow:e=!0,singleViewMode:n=!1}){this.view.class=a,this.view.withArrow=e,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),n&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class uf extends g1{constructor(t){super(t);let a=t.t,e=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new f0,this.buttonPrevView=this._createButtonView(a("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(a("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",e.to("isNavigationVisible",n=>n?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:e.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,a){let e=new K1(this.locale);return e.set({label:t,icon:a,tooltip:!0}),e}}class gf extends g1{constructor(t,a){super(t);let e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=a,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",e.to("numberOfPanels",n=>n?"":"ck-hidden")],style:{top:e.to("top",se),left:e.to("left",se),width:e.to("width",se),height:e.to("height",se)}},children:this.content}),this.on("change:numberOfPanels",(n,i,h,s)=>{h>s?this._addPanels(h-s):this._removePanels(s-h),this.updatePosition()})}_addPanels(t){for(;t--;){let a=new g1;a.setTemplate({tag:"div"}),this.content.add(a),this.registerChild(a)}}_removePanels(t){for(;t--;){let a=this.content.last;this.content.remove(a),this.deregisterChild(a),a.destroy()}}updatePosition(){if(this.numberOfPanels){let{top:t,left:a}=this._balloonPanelView,{width:e,height:n}=new L1(this._balloonPanelView.element);Object.assign(this,{top:t,left:a,width:e,height:n})}}}c(54),T4("px");let pf=T4("px");class zf extends ${static get pluginName(){return"BalloonToolbar"}static get requires(){return[G4]}constructor(t){super(t),this._balloonConfig=Xl(t.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new f0,t.ui.once("ready",()=>{this.focusTracker.add(t.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),this._resizeObserver=null,this._balloon=t.plugins.get(G4),this._fireSelectionChangeDebounced=Z6(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){let t=this.editor,a=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(e,n,i)=>{let h=this._balloon.visibleView===this.toolbarView;!i&&h?this.hide():i&&this.show()}),this.listenTo(a,"change:range",(e,n)=>{(n.directChange||a.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(t,"ready",()=>{let e=t.ui.view.editable.element;this._resizeObserver=new N1(e,()=>{this.toolbarView.maxWidth=pf(.9*new L1(e).width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){let t=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,t)}_createToolbarView(){let t=!this._balloonConfig.shouldNotGroupWhenFull,a=new d7(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return a.render(),a}show(){let t=this.editor,a=t.model.document.selection,e=t.model.schema;this._balloon.hasView(this.toolbarView)||a.isCollapsed||function(n,i){return n.rangeCount===1?!1:[...n.getRanges()].every(h=>{let s=h.getContainedElement();return s&&i.isSelectable(s)})}(a,e)||Array.from(this.toolbarView.items).every(n=>n.isEnabled!==void 0&&!n.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){let t=this.editor.editing.view,a=t.document,e=a.selection,n=a.selection.isBackward;return{target:()=>{let i=n?e.getFirstRange():e.getLastRange(),h=L1.getDomRangeRects(t.domConverter.viewRangeToDom(i));return n?h[0]:(h.length>1&&h[h.length-1].width===0&&h.pop(),h[h.length-1])},positions:ff(n)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}}function ff(r){let t=p1.defaultPositions;return r?[t.northWestArrowSouth,t.northWestArrowSouthWest,t.northWestArrowSouthEast,t.northWestArrowSouthMiddleEast,t.northWestArrowSouthMiddleWest,t.southWestArrowNorth,t.southWestArrowNorthWest,t.southWestArrowNorthEast,t.southWestArrowNorthMiddleWest,t.southWestArrowNorthMiddleEast]:[t.southEastArrowNorth,t.southEastArrowNorthEast,t.southEastArrowNorthWest,t.southEastArrowNorthMiddleEast,t.southEastArrowNorthMiddleWest,t.northEastArrowSouth,t.northEastArrowSouthEast,t.northEastArrowSouthWest,t.northEastArrowSouthMiddleEast,t.northEastArrowSouthMiddleWest]}c(56),T4("px"),T4("px"),c(58);let ve=new WeakMap;function ac(r){let{view:t,element:a,text:e,isDirectHost:n=!0,keepOnFocus:i=!1}=r,h=t.document;ve.has(h)||(ve.set(h,new Map),h.registerPostFixer(s=>ec(h,s))),ve.get(h).set(a,{text:e,isDirectHost:n,keepOnFocus:i,hostElement:n?a:null}),t.change(s=>ec(h,s))}function Mf(r,t){return!!t.hasClass("ck-placeholder")&&(r.removeClass("ck-placeholder",t),!0)}function ec(r,t){let a=ve.get(r),e=[],n=!1;for(let[i,h]of a)h.isDirectHost&&(e.push(i),rc(t,i,h)&&(n=!0));for(let[i,h]of a){if(h.isDirectHost)continue;let s=mf(i);s&&(e.includes(s)||(h.hostElement=s,rc(t,i,h)&&(n=!0)))}return n}function rc(r,t,a){let{text:e,isDirectHost:n,hostElement:i}=a,h=!1;return i.getAttribute("data-placeholder")!==e&&(r.setAttribute("data-placeholder",e,i),h=!0),(n||t.childCount==1)&&function(s,d){if(!s.isAttached()||Array.from(s.getChildren()).some(z=>!z.is("uiElement")))return!1;if(d)return!0;let g=s.document;if(!g.isFocused)return!0;let p=g.selection.anchor;return p&&p.parent!==s}(i,a.keepOnFocus)?function(s,d){return!d.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",d),!0)}(r,i)&&(h=!0):Mf(r,i)&&(h=!0),h}function mf(r){if(r.childCount){let t=r.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}let M7=new Map;function H1(r,t,a){let e=M7.get(r);e||(e=new Map,M7.set(r,e)),e.set(t,a)}function xf(r){return[r]}function nc(r,t,a={}){let e=function(n,i){let h=M7.get(n);return h&&h.has(i)?h.get(i):xf}(r.constructor,t.constructor);try{return e(r=r.clone(),t,a)}catch(n){throw n}}function Hf(r,t,a){r=r.slice(),t=t.slice();let e=new Vf(a.document,a.useRelations,a.forceWeakRemove);e.setOriginalOperations(r),e.setOriginalOperations(t);let n=e.originalOperations;if(r.length==0||t.length==0)return{operationsA:r,operationsB:t,originalOperations:n};let i=new WeakMap;for(let d of r)i.set(d,0);let h={nextBaseVersionA:r[r.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:r.length,originalOperationsBCount:t.length},s=0;for(;s<r.length;){let d=r[s],g=i.get(d);if(g==t.length){s++;continue}let p=t[g],z=nc(d,p,e.getContext(d,p,!0)),m=nc(p,d,e.getContext(p,d,!1));e.updateRelation(d,p),e.setOriginalOperations(z,d),e.setOriginalOperations(m,p);for(let V of z)i.set(V,g+m.length);r.splice(s,1,...z),t.splice(g,1,...m)}if(a.padWithNoOps){let d=r.length-h.originalOperationsACount,g=t.length-h.originalOperationsBCount;ic(r,g-d),ic(t,d-g)}return oc(r,h.nextBaseVersionB),oc(t,h.nextBaseVersionA),{operationsA:r,operationsB:t,originalOperations:n}}class Vf{constructor(t,a,e=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=a,this._forceWeakRemove=!!e,this._relations=new Map}setOriginalOperations(t,a=null){let e=a?this.originalOperations.get(a):null;for(let n of t)this.originalOperations.set(n,e||n)}updateRelation(t,a){switch(t.constructor){case S1:switch(a.constructor){case c2:t.targetPosition.isEqual(a.sourcePosition)||a.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,a,"insertAtSource"):t.targetPosition.isEqual(a.deletionPosition)?this._setRelation(t,a,"insertBetween"):t.targetPosition.isAfter(a.sourcePosition)&&this._setRelation(t,a,"moveTargetAfter");break;case S1:t.targetPosition.isEqual(a.sourcePosition)||t.targetPosition.isBefore(a.sourcePosition)?this._setRelation(t,a,"insertBefore"):this._setRelation(t,a,"insertAfter")}break;case T1:switch(a.constructor){case c2:t.splitPosition.isBefore(a.sourcePosition)&&this._setRelation(t,a,"splitBefore");break;case S1:if(t.splitPosition.isEqual(a.sourcePosition)||t.splitPosition.isBefore(a.sourcePosition))this._setRelation(t,a,"splitBefore");else{let e=D._createFromPositionAndShift(a.sourcePosition,a.howMany);if(t.splitPosition.hasSameParentAs(a.sourcePosition)&&e.containsPosition(t.splitPosition)){let n=e.end.offset-t.splitPosition.offset,i=t.splitPosition.offset-e.start.offset;this._setRelation(t,a,{howMany:n,offset:i})}}}break;case c2:switch(a.constructor){case c2:t.targetPosition.isEqual(a.sourcePosition)||this._setRelation(t,a,"mergeTargetNotMoved"),t.sourcePosition.isEqual(a.targetPosition)&&this._setRelation(t,a,"mergeSourceNotMoved"),t.sourcePosition.isEqual(a.sourcePosition)&&this._setRelation(t,a,"mergeSameElement");break;case T1:t.sourcePosition.isEqual(a.splitPosition)&&this._setRelation(t,a,"splitAtSource")}break;case t0:{let e=t.newRange;if(!e)return;switch(a.constructor){case S1:{let n=D._createFromPositionAndShift(a.sourcePosition,a.howMany),i=n.containsPosition(e.start)||n.start.isEqual(e.start),h=n.containsPosition(e.end)||n.end.isEqual(e.end);!i&&!h||n.containsRange(e)||this._setRelation(t,a,{side:i?"left":"right",path:i?e.start.path.slice():e.end.path.slice()});break}case c2:{let n=e.start.isEqual(a.targetPosition),i=e.start.isEqual(a.deletionPosition),h=e.end.isEqual(a.deletionPosition),s=e.end.isEqual(a.sourcePosition);(n||i||h||s)&&this._setRelation(t,a,{wasInLeftElement:n,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:h,wasInRightElement:s});break}}break}}}getContext(t,a,e){return{aIsStrong:e,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(a),abRelation:this._useRelations?this._getRelation(t,a):null,baRelation:this._useRelations?this._getRelation(a,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){let a=this.originalOperations.get(t);return a.wasUndone||this._history.isUndoneOperation(a)}_getRelation(t,a){let e=this.originalOperations.get(a),n=this._history.getUndoneOperation(e);if(!n)return null;let i=this.originalOperations.get(t),h=this._relations.get(i);return h&&h.get(n)||null}_setRelation(t,a,e){let n=this.originalOperations.get(t),i=this.originalOperations.get(a),h=this._relations.get(n);h||(h=new Map,this._relations.set(n,h)),h.set(i,e)}}function oc(r,t){for(let a of r)a.baseVersion=t++}function ic(r,t){for(let a=0;a<t;a++)r.push(new M2(0))}function lc(r,t,a){let e=r.nodes.getNode(0).getAttribute(t);if(e==a)return null;let n=new D(r.position,r.position.getShiftedBy(r.howMany));return new e2(n,t,e,a,0)}function cc(r,t){return r.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function $4(r,t){let a=[];for(let e=0;e<r.length;e++){let n=r[e],i=new S1(n.start,n.end.offset-n.start.offset,t,0);a.push(i);for(let h=e+1;h<r.length;h++)r[h]=r[h]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];t=t._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return a}H1(e2,e2,(r,t,a)=>{if(r.key===t.key&&r.range.start.hasSameParentAs(t.range.start)){let e=r.range.getDifference(t.range).map(i=>new e2(i,r.key,r.oldValue,r.newValue,0)),n=r.range.getIntersection(t.range);return n&&a.aIsStrong&&e.push(new e2(n,t.key,t.newValue,r.newValue,0)),e.length==0?[new M2(0)]:e}return[r]}),H1(e2,f2,(r,t)=>{if(r.range.start.hasSameParentAs(t.position)&&r.range.containsPosition(t.position)){let a=r.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(e=>new e2(e,r.key,r.oldValue,r.newValue,r.baseVersion));if(t.shouldReceiveAttributes){let e=lc(t,r.key,r.oldValue);e&&a.unshift(e)}return a}return r.range=r.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[r]}),H1(e2,c2,(r,t)=>{let a=[];r.range.start.hasSameParentAs(t.deletionPosition)&&(r.range.containsPosition(t.deletionPosition)||r.range.start.isEqual(t.deletionPosition))&&a.push(D._createFromPositionAndShift(t.graveyardPosition,1));let e=r.range._getTransformedByMergeOperation(t);return e.isCollapsed||a.push(e),a.map(n=>new e2(n,r.key,r.oldValue,r.newValue,r.baseVersion))}),H1(e2,S1,(r,t)=>function(a,e){let n=D._createFromPositionAndShift(e.sourcePosition,e.howMany),i=null,h=[];n.containsRange(a,!0)?i=a:a.start.hasSameParentAs(n.start)?(h=a.getDifference(n),i=a.getIntersection(n)):h=[a];let s=[];for(let d of h){d=d._getTransformedByDeletion(e.sourcePosition,e.howMany);let g=e.getMovedRangeStart(),p=d.start.hasSameParentAs(g);d=d._getTransformedByInsertion(g,e.howMany,p),s.push(...d)}return i&&s.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}(r.range,t).map(a=>new e2(a,r.key,r.oldValue,r.newValue,r.baseVersion))),H1(e2,T1,(r,t)=>{if(r.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||r.range.end.offset++,[r];if(r.range.start.hasSameParentAs(t.splitPosition)&&r.range.containsPosition(t.splitPosition)){let a=r.clone();return a.range=new D(t.moveTargetPosition.clone(),r.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),r.range.end=t.splitPosition.clone(),r.range.end.stickiness="toPrevious",[r,a]}return r.range=r.range._getTransformedBySplitOperation(t),[r]}),H1(f2,e2,(r,t)=>{let a=[r];if(r.shouldReceiveAttributes&&r.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(r.position)){let e=lc(r,t.key,t.newValue);e&&a.push(e)}return a}),H1(f2,f2,(r,t,a)=>(r.position.isEqual(t.position)&&a.aIsStrong||(r.position=r.position._getTransformedByInsertOperation(t)),[r])),H1(f2,S1,(r,t)=>(r.position=r.position._getTransformedByMoveOperation(t),[r])),H1(f2,T1,(r,t)=>(r.position=r.position._getTransformedBySplitOperation(t),[r])),H1(f2,c2,(r,t)=>(r.position=r.position._getTransformedByMergeOperation(t),[r])),H1(t0,f2,(r,t)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByInsertOperation(t)[0]),r.newRange&&(r.newRange=r.newRange._getTransformedByInsertOperation(t)[0]),[r])),H1(t0,t0,(r,t,a)=>{if(r.name==t.name){if(!a.aIsStrong)return[new M2(0)];r.oldRange=t.newRange?t.newRange.clone():null}return[r]}),H1(t0,c2,(r,t)=>(r.oldRange&&(r.oldRange=r.oldRange._getTransformedByMergeOperation(t)),r.newRange&&(r.newRange=r.newRange._getTransformedByMergeOperation(t)),[r])),H1(t0,S1,(r,t,a)=>{if(r.oldRange&&(r.oldRange=D._createFromRanges(r.oldRange._getTransformedByMoveOperation(t))),r.newRange){if(a.abRelation){let e=D._createFromRanges(r.newRange._getTransformedByMoveOperation(t));if(a.abRelation.side=="left"&&t.targetPosition.isEqual(r.newRange.start))return r.newRange.start.path=a.abRelation.path,r.newRange.end=e.end,[r];if(a.abRelation.side=="right"&&t.targetPosition.isEqual(r.newRange.end))return r.newRange.start=e.start,r.newRange.end.path=a.abRelation.path,[r]}r.newRange=D._createFromRanges(r.newRange._getTransformedByMoveOperation(t))}return[r]}),H1(t0,T1,(r,t,a)=>{if(r.oldRange&&(r.oldRange=r.oldRange._getTransformedBySplitOperation(t)),r.newRange){if(a.abRelation){let e=r.newRange._getTransformedBySplitOperation(t);return r.newRange.start.isEqual(t.splitPosition)&&a.abRelation.wasStartBeforeMergedElement?r.newRange.start=j._createAt(t.insertionPosition):r.newRange.start.isEqual(t.splitPosition)&&!a.abRelation.wasInLeftElement&&(r.newRange.start=j._createAt(t.moveTargetPosition)),r.newRange.end.isEqual(t.splitPosition)&&a.abRelation.wasInRightElement?r.newRange.end=j._createAt(t.moveTargetPosition):r.newRange.end.isEqual(t.splitPosition)&&a.abRelation.wasEndBeforeMergedElement?r.newRange.end=j._createAt(t.insertionPosition):r.newRange.end=e.end,[r]}r.newRange=r.newRange._getTransformedBySplitOperation(t)}return[r]}),H1(c2,f2,(r,t)=>(r.sourcePosition.hasSameParentAs(t.position)&&(r.howMany+=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByInsertOperation(t),r.targetPosition=r.targetPosition._getTransformedByInsertOperation(t),[r])),H1(c2,c2,(r,t,a)=>{if(r.sourcePosition.isEqual(t.sourcePosition)&&r.targetPosition.isEqual(t.targetPosition)){if(a.bWasUndone){let e=t.graveyardPosition.path.slice();return e.push(0),r.sourcePosition=new j(t.graveyardPosition.root,e),r.howMany=0,[r]}return[new M2(0)]}if(r.sourcePosition.isEqual(t.sourcePosition)&&!r.targetPosition.isEqual(t.targetPosition)&&!a.bWasUndone&&a.abRelation!="splitAtSource"){let e=r.targetPosition.root.rootName=="$graveyard",n=t.targetPosition.root.rootName=="$graveyard";if(n&&!e||!(e&&!n)&&a.aIsStrong){let h=t.targetPosition._getTransformedByMergeOperation(t),s=r.targetPosition._getTransformedByMergeOperation(t);return[new S1(h,r.howMany,s,0)]}return[new M2(0)]}return r.sourcePosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMergeOperation(t),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),r.graveyardPosition.isEqual(t.graveyardPosition)&&a.aIsStrong||(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(t)),[r]}),H1(c2,S1,(r,t,a)=>{let e=D._createFromPositionAndShift(t.sourcePosition,t.howMany);return t.type=="remove"&&!a.bWasUndone&&!a.forceWeakRemove&&r.deletionPosition.hasSameParentAs(t.sourcePosition)&&e.containsPosition(r.sourcePosition)?[new M2(0)]:(r.sourcePosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.sourcePosition.hasSameParentAs(t.sourcePosition)&&(r.howMany-=t.howMany),r.sourcePosition=r.sourcePosition._getTransformedByMoveOperation(t),r.targetPosition=r.targetPosition._getTransformedByMoveOperation(t),r.graveyardPosition.isEqual(t.targetPosition)||(r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(t)),[r])}),H1(c2,T1,(r,t,a)=>{if(t.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),r.deletionPosition.isEqual(t.graveyardPosition)&&(r.howMany=t.howMany)),r.targetPosition.isEqual(t.splitPosition)){let e=t.howMany!=0,n=t.graveyardPosition&&r.deletionPosition.isEqual(t.graveyardPosition);if(e||n||a.abRelation=="mergeTargetNotMoved")return r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(t),[r]}if(r.sourcePosition.isEqual(t.splitPosition)){if(a.abRelation=="mergeSourceNotMoved")return r.howMany=0,r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r];if(a.abRelation=="mergeSameElement"||r.sourcePosition.offset>0)return r.sourcePosition=t.moveTargetPosition.clone(),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r]}return r.sourcePosition.hasSameParentAs(t.splitPosition)&&(r.howMany=t.splitPosition.offset),r.sourcePosition=r.sourcePosition._getTransformedBySplitOperation(t),r.targetPosition=r.targetPosition._getTransformedBySplitOperation(t),[r]}),H1(S1,f2,(r,t)=>{let a=D._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByInsertOperation(t,!1)[0];return r.sourcePosition=a.start,r.howMany=a.end.offset-a.start.offset,r.targetPosition.isEqual(t.position)||(r.targetPosition=r.targetPosition._getTransformedByInsertOperation(t)),[r]}),H1(S1,S1,(r,t,a)=>{let e=D._createFromPositionAndShift(r.sourcePosition,r.howMany),n=D._createFromPositionAndShift(t.sourcePosition,t.howMany),i,h=a.aIsStrong,s=!a.aIsStrong;if(a.abRelation=="insertBefore"||a.baRelation=="insertAfter"?s=!0:a.abRelation!="insertAfter"&&a.baRelation!="insertBefore"||(s=!1),i=r.targetPosition.isEqual(t.targetPosition)&&s?r.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):r.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),cc(r,t)&&cc(t,r))return[t.getReversed()];if(e.containsPosition(t.targetPosition)&&e.containsRange(n,!0))return e.start=e.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),e.end=e.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),$4([e],i);if(n.containsPosition(r.targetPosition)&&n.containsRange(e,!0))return e.start=e.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),e.end=e.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),$4([e],i);let d=S2(r.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d=="prefix"||d=="extension")return e.start=e.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),e.end=e.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),$4([e],i);r.type!="remove"||t.type=="remove"||a.aWasUndone||a.forceWeakRemove?r.type=="remove"||t.type!="remove"||a.bWasUndone||a.forceWeakRemove||(h=!1):h=!0;let g=[],p=e.getDifference(n);for(let m of p){m.start=m.start._getTransformedByDeletion(t.sourcePosition,t.howMany),m.end=m.end._getTransformedByDeletion(t.sourcePosition,t.howMany);let V=S2(m.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same",B=m._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,V);g.push(...B)}let z=e.getIntersection(n);return z!==null&&h&&(z.start=z.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),z.end=z.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),g.length===0?g.push(z):g.length==1?n.start.isBefore(e.start)||n.start.isEqual(e.start)?g.unshift(z):g.push(z):g.splice(1,0,z)),g.length===0?[new M2(r.baseVersion)]:$4(g,i)}),H1(S1,T1,(r,t,a)=>{let e=r.targetPosition.clone();r.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&a.abRelation!="moveTargetAfter"||(e=r.targetPosition._getTransformedBySplitOperation(t));let n=D._createFromPositionAndShift(r.sourcePosition,r.howMany);if(n.end.isEqual(t.insertionPosition))return t.graveyardPosition||r.howMany++,r.targetPosition=e,[r];if(n.start.hasSameParentAs(t.splitPosition)&&n.containsPosition(t.splitPosition)){let h=new D(t.splitPosition,n.end);return h=h._getTransformedBySplitOperation(t),$4([new D(n.start,t.splitPosition),h],e)}r.targetPosition.isEqual(t.splitPosition)&&a.abRelation=="insertAtSource"&&(e=t.moveTargetPosition),r.targetPosition.isEqual(t.insertionPosition)&&a.abRelation=="insertBetween"&&(e=r.targetPosition);let i=[n._getTransformedBySplitOperation(t)];if(t.graveyardPosition){let h=n.start.isEqual(t.graveyardPosition)||n.containsPosition(t.graveyardPosition);r.howMany>1&&h&&!a.aWasUndone&&i.push(D._createFromPositionAndShift(t.insertionPosition,1))}return $4(i,e)}),H1(S1,c2,(r,t,a)=>{let e=D._createFromPositionAndShift(r.sourcePosition,r.howMany);if(t.deletionPosition.hasSameParentAs(r.sourcePosition)&&e.containsPosition(t.sourcePosition)){if(r.type!="remove"||a.forceWeakRemove){if(r.howMany==1)return a.bWasUndone?(r.sourcePosition=t.graveyardPosition.clone(),r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),[r]):[new M2(0)]}else if(!a.aWasUndone){let i=[],h=t.graveyardPosition.clone(),s=t.targetPosition._getTransformedByMergeOperation(t);r.howMany>1&&(i.push(new S1(r.sourcePosition,r.howMany-1,r.targetPosition,0)),h=h._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1),s=s._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany-1));let d=t.deletionPosition._getCombined(r.sourcePosition,r.targetPosition),g=new S1(h,1,d,0),p=g.getMovedRangeStart().path.slice();p.push(0);let z=new j(g.targetPosition.root,p);s=s._getTransformedByMove(h,d,1);let m=new S1(s,t.howMany,z,0);return i.push(g),i.push(m),i}}let n=D._createFromPositionAndShift(r.sourcePosition,r.howMany)._getTransformedByMergeOperation(t);return r.sourcePosition=n.start,r.howMany=n.end.offset-n.start.offset,r.targetPosition=r.targetPosition._getTransformedByMergeOperation(t),[r]}),H1(a0,f2,(r,t)=>(r.position=r.position._getTransformedByInsertOperation(t),[r])),H1(a0,c2,(r,t)=>r.position.isEqual(t.deletionPosition)?(r.position=t.graveyardPosition.clone(),r.position.stickiness="toNext",[r]):(r.position=r.position._getTransformedByMergeOperation(t),[r])),H1(a0,S1,(r,t)=>(r.position=r.position._getTransformedByMoveOperation(t),[r])),H1(a0,a0,(r,t,a)=>{if(r.position.isEqual(t.position)){if(!a.aIsStrong)return[new M2(0)];r.oldName=t.newName}return[r]}),H1(a0,T1,(r,t)=>{if(S2(r.position.path,t.splitPosition.getParentPath())=="same"&&!t.graveyardPosition){let a=new a0(r.position.getShiftedBy(1),r.oldName,r.newName,0);return[r,a]}return r.position=r.position._getTransformedBySplitOperation(t),[r]}),H1(Et,Et,(r,t,a)=>{if(r.root===t.root&&r.key===t.key){if(!a.aIsStrong||r.newValue===t.newValue)return[new M2(0)];r.oldValue=t.newValue}return[r]}),H1(T1,f2,(r,t)=>(r.splitPosition.hasSameParentAs(t.position)&&r.splitPosition.offset<t.position.offset&&(r.howMany+=t.howMany),r.splitPosition=r.splitPosition._getTransformedByInsertOperation(t),r.insertionPosition=r.insertionPosition._getTransformedByInsertOperation(t),[r])),H1(T1,c2,(r,t,a)=>{if(!r.graveyardPosition&&!a.bWasUndone&&r.splitPosition.hasSameParentAs(t.sourcePosition)){let e=t.graveyardPosition.path.slice();e.push(0);let n=new j(t.graveyardPosition.root,e),i=T1.getInsertionPosition(new j(t.graveyardPosition.root,e)),h=new T1(n,0,i,null,0);return r.splitPosition=r.splitPosition._getTransformedByMergeOperation(t),r.insertionPosition=T1.getInsertionPosition(r.splitPosition),r.graveyardPosition=h.insertionPosition.clone(),r.graveyardPosition.stickiness="toNext",[h,r]}return r.splitPosition.hasSameParentAs(t.deletionPosition)&&!r.splitPosition.isAfter(t.deletionPosition)&&r.howMany--,r.splitPosition.hasSameParentAs(t.targetPosition)&&(r.howMany+=t.howMany),r.splitPosition=r.splitPosition._getTransformedByMergeOperation(t),r.insertionPosition=T1.getInsertionPosition(r.splitPosition),r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedByMergeOperation(t)),[r]}),H1(T1,S1,(r,t,a)=>{let e=D._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.graveyardPosition){let i=e.start.isEqual(r.graveyardPosition)||e.containsPosition(r.graveyardPosition);if(!a.bWasUndone&&i){let h=r.splitPosition._getTransformedByMoveOperation(t),s=r.graveyardPosition._getTransformedByMoveOperation(t),d=s.path.slice();d.push(0);let g=new j(s.root,d);return[new S1(h,r.howMany,g,0)]}r.graveyardPosition=r.graveyardPosition._getTransformedByMoveOperation(t)}let n=r.splitPosition.isEqual(t.targetPosition);if(n&&(a.baRelation=="insertAtSource"||a.abRelation=="splitBefore"))return r.howMany+=t.howMany,r.splitPosition=r.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),r.insertionPosition=T1.getInsertionPosition(r.splitPosition),[r];if(n&&a.abRelation&&a.abRelation.howMany){let{howMany:i,offset:h}=a.abRelation;return r.howMany+=i,r.splitPosition=r.splitPosition.getShiftedBy(h),[r]}if(r.splitPosition.hasSameParentAs(t.sourcePosition)&&e.containsPosition(r.splitPosition)){let i=t.howMany-(r.splitPosition.offset-t.sourcePosition.offset);return r.howMany-=i,r.splitPosition.hasSameParentAs(t.targetPosition)&&r.splitPosition.offset<t.targetPosition.offset&&(r.howMany+=t.howMany),r.splitPosition=t.sourcePosition.clone(),r.insertionPosition=T1.getInsertionPosition(r.splitPosition),[r]}return t.sourcePosition.isEqual(t.targetPosition)||(r.splitPosition.hasSameParentAs(t.sourcePosition)&&r.splitPosition.offset<=t.sourcePosition.offset&&(r.howMany-=t.howMany),r.splitPosition.hasSameParentAs(t.targetPosition)&&r.splitPosition.offset<t.targetPosition.offset&&(r.howMany+=t.howMany)),r.splitPosition.stickiness="toNone",r.splitPosition=r.splitPosition._getTransformedByMoveOperation(t),r.splitPosition.stickiness="toNext",r.graveyardPosition?r.insertionPosition=r.insertionPosition._getTransformedByMoveOperation(t):r.insertionPosition=T1.getInsertionPosition(r.splitPosition),[r]}),H1(T1,T1,(r,t,a)=>{if(r.splitPosition.isEqual(t.splitPosition)){if(!r.graveyardPosition&&!t.graveyardPosition)return[new M2(0)];if(r.graveyardPosition&&t.graveyardPosition&&r.graveyardPosition.isEqual(t.graveyardPosition))return[new M2(0)];if(a.abRelation=="splitBefore")return r.howMany=0,r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(t),[r]}if(r.graveyardPosition&&t.graveyardPosition&&r.graveyardPosition.isEqual(t.graveyardPosition)){let e=r.splitPosition.root.rootName=="$graveyard",n=t.splitPosition.root.rootName=="$graveyard";if(n&&!e||!(e&&!n)&&a.aIsStrong){let h=[];return t.howMany&&h.push(new S1(t.moveTargetPosition,t.howMany,t.splitPosition,0)),r.howMany&&h.push(new S1(r.splitPosition,r.howMany,r.moveTargetPosition,0)),h}return[new M2(0)]}if(r.graveyardPosition&&(r.graveyardPosition=r.graveyardPosition._getTransformedBySplitOperation(t)),r.splitPosition.isEqual(t.insertionPosition)&&a.abRelation=="splitBefore")return r.howMany++,[r];if(t.splitPosition.isEqual(r.insertionPosition)&&a.baRelation=="splitBefore"){let e=t.insertionPosition.path.slice();e.push(0);let n=new j(t.insertionPosition.root,e);return[r,new S1(r.insertionPosition,1,n,0)]}return r.splitPosition.hasSameParentAs(t.splitPosition)&&r.splitPosition.offset<t.splitPosition.offset&&(r.howMany-=t.howMany),r.splitPosition=r.splitPosition._getTransformedBySplitOperation(t),r.insertionPosition=T1.getInsertionPosition(r.splitPosition),[r]});class wf extends v5{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class de extends v5{constructor(t){super(t),this.domEventType=["mousedown","mouseup"]}onDomEvent(t){this.fire(t.type,t)}}class ue{constructor(t){this.document=t}createDocumentFragment(t){return new J5(this.document,t)}createElement(t,a,e){return new B0(this.document,t,a,e)}createText(t){return new O1(this.document,t)}clone(t,a=!1){return t._clone(a)}appendChild(t,a){return a._appendChild(t)}insertChild(t,a,e){return e._insertChild(t,a)}removeChildren(t,a,e){return e._removeChildren(t,a)}remove(t){let a=t.parent;return a?this.removeChildren(a.getChildIndex(t),1,a):[]}replace(t,a){let e=t.parent;if(e){let n=e.getChildIndex(t);return this.removeChildren(n,1,e),this.insertChild(n,a,e),!0}return!1}unwrapElement(t){let a=t.parent;if(a){let e=a.getChildIndex(t);this.remove(t),this.insertChild(e,t.getChildren(),a)}}rename(t,a){let e=new B0(this.document,t,a.getAttributes(),a.getChildren());return this.replace(a,e)?e:null}setAttribute(t,a,e){e._setAttribute(t,a)}removeAttribute(t,a){a._removeAttribute(t)}addClass(t,a){a._addClass(t)}removeClass(t,a){a._removeClass(t)}setStyle(t,a,e){L0(t)&&e===void 0&&(e=a),e._setStyle(t,a)}removeStyle(t,a){a._removeStyle(t)}setCustomProperty(t,a,e){e._setCustomProperty(t,a)}removeCustomProperty(t,a){return a._removeCustomProperty(t)}createPositionAt(t,a){return Y._createAt(t,a)}createPositionAfter(t){return Y._createAfter(t)}createPositionBefore(t){return Y._createBefore(t)}createRange(t,a){return new c1(t,a)}createRangeOn(t){return c1._createOn(t)}createRangeIn(t){return c1._createIn(t)}createSelection(t,a,e){return new $0(t,a,e)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);class Lf extends _l{constructor(t,a){super(t),this.view=a}get element(){return this.view.editable.element}init(){let t=this.editor,a=this.view,e=t.plugins.get("BalloonToolbar"),n=t.editing.view,i=a.editable,h=n.document.getRoot();i.name=h.rootName,a.render();let s=i.element;this.setEditableElement(i.name,s),this.focusTracker.add(s),i.bind("isFocused").to(this.focusTracker),n.attachDomRoot(s),function({origin:d,originKeystrokeHandler:g,originFocusTracker:p,toolbar:z,beforeFocus:m,afterBlur:V}){p.add(z.element),g.set("Alt+F10",(B,k)=>{p.isFocused&&!z.focusTracker.isFocused&&(m&&m(),z.focus(),k())}),z.keystrokes.set("Esc",(B,k)=>{z.focusTracker.isFocused&&(d.focus(),V&&V(),k())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbarView,beforeFocus(){e.show()},afterBlur(){e.hide()}}),this._initPlaceholder(),this.fire("ready")}destroy(){let t=this.view;this.editor.editing.view.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initPlaceholder(){let t=this.editor,a=t.editing.view,e=a.document.getRoot(),n=t.sourceElement,i=t.config.get("placeholder")||n&&n.tagName.toLowerCase()==="textarea"&&n.getAttribute("placeholder");i&&ac({view:a,element:e,text:i,isDirectHost:!1,keepOnFocus:!0})}}class Bf extends cf{constructor(t,a,e){super(t),this.editable=new vf(t,a,e)}render(){super.render(),this.registerChild(this.editable)}}class m7 extends yl{constructor(t,a){super(a),s2(t)&&(this.sourceElement=t,function(i){let h=i.sourceElement;if(h){if(h.ckeditorInstance)throw new M.a("editor-source-element-already-used",i);h.ckeditorInstance=i,i.once("destroy",()=>{delete h.ckeditorInstance})}}(this));let e=this.config.get("plugins");e.push(zf),this.config.set("plugins",e),this.config.define("balloonToolbar",this.config.get("toolbar")),this.model.document.createRoot();let n=new Bf(this.locale,this.editing.view,this.sourceElement);this.ui=new Lf(this,n),function(i){if(!c0(i.updateSourceElement))throw new M.a("attachtoform-missing-elementapi-interface",i);let h=i.sourceElement;if(h&&h.tagName.toLowerCase()==="textarea"&&h.form){let s,d=h.form,g=()=>i.updateSourceElement();c0(d.submit)&&(s=d.submit,d.submit=()=>{g(),s.apply(d)}),d.addEventListener("submit",g),i.on("destroy",()=>{d.removeEventListener("submit",g),s&&(d.submit=s)})}}(this)}destroy(){let t=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&Ii(this.sourceElement,t)})}static create(t,a={}){return new Promise(e=>{let n=s2(t);if(n&&t.tagName==="TEXTAREA")throw new M.a("editor-wrong-element",null);let i=new this(t,a);e(i.initPlugins().then(()=>{i.ui.init()}).then(()=>{if(!n&&a.initialData)throw new M.a("editor-create-initial-data",null);let h=a.initialData!==void 0?a.initialData:function(s){return s2(s)?(d=s,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):s;var d}(t);return i.data.init(h)}).then(()=>i.fire("ready")).then(()=>i))})}}i1(m7,Dz),i1(m7,Nz);class kf{constructor(t){this.files=function(a){let e=a.files?Array.from(a.files):[],n=a.items?Array.from(a.items):[];return e.length?e:n.filter(i=>i.kind==="file").map(i=>i.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,a){this._native.setData(t,a)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}class x7 extends v5{constructor(t){super(t);let a=this.document;function e(n){return(i,h)=>{h.preventDefault();let s=h.dropRange?[h.dropRange]:null,d=new v(a,n);a.fire(d,{dataTransfer:h.dataTransfer,method:i.name,targetRanges:s,target:h.target}),d.stop.called&&h.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(a,"paste",e("clipboardInput"),{priority:"low"}),this.listenTo(a,"drop",e("clipboardInput"),{priority:"low"}),this.listenTo(a,"dragover",e("dragging"),{priority:"low"})}onDomEvent(t){let a={dataTransfer:new kf(t.clipboardData?t.clipboardData:t.dataTransfer)};t.type!="drop"&&t.type!="dragover"||(a.dropRange=function(e,n){let i=n.target.ownerDocument,h=n.clientX,s=n.clientY,d;return i.caretRangeFromPoint&&i.caretRangeFromPoint(h,s)?d=i.caretRangeFromPoint(h,s):n.rangeParent&&(d=i.createRange(),d.setStart(n.rangeParent,n.rangeOffset),d.collapse(!0)),d?e.domConverter.domRangeToView(d):null}(this.view,t)),this.fire(t.type,t,a)}}let hc=["figcaption","li"];class d5 extends ${static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(x7),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){let t=this.editor,a=t.model,e=t.editing.view,n=e.document;this.listenTo(n,"clipboardInput",i=>{t.isReadOnly&&i.stop()},{priority:"highest"}),this.listenTo(n,"clipboardInput",(i,h)=>{let s=h.dataTransfer,d=h.content||"";var g;d||(s.getData("text/html")?d=function(z){return z.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(m,V)=>V.length==1?" ":V)}(s.getData("text/html")):s.getData("text/plain")&&(((g=(g=s.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||g.includes("<br>"))&&(g=`<p>${g}</p>`),d=g),d=this.editor.data.htmlProcessor.toView(d));let p=new v(this,"inputTransformation");this.fire(p,{content:d,dataTransfer:s,targetRanges:h.targetRanges,method:h.method}),p.stop.called&&i.stop(),e.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(i,h)=>{if(h.content.isEmpty)return;let s=this.editor.data.toModel(h.content,"$clipboardHolder");s.childCount!=0&&(i.stop(),a.change(()=>{this.fire("contentInsertion",{content:s,method:h.method,dataTransfer:h.dataTransfer,targetRanges:h.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(i,h)=>{h.resultRange=a.insertContent(h.content)},{priority:"low"})}_setupCopyCut(){let t=this.editor,a=t.model.document,e=t.editing.view.document;function n(i,h){let s=h.dataTransfer;h.preventDefault();let d=t.data.toView(t.model.getSelectedContent(a.selection));e.fire("clipboardOutput",{dataTransfer:s,content:d,method:i.name})}this.listenTo(e,"copy",n,{priority:"low"}),this.listenTo(e,"cut",(i,h)=>{t.isReadOnly?h.preventDefault():n(i,h)},{priority:"low"}),this.listenTo(e,"clipboardOutput",(i,h)=>{h.content.isEmpty||(h.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(h.content)),h.dataTransfer.setData("text/plain",function s(d){let g="";if(d.is("$text")||d.is("$textProxy"))g=d.data;else if(d.is("element","img")&&d.hasAttribute("alt"))g=d.getAttribute("alt");else if(d.is("element","br"))g=`
`;else{let p=null;for(let z of d.getChildren()){let m=s(z);p&&(p.is("containerElement")||z.is("containerElement"))&&(hc.includes(p.name)||hc.includes(z.name)?g+=`
`:g+=`

`),g+=m,p=z}}return g}(h.content))),h.method=="cut"&&t.model.deleteContent(a.selection)},{priority:"low"})}}function*sc(r,t){for(let a of t)a&&r.getAttributeProperties(a[0]).copyOnEnter&&(yield a)}class Cf extends n1{execute(){let t=this.editor.model,a=t.document;t.change(e=>{(function(n,i,h,s){let d=h.isCollapsed,g=h.getFirstRange(),p=g.start.parent,z=g.end.parent;if(s.isLimit(p)||s.isLimit(z))return void(d||p!=z||n.deleteContent(h));if(d){let m=sc(i.model.schema,h.getAttributes());vc(i,g.start),i.setSelectionAttribute(m)}else{let m=!(g.start.isAtStart&&g.end.isAtEnd),V=p==z;n.deleteContent(h,{leaveUnmerged:m}),m&&(V?vc(i,h.focus):i.setSelection(z,0))}})(this.editor.model,e,a.selection,t.schema),this.fire("afterExecute",{writer:e})})}}function vc(r,t){r.split(t),r.setSelection(t.parent.nextSibling,0)}class dc extends St{constructor(t){super(t);let a=this.document;a.on("keydown",(e,n)=>{if(this.isEnabled&&n.keyCode==M1.enter){let i=new $6(a,"enter",a.selection.getFirstRange());a.fire(i,new D8(a,n.domEvent,{isSoft:n.shiftKey})),i.stop.called&&e.stop()}})}observe(){}}class ge extends ${static get pluginName(){return"Enter"}init(){let t=this.editor,a=t.editing.view,e=a.document;a.addObserver(dc),t.commands.add("enter",new Cf(t)),this.listenTo(e,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),a.scrollToTheSelection())},{priority:"low"})}}class uc{constructor(t,a=20){this.model=t,this.size=0,this.limit=a,this.isLocked=!1,this._changeCallback=(e,n)=>{n.type!="transparent"&&n!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class gc extends n1{constructor(t,a){super(t),this.direction=a,this._buffer=new uc(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){let a=this.editor.model,e=a.document;a.enqueueChange(this._buffer.batch,n=>{this._buffer.lock();let i=n.createSelection(t.selection||e.selection),h=t.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&a.modifySelection(i,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(h))return void this._replaceEntireContentWithParagraph(n);if(this._shouldReplaceFirstBlockWithParagraph(i,h))return void this.editor.execute("paragraph",{selection:i});if(i.isCollapsed)return;let d=0;i.getFirstRange().getMinimalFlatRanges().forEach(g=>{d+=k8(g.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),a.deleteContent(i,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(d),n.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;let a=this.editor.model,e=a.document.selection,n=a.schema.getLimitElement(e);if(!(e.isCollapsed&&e.containsEntireContent(n))||!a.schema.checkChild(n,"paragraph"))return!1;let i=n.getChild(0);return!i||i.name!=="paragraph"}_replaceEntireContentWithParagraph(t){let a=this.editor.model,e=a.document.selection,n=a.schema.getLimitElement(e),i=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(i,n),t.setSelection(i,0)}_shouldReplaceFirstBlockWithParagraph(t,a){let e=this.editor.model;if(a>1||this.direction!="backward"||!t.isCollapsed)return!1;let n=t.getFirstPosition(),i=e.schema.getLimitElement(n),h=i.getChild(0);return n.parent==h&&!!t.containsEntireContent(h)&&!!e.schema.checkChild(i,"paragraph")&&h.name!="paragraph"}}class Af extends St{constructor(t){super(t);let a=t.document,e=0;function n(i,h,s){let d=new $6(a,"delete",a.selection.getFirstRange());a.fire(d,new D8(a,h,s)),d.stop.called&&i.stop()}a.on("keyup",(i,h)=>{h.keyCode!=M1.delete&&h.keyCode!=M1.backspace||(e=0)}),a.on("keydown",(i,h)=>{let s={};if(h.keyCode==M1.delete)s.direction="forward",s.unit="character";else{if(h.keyCode!=M1.backspace)return;s.direction="backward",s.unit="codePoint"}let d=v2.isMac?h.altKey:h.ctrlKey;s.unit=d?"word":s.unit,s.sequence=++e,n(i,h.domEvent,s)}),v2.isAndroid&&a.on("beforeinput",(i,h)=>{if(h.domEvent.inputType!="deleteContentBackward")return;let s={unit:"codepoint",direction:"backward",sequence:1},d=h.domTarget.ownerDocument.defaultView.getSelection();d.anchorNode==d.focusNode&&d.anchorOffset+1!=d.focusOffset&&(s.selectionToRemove=t.domConverter.domSelectionToView(d)),n(i,h.domEvent,s)})}observe(){}}class Ma extends ${static get pluginName(){return"Delete"}init(){let t=this.editor,a=t.editing.view,e=a.document;a.addObserver(Af);let n=new gc(t,"forward");if(t.commands.add("deleteForward",n),t.commands.add("forwardDelete",n),t.commands.add("delete",new gc(t,"backward")),this.listenTo(e,"delete",(i,h)=>{let s={unit:h.unit,sequence:h.sequence};if(h.selectionToRemove){let d=t.model.createSelection(),g=[];for(let p of h.selectionToRemove.getRanges())g.push(t.editing.mapper.toModelRange(p));d.setTo(g),s.selection=d}t.execute(h.direction=="forward"?"deleteForward":"delete",s),h.preventDefault(),a.scrollToTheSelection()},{priority:"low"}),v2.isAndroid){let i=null;this.listenTo(e,"delete",(h,s)=>{let d=s.domTarget.ownerDocument.defaultView.getSelection();i={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}},{priority:"lowest"}),this.listenTo(e,"keyup",(h,s)=>{if(i){let d=s.domTarget.ownerDocument.defaultView.getSelection();d.collapse(i.anchorNode,i.anchorOffset),d.extend(i.focusNode,i.focusOffset),i=null}})}}}class pc{constructor(){this._stack=[]}add(t,a){let e=this._stack,n=e[0];this._insertDescriptor(t);let i=e[0];n===i||H7(n,i)||this.fire("change:top",{oldDescriptor:n,newDescriptor:i,writer:a})}remove(t,a){let e=this._stack,n=e[0];this._removeDescriptor(t);let i=e[0];n===i||H7(n,i)||this.fire("change:top",{oldDescriptor:n,newDescriptor:i,writer:a})}_insertDescriptor(t){let a=this._stack,e=a.findIndex(i=>i.id===t.id);if(H7(t,a[e]))return;e>-1&&a.splice(e,1);let n=0;for(;a[n]&&bf(a[n],t);)n++;a.splice(n,0,t)}_removeDescriptor(t){let a=this._stack,e=a.findIndex(n=>n.id===t);e>-1&&a.splice(e,1)}}function H7(r,t){return r&&t&&r.priority==t.priority&&pe(r.classes)==pe(t.classes)}function bf(r,t){return r.priority>t.priority||!(r.priority<t.priority)&&pe(r.classes)>pe(t.classes)}function pe(r){return Array.isArray(r)?r.sort().join(","):r}i1(pc,U);function r2(r){return!!r.is("element")&&!!r.getCustomProperty("widget")}function V7(r,t,a={}){if(!r.is("containerElement"))throw new M.a("widget-to-widget-wrong-element-type",null,{element:r});return t.setAttribute("contenteditable","false",r),t.addClass("ck-widget",r),t.setCustomProperty("widget",!0,r),r.getFillerOffset=Of,a.label&&function(e,n,i){i.setCustomProperty("widgetLabel",n,e)}(r,a.label,t),a.hasSelectionHandle&&function(e,n){let i=n.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(h){let s=this.toDomElement(h),d=new he;return d.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),d.render(),s.appendChild(d.element),s});n.insert(n.createPositionAt(e,0),i),n.addClass(["ck-widget_with-selection-handle"],e)}(r,t),w7(r,t,yf,_f),r}function yf(r,t,a){if(t.classes&&a.addClass(u1(t.classes),r),t.attributes)for(let e in t.attributes)a.setAttribute(e,t.attributes[e],r)}function _f(r,t,a){if(t.classes&&a.removeClass(u1(t.classes),r),t.attributes)for(let e in t.attributes)a.removeAttribute(e,r)}function w7(r,t,a,e){let n=new pc;n.on("change:top",(i,h)=>{h.oldDescriptor&&e(r,h.oldDescriptor,h.writer),h.newDescriptor&&a(r,h.newDescriptor,h.writer)}),t.setCustomProperty("addHighlight",(i,h,s)=>n.add(h,s),r),t.setCustomProperty("removeHighlight",(i,h,s)=>n.remove(h,s),r)}function Sf(r){let t=r.getCustomProperty("widgetLabel");return t?typeof t=="function"?t():t:""}function L7(r,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],r),t.setAttribute("contenteditable",r.isReadOnly?"false":"true",r),r.on("change:isReadOnly",(a,e,n)=>{t.setAttribute("contenteditable",n?"false":"true",r)}),r.on("change:isFocused",(a,e,n)=>{n?t.addClass("ck-editor__nested-editable_focused",r):t.removeClass("ck-editor__nested-editable_focused",r)}),r}function ma(r,t){let a=r.getSelectedElement();if(a){let n=Q4(r);if(n)return t.createPositionAt(a,n);if(t.schema.isBlock(a))return t.createPositionAfter(a)}let e=r.getSelectedBlocks().next().value;if(e){if(e.isEmpty)return t.createPositionAt(e,0);let n=t.createPositionAfter(e);return r.focus.isTouching(n)?n:t.createPositionBefore(e)}return r.focus}function B7(r,t){let a=r.getSelectedElement();return!!a&&t.isObject(a)}function If(r,t){let a=new L1($1.window),e=a.getIntersection(r),n=t.height+p1.arrowVerticalOffset;if(r.top-n>a.top||r.bottom+n<a.bottom)return null;let i=e||r,h=i.left+i.width/2-t.width/2;return{top:Math.max(r.top,0)+p1.arrowVerticalOffset,left:h,name:"arrow_n"}}function Of(){return null}function K4(r,t,a){return r&&r2(r)&&!a.isInline(t)}function Q4(r){return r.getAttribute("widget-type-around")}let zc=[vt("arrowUp"),vt("arrowRight"),vt("arrowDown"),vt("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let r=112;r<=135;r++)zc.push(r);function fc(r){return!(!r.ctrlKey&&!r.metaKey)||zc.includes(r.keyCode)}c(60);let Mc=["before","after"],Ff=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild;class Pf extends ${static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ge,Ma]}constructor(t){super(t),this._currentFakeCaretModelElement=null}init(){let t=this.editor,a=t.editing.view;this.on("change:isEnabled",(e,n,i)=>{a.change(h=>{for(let s of a.document.roots)i?h.removeClass("ck-widget__type-around_disabled",s):h.addClass("ck-widget__type-around_disabled",s)}),i||t.model.change(h=>{h.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(t,a){let e=this.editor,n=e.editing.view;e.execute("insertParagraph",{position:e.model.createPositionAt(t,a)}),n.focus(),n.scrollToTheSelection()}_listenToIfEnabled(t,a,e,n){this.listenTo(t,a,(...i)=>{this.isEnabled&&e(...i)},n)}_insertParagraphAccordingToFakeCaretPosition(){let t=this.editor.model.document.selection,a=Q4(t);if(!a)return!1;let e=t.getSelectedElement();return this._insertParagraph(e,a),!0}_enableTypeAroundUIInjection(){let t=this.editor,a=t.model.schema,e=t.locale.t,n={before:e("Insert paragraph before block"),after:e("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(i,h,s)=>{let d=s.mapper.toViewElement(h.item);K4(d,h.item,a)&&function(g,p,z){let m=g.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(V){let B=this.toDomElement(V);return function(k,C){for(let S of Mc){let F=new Y0({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+S],title:C[S]},children:[k.ownerDocument.importNode(Ff,!0)]});k.appendChild(F.render())}}(B,p),function(k){let C=new Y0({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});k.appendChild(C.render())}(B),B});g.insert(g.createPositionAt(z,"end"),m)}(s.writer,n,d)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){let t=this.editor,a=t.model,e=a.document.selection,n=a.schema,i=t.editing.view;function h(s){return"ck-widget_type-around_show-fake-caret_"+s}this._listenToIfEnabled(i.document,"arrowKey",(s,d)=>{this._handleArrowKeyPress(s,d)},{context:[r2,"$text"],priority:"high"}),this._listenToIfEnabled(e,"change:range",(s,d)=>{d.directChange&&t.model.change(g=>{g.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(a.document,"change:data",()=>{let s=e.getSelectedElement();s&&K4(t.editing.mapper.toViewElement(s),s,n)||t.model.change(d=>{d.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(s,d,g)=>{let p=g.writer;if(this._currentFakeCaretModelElement){let B=g.mapper.toViewElement(this._currentFakeCaretModelElement);B&&(p.removeClass(Mc.map(h),B),this._currentFakeCaretModelElement=null)}let z=d.selection.getSelectedElement();if(!z)return;let m=g.mapper.toViewElement(z);if(!K4(m,z,n))return;let V=Q4(d.selection);V&&(p.addClass(h(V),m),this._currentFakeCaretModelElement=z)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(s,d,g)=>{g||t.model.change(p=>{p.removeSelectionAttribute("widget-type-around")})})}_handleArrowKeyPress(t,a){let e=this.editor,n=e.model,i=n.document.selection,h=n.schema,s=e.editing.view,d=ai(a.keyCode,e.locale.contentLanguageDirection),g=s.document.selection.getSelectedElement(),p;K4(g,e.editing.mapper.toModelElement(g),h)?p=this._handleArrowKeyPressOnSelectedWidget(d):i.isCollapsed&&(p=this._handleArrowKeyPressWhenSelectionNextToAWidget(d)),p&&(a.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){let a=this.editor.model,e=Q4(a.document.selection);return a.change(n=>e?e!==(t?"after":"before")?(n.removeSelectionAttribute("widget-type-around"),!0):!1:(n.setSelectionAttribute("widget-type-around",t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){let a=this.editor,e=a.model,n=e.schema,i=a.plugins.get("Widget"),h=i._getObjectElementNextToSelection(t);return!!K4(a.editing.mapper.toViewElement(h),h,n)&&(e.change(s=>{i._setSelectionOverElement(h),s.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}_enableInsertingParagraphsOnButtonClick(){let t=this.editor,a=t.editing.view;this._listenToIfEnabled(a.document,"mousedown",(e,n)=>{let i=n.domTarget.closest(".ck-widget__type-around__button");if(!i)return;let h=function(g){return g.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),s=function(g,p){let z=g.closest(".ck-widget");return p.mapDomToView(z)}(i,a.domConverter),d=t.editing.mapper.toModelElement(s);this._insertParagraph(d,h),n.preventDefault(),e.stop()})}_enableInsertingParagraphsOnEnterKeypress(){let t=this.editor,a=t.model.document.selection,e=t.editing.view;this._listenToIfEnabled(e.document,"enter",(n,i)=>{if(n.eventPhase!="atTarget")return;let h=a.getSelectedElement(),s=t.editing.mapper.toViewElement(h),d=t.model.schema,g;this._insertParagraphAccordingToFakeCaretPosition()?g=!0:K4(s,h,d)&&(this._insertParagraph(h,i.isSoft?"before":"after"),g=!0),g&&(i.preventDefault(),n.stop())},{context:r2})}_enableInsertingParagraphsOnTypingKeystroke(){let t=this.editor.editing.view,a=[M1.enter,M1.delete,M1.backspace];this._listenToIfEnabled(t.document,"keydown",(e,n)=>{a.includes(n.keyCode)||fc(n)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){let t=this.editor,a=t.editing.view,e=t.model,n=e.schema;this._listenToIfEnabled(a.document,"delete",(i,h)=>{if(i.eventPhase!="atTarget")return;let s=Q4(e.document.selection);if(!s)return;let d=h.direction,g=e.document.selection.getSelectedElement(),p=d=="forward";if(s==="before"===p)t.execute("delete",{selection:e.createSelection(g,"on")});else{let z=n.getNearestSelectionRange(e.createPositionAt(g,s),d);if(z)if(z.isCollapsed){let m=e.createSelection(z.start);if(e.modifySelection(m,{direction:d}),m.focus.isEqual(z.start)){let V=function(B,k){let C=k;for(let S of k.getAncestors({parentFirst:!0})){if(S.childCount>1||B.isLimit(S))break;C=S}return C}(n,z.start.parent);e.deleteContent(e.createSelection(V,"on"),{doNotAutoparagraph:!0})}else e.change(V=>{V.setSelection(z),t.execute(p?"deleteForward":"delete")})}else e.change(m=>{m.setSelection(z),t.execute(p?"deleteForward":"delete")})}h.preventDefault(),i.stop()},{context:r2})}_enableInsertContentIntegration(){let t=this.editor,a=this.editor.model,e=a.document.selection;this._listenToIfEnabled(t.model,"insertContent",(n,[i,h])=>{if(h&&!h.is("documentSelection"))return;let s=Q4(e);return s?(n.stop(),a.change(d=>{let g=e.getSelectedElement(),p=a.createPositionAt(g,s),z=d.createSelection(p),m=a.insertContent(i,z);return d.setSelection(z),m})):void 0},{priority:"high"})}}c(62);function Ef(r){let t=r.model;return(a,e)=>{let n=e.keyCode==M1.arrowup,i=e.keyCode==M1.arrowdown,h=e.shiftKey,s=t.document.selection;if(!n&&!i)return;let d=i;if(h&&function(p,z){return!p.isCollapsed&&p.isBackward==z}(s,d))return;let g=function(p,z,m){let V=p.model;if(m){let B=z.isCollapsed?z.focus:z.getLastPosition(),k=mc(V,B,"forward");if(!k)return null;let C=V.createRange(B,k),S=xc(V.schema,C,"backward");return S&&B.isBefore(S)?V.createRange(B,S):null}{let B=z.isCollapsed?z.focus:z.getFirstPosition(),k=mc(V,B,"backward");if(!k)return null;let C=V.createRange(k,B),S=xc(V.schema,C,"forward");return S&&B.isAfter(S)?V.createRange(S,B):null}}(r,s,d);g&&!g.isCollapsed&&function(p,z,m){let V=p.model,B=p.view.domConverter;if(m){let N=V.createSelection(z.start);V.modifySelection(N),N.focus.isAtEnd||z.start.isEqual(N.focus)||(z=V.createRange(N.focus,z.end))}let k=p.mapper.toViewRange(z),C=B.viewRangeToDom(k),S=L1.getDomRangeRects(C),F;for(let N of S)if(F!==void 0){if(Math.round(N.top)>=F)return!1;F=Math.max(F,Math.round(N.bottom))}else F=Math.round(N.bottom);return!0}(r,g,d)&&(t.change(p=>{let z=d?g.end:g.start;if(h){let m=t.createSelection(s.anchor);m.setFocus(z),p.setSelection(m)}else p.setSelection(z)}),a.stop(),e.preventDefault(),e.stopPropagation())}}function mc(r,t,a){let e=r.schema,n=r.createRangeIn(t.root),i=a=="forward"?"elementStart":"elementEnd";for(let{previousPosition:h,item:s,type:d}of n.getWalker({startPosition:t,direction:a})){if(e.isLimit(s)&&!e.isInline(s))return h;if(d==i&&e.isBlock(s))return null}return null}function xc(r,t,a){let e=a=="backward"?t.end:t.start;if(r.checkChild(e,"$text"))return e;for(let{nextPosition:n}of t.getWalker({direction:a}))if(r.checkChild(n,"$text"))return n}class ze extends ${static get pluginName(){return"Widget"}static get requires(){return[Pf,Ma]}init(){let t=this.editor.editing.view,a=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(e,n,i)=>{this._clearPreviouslySelectedWidgets(i.writer);let h=i.writer,s=h.document.selection,d=s.getSelectedElement(),g=null;for(let p of s.getRanges())for(let z of p){let m=z.item;r2(m)&&!Tf(m,g)&&(h.addClass("ck-widget_selected",m),this._previouslySelected.add(m),g=m,m==d&&h.setSelection(s.getRanges(),{fake:!0,label:Sf(d)}))}},{priority:"low"}),t.addObserver(de),this.listenTo(a,"mousedown",(...e)=>this._onMousedown(...e)),this.listenTo(a,"arrowKey",(...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)},{context:[r2,"$text"]}),this.listenTo(a,"arrowKey",(...e)=>{this._preventDefaultOnArrowKeyPress(...e)},{context:"$root"}),this.listenTo(a,"arrowKey",Ef(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(e,n)=>{this._handleDelete(n.direction=="forward")&&(n.preventDefault(),e.stop())},{context:"$root"})}_onMousedown(t,a){let e=this.editor,n=e.editing.view,i=n.document,h=a.target;if(function(d){for(;d;){if(d.is("editableElement")&&!d.is("rootElement"))return!0;if(r2(d))return!1;d=d.parent}return!1}(h)){if((v2.isSafari||v2.isGecko)&&a.domEvent.detail>=3){let d=e.editing.mapper,g=h.is("attributeElement")?h.findAncestor(z=>!z.is("attributeElement")):h,p=d.toModelElement(g);a.preventDefault(),this.editor.model.change(z=>{z.setSelection(p,"in")})}return}if(!r2(h)&&(h=h.findAncestor(r2),!h))return;v2.isAndroid&&a.preventDefault(),i.isFocused||n.focus();let s=e.editing.mapper.toModelElement(h);this._setSelectionOverElement(s)}_handleSelectionChangeOnArrowKeyPress(t,a){let e=a.keyCode,n=this.editor.model,i=n.schema,h=n.document.selection,s=h.getSelectedElement(),d=ai(e,this.editor.locale.contentLanguageDirection);if(s&&i.isObject(s)){let p=d?h.getLastPosition():h.getFirstPosition(),z=i.getNearestSelectionRange(p,d?"forward":"backward");return void(z&&(n.change(m=>{m.setSelection(z)}),a.preventDefault(),t.stop()))}if(!h.isCollapsed)return;let g=this._getObjectElementNextToSelection(d);g&&i.isObject(g)&&(this._setSelectionOverElement(g),a.preventDefault(),t.stop())}_preventDefaultOnArrowKeyPress(t,a){let e=this.editor.model,n=e.schema,i=e.document.selection.getSelectedElement();i&&n.isObject(i)&&(a.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;let a=this.editor.model.document.selection;if(!a.isCollapsed)return;let e=this._getObjectElementNextToSelection(t);return e?(this.editor.model.change(n=>{let i=a.anchor.parent;for(;i.isEmpty;){let h=i;i=h.parent,n.remove(h)}this._setSelectionOverElement(e)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(a=>{a.setSelection(a.createRangeOn(t))})}_getObjectElementNextToSelection(t){let a=this.editor.model,e=a.schema,n=a.document.selection,i=a.createSelection(n);a.modifySelection(i,{direction:t?"forward":"backward"});let h=t?i.focus.nodeBefore:i.focus.nodeAfter;return h&&e.isObject(h)?h:null}_clearPreviouslySelectedWidgets(t){for(let a of this._previouslySelected)t.removeClass("ck-widget_selected",a);this._previouslySelected.clear()}}function Tf(r,t){return!!t&&Array.from(r.getAncestors()).includes(t)}var Hc=function(r,t,a){var e=!0,n=!0;if(typeof r!="function")throw new TypeError("Expected a function");return b(a)&&(e="leading"in a?!!a.leading:e,n="trailing"in a?!!a.trailing:n),Z6(r,t,{leading:e,maxWait:t,trailing:n})};c(64);class Rf extends ${static get pluginName(){return"DragDrop"}static get requires(){return[d5,ze]}init(){let t=this.editor,a=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Hc(e=>this._updateDropMarker(e),40),this._removeDropMarkerDelayed=Lc(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Lc(()=>this._clearDraggableAttributes(),40),a.addObserver(x7),a.addObserver(de),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(e,n,i)=>{i?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(e,n,i)=>{i||this._finalizeDragging(!1)}),v2.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){let t=this.editor,a=t.model,e=a.document,n=t.editing.view,i=n.document;this.listenTo(i,"dragstart",(h,s)=>{let d=e.selection;if(s.target&&s.target.is("editableElement"))return void s.preventDefault();let g=s.target?Bc(s.target):null;if(g){let m=t.editing.mapper.toModelElement(g);this._draggedRange=ut.fromRange(a.createRangeOn(m))}else if(!i.selection.isCollapsed){let m=i.selection.getSelectedElement();m&&r2(m)||(this._draggedRange=ut.fromRange(d.getFirstRange()))}if(!this._draggedRange)return void s.preventDefault();this._draggingUid=x(),s.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",s.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);let p=a.createSelection(this._draggedRange.toRange()),z=t.data.toView(a.getSelectedContent(p));i.fire("clipboardOutput",{dataTransfer:s.dataTransfer,content:z,method:h.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(i,"dragend",(h,s)=>{this._finalizeDragging(!s.dataTransfer.isCanceled&&s.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(i,"dragenter",()=>{this.isEnabled&&n.focus()}),this.listenTo(i,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(i,"dragging",(h,s)=>{if(!this.isEnabled)return void(s.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();let d=Vc(t,s.targetRanges,s.target);this._draggedRange||(s.dataTransfer.dropEffect="copy"),v2.isGecko||(s.dataTransfer.effectAllowed=="copy"?s.dataTransfer.dropEffect="copy":["all","copyMove"].includes(s.dataTransfer.effectAllowed)&&(s.dataTransfer.dropEffect="move")),d&&this._updateDropMarkerThrottled(d)},{priority:"low"})}_setupClipboardInputIntegration(){let t=this.editor,a=t.editing.view.document;this.listenTo(a,"clipboardInput",(e,n)=>{if(n.method!="drop")return;let i=Vc(t,n.targetRanges,n.target);if(this._removeDropMarker(),!i)return this._finalizeDragging(!1),void e.stop();if(this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),wc(n.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(i,!0))return this._finalizeDragging(!1),void e.stop();n.targetRanges=[t.editing.mapper.toViewRange(i)]},{priority:"high"})}_setupContentInsertionIntegration(){let t=this.editor.plugins.get(d5);t.on("contentInsertion",(a,e)=>{if(!this.isEnabled||e.method!=="drop")return;let n=e.targetRanges.map(i=>this.editor.editing.mapper.toModelRange(i));this.editor.model.change(i=>i.setSelection(n))},{priority:"high"}),t.on("contentInsertion",(a,e)=>{if(!this.isEnabled||e.method!=="drop")return;let n=wc(e.dataTransfer)=="move",i=!e.resultRange||!e.resultRange.isCollapsed;this._finalizeDragging(i&&n)},{priority:"lowest"})}_setupDraggableAttributeHandling(){let t=this.editor,a=t.editing.view,e=a.document;this.listenTo(e,"mousedown",(n,i)=>{if(v2.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let h=Bc(i.target);if(v2.isBlink&&!t.isReadOnly&&!h&&!e.selection.isCollapsed){let s=e.selection.getSelectedElement();s&&r2(s)||(h=e.selection.editableElement)}h&&(a.change(s=>{s.setAttribute("draggable","true",h)}),this._draggableElement=t.editing.mapper.toModelElement(h))}),this.listenTo(e,"mouseup",()=>{v2.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){let t=this.editor.editing;t.view.change(a=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&a.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){let t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(a,{writer:e})=>{if(t.model.schema.checkChild(a.markerRange.start,"$text"))return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(n){let i=this.toDomElement(n);return i.innerHTML="&NoBreak;<span></span>&NoBreak;",i})}})}_updateDropMarker(t){let a=this.editor,e=a.model.markers;a.model.change(n=>{e.has("drop-target")?e.get("drop-target").getRange().isEqual(t)||n.updateMarker("drop-target",{range:t}):n.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){let t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(a=>{a.removeMarker("drop-target")})}_finalizeDragging(t){let a=this.editor.model;this._removeDropMarker(),this._clearDraggableAttributes(),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&a.deleteContent(a.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Vc(r,t,a){let e=r.model,n=r.editing.mapper,i=null,h=t?t[0].start:null;if(a.is("uiElement")&&(a=a.parent),i=function(g,p){let z=g.model,m=g.editing.mapper;if(r2(p))return z.createRangeOn(m.toModelElement(p));if(!p.is("editableElement")){let V=p.findAncestor(B=>r2(B)||B.is("editableElement"));if(r2(V))return z.createRangeOn(m.toModelElement(V))}return null}(r,a),i)return i;let s=function(g,p){let z=g.editing.mapper,m=g.editing.view,V=z.toModelElement(p);if(V)return V;let B=m.createPositionBefore(p),k=z.findMappedViewAncestor(B);return z.toModelElement(k)}(r,a),d=h?n.toModelPosition(h):null;return d?(i=function(g,p,z){let m=g.model;if(!m.schema.checkChild(z,"$block"))return null;let V=m.createPositionAt(z,0),B=p.path.slice(0,V.path.length),k=m.createPositionFromPath(p.root,B).nodeAfter;return k&&m.schema.isObject(k)?m.createRangeOn(k):null}(r,d,s),i||(i=e.schema.getNearestSelectionRange(d,v2.isGecko?"forward":"backward"),i||function(g,p){let z=g.model;for(;p;){if(z.schema.isObject(p))return z.createRangeOn(p);p=p.parent}}(r,d.parent))):function(g,p){let z=g.model,m=z.schema,V=z.createPositionAt(p,0);return m.getNearestSelectionRange(V,"forward")}(r,s)}function wc(r){return v2.isGecko?r.dropEffect:["all","copyMove"].includes(r.effectAllowed)?"move":"copy"}function Lc(r,t){let a;function e(...n){e.cancel(),a=setTimeout(()=>r(...n),t)}return e.cancel=()=>{clearTimeout(a)},e}function Bc(r){if(r.is("editableElement"))return null;if(r.hasClass("ck-widget__selection-handle"))return r.findAncestor(r2);if(r2(r))return r;let t=r.findAncestor(a=>r2(a)||a.is("editableElement"));return r2(t)?t:null}class Df extends ${static get pluginName(){return"PastePlainText"}static get requires(){return[d5]}init(){let t=this.editor,a=t.model,e=t.editing.view,n=e.document,i=a.document.selection,h=!1;e.addObserver(x7),this.listenTo(n,"keydown",(s,d)=>{h=d.shiftKey}),t.plugins.get(d5).on("contentInsertion",(s,d)=>{(h||function(g,p){if(g.childCount>1)return!1;let z=g.getChild(0);return p.isObject(z)?!1:[...z.getAttributeKeys()].length==0}(d.content,a.schema))&&a.change(g=>{let p=Array.from(i.getAttributes()).filter(([m])=>a.schema.getAttributeProperties(m).isFormatting);i.isCollapsed||a.deleteContent(i,{doNotAutoparagraph:!0}),p.push(...i.getAttributes());let z=g.createRangeIn(d.content);for(let m of z.getItems())m.is("$textProxy")&&g.setAttributes(p,m)})})}}class kc extends ${static get pluginName(){return"Clipboard"}static get requires(){return[d5,Rf,Df]}}class Nf extends n1{execute(){let t=this.editor.model,a=t.document;t.change(e=>{(function(n,i,h){let s=h.isCollapsed,d=h.getFirstRange(),g=d.start.parent,p=d.end.parent,z=g==p;if(s){let m=sc(n.schema,h.getAttributes());Cc(n,i,d.end),i.removeSelectionAttribute(h.getAttributeKeys()),i.setSelectionAttribute(m)}else{let m=!(d.start.isAtStart&&d.end.isAtEnd);n.deleteContent(h,{leaveUnmerged:m}),z?Cc(n,i,h.focus):m&&i.setSelection(p,0)}})(t,e,a.selection),this.fire("afterExecute",{writer:e})})}refresh(){let t=this.editor.model,a=t.document;this.isEnabled=function(e,n){if(n.rangeCount>1)return!1;let i=n.anchor;if(!i||!e.checkChild(i,"softBreak"))return!1;let h=n.getFirstRange(),s=h.start.parent,d=h.end.parent;return!((k7(s,e)||k7(d,e))&&s!==d)}(t.schema,a.selection)}}function Cc(r,t,a){let e=t.createElement("softBreak");r.insertContent(e,a),t.setSelection(e,"after")}function k7(r,t){return!r.is("rootElement")&&(t.isLimit(r)||k7(r.parent,t))}class jf extends ${static get pluginName(){return"ShiftEnter"}init(){let t=this.editor,a=t.model.schema,e=t.conversion,n=t.editing.view,i=n.document;a.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:(h,{writer:s})=>s.createEmptyElement("br")}),n.addObserver(dc),t.commands.add("shiftEnter",new Nf(t)),this.listenTo(i,"enter",(h,s)=>{s.preventDefault(),s.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())},{priority:"low"})}}class Wf extends n1{execute(){let t=this.editor.model,a=t.document.selection,e=t.schema.getLimitElement(a);if(a.containsEntireContent(e)||!Ac(t.schema,e))do if(e=e.parent,!e)return;while(!Ac(t.schema,e));t.change(n=>{n.setSelection(e,"in")})}}function Ac(r,t){return r.isLimit(t)&&(r.checkChild(t,"$text")||r.checkChild(t,"paragraph"))}let Uf=_8("Ctrl+A");class qf extends ${static get pluginName(){return"SelectAllEditing"}init(){let t=this.editor,a=t.editing.view.document;t.commands.add("selectAll",new Wf(t)),this.listenTo(a,"keydown",(e,n)=>{vt(n)===Uf&&(t.execute("selectAll"),n.preventDefault())})}}class Gf extends ${static get pluginName(){return"SelectAllUI"}init(){let t=this.editor;t.ui.componentFactory.add("selectAll",a=>{let e=t.commands.get("selectAll"),n=new K1(a),i=a.t;return n.set({label:i("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),n.bind("isOn","isEnabled").to(e,"value","isEnabled"),this.listenTo(n,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),n})}}class $f extends ${static get requires(){return[qf,Gf]}static get pluginName(){return"SelectAll"}}class Kf extends n1{constructor(t,a){super(t),this._buffer=new uc(t.model,a),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){let a=this.editor.model,e=a.document,n=t.text||"",i=n.length,h=t.range?a.createSelection(t.range):e.selection,s=t.resultRange;a.enqueueChange(this._buffer.batch,d=>{this._buffer.lock(),this._batches.add(this._buffer.batch),a.deleteContent(h),n&&a.insertContent(d.createText(n,e.selection.getAttributes()),h),s?d.setSelection(s):h.is("documentSelection")||d.setSelection(h),this._buffer.unlock(),this._buffer.input(i)})}}function bc(r){if(r.newChildren.length-r.oldChildren.length!=1)return;let t=function(e,n){let i=[],h,s=0;return e.forEach(p=>{p=="equal"?(d(),s++):p=="insert"?(g("insert")?h.values.push(n[s]):(d(),h={type:"insert",index:s,values:[n[s]]}),s++):g("delete")?h.howMany++:(d(),h={type:"delete",index:s,howMany:1})}),d(),i;function d(){h&&(i.push(h),h=null)}function g(p){return h&&h.type==p}}(s5(r.oldChildren,r.newChildren,Qf),r.newChildren);if(t.length>1)return;let a=t[0];return a.values[0]&&a.values[0].is("$text")?a:void 0}function Qf(r,t){return r&&r.is("$text")&&t&&t.is("$text")?r.data===t.data:r===t}class Yf{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,a){if(function(e){if(e.length==0)return!1;for(let n of e)if(n.type==="children"&&!bc(n))return!0;return!1}(t))this._handleContainerChildrenMutations(t,a);else for(let e of t)this._handleTextMutation(e,a),this._handleTextNodeInsertion(e)}_handleContainerChildrenMutations(t,a){let e=function(m2){let k2=m2.map(x2=>x2.node).reduce((x2,e0)=>x2.getCommonAncestor(e0,{includeSelf:!0}));if(!!k2)return k2.getAncestors({includeSelf:!0,parentFirst:!0}).find(x2=>x2.is("containerElement")||x2.is("rootElement"))}(t);if(!e)return;let n=this.editor.editing.view.domConverter.mapViewToDom(e),i=new Y6(this.editor.editing.view.document),h=this.editor.data.toModel(i.domToView(n)).getChild(0),s=this.editor.editing.mapper.toModelElement(e);if(!s)return;let d=Array.from(h.getChildren()),g=Array.from(s.getChildren()),p=d[d.length-1],z=g[g.length-1],m=p&&p.is("element","softBreak"),V=z&&!z.is("element","softBreak");m&&V&&d.pop();let B=this.editor.model.schema;if(!yc(d,B)||!yc(g,B))return;let k=d.map(m2=>m2.is("$text")?m2.data:"@").join("").replace(/\u00A0/g," "),C=g.map(m2=>m2.is("$text")?m2.data:"@").join("").replace(/\u00A0/g," ");if(C===k)return;let S=s5(C,k),{firstChangeAt:F,insertions:N,deletions:Q}=_c(S),h1=null;a&&(h1=this.editing.mapper.toModelRange(a.getFirstRange()));let P1=k.substr(F,N),x1=this.editor.model.createRange(this.editor.model.createPositionAt(s,F),this.editor.model.createPositionAt(s,F+Q));this.editor.execute("input",{text:P1,range:x1,resultRange:h1})}_handleTextMutation(t,a){if(t.type!="text")return;let e=t.newText.replace(/\u00A0/g," "),n=t.oldText.replace(/\u00A0/g," ");if(n===e)return;let i=s5(n,e),{firstChangeAt:h,insertions:s,deletions:d}=_c(i),g=null;a&&(g=this.editing.mapper.toModelRange(a.getFirstRange()));let p=this.editing.view.createPositionAt(t.node,h),z=this.editing.mapper.toModelPosition(p),m=this.editor.model.createRange(z,z.getShiftedBy(d)),V=e.substr(h,s);this.editor.execute("input",{text:V,range:m,resultRange:g})}_handleTextNodeInsertion(t){if(t.type!="children")return;let a=bc(t),e=this.editing.view.createPositionAt(t.node,a.index),n=this.editing.mapper.toModelPosition(e),i=a.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:this.editor.model.createRange(n)})}}function yc(r,t){return r.every(a=>t.isInline(a))}function _c(r){let t=null,a=null;for(let i=0;i<r.length;i++)r[i]!="equal"&&(t=t===null?i:t,a=i);let e=0,n=0;for(let i=t;i<=a;i++)r[i]!="insert"&&e++,r[i]!="delete"&&n++;return{insertions:n,deletions:e,firstChangeAt:t}}class Sc extends ${static get pluginName(){return"Input"}init(){let t=this.editor,a=new Kf(t,t.config.get("typing.undoStep")||20);t.commands.add("input",a),function(e){let n=null,i=e.model,h=e.editing.view,s=e.commands.get("input");function d(p){let z=i.document,m=h.document.isComposing,V=n&&n.isEqual(z.selection);n=null,s.isEnabled&&(fc(p)||z.selection.isCollapsed||m&&p.keyCode===229||!m&&p.keyCode===229&&V||g())}function g(){let p=s.buffer;p.lock();let z=p.batch;s._batches.add(z),i.enqueueChange(z,()=>{i.deleteContent(i.document.selection)}),p.unlock()}v2.isAndroid?h.document.on("beforeinput",(p,z)=>d(z),{priority:"lowest"}):h.document.on("keydown",(p,z)=>d(z),{priority:"lowest"}),h.document.on("compositionstart",function(){let p=i.document,z=p.selection.rangeCount!==1||p.selection.getFirstRange().isFlat;p.selection.isCollapsed||z||g()},{priority:"lowest"}),h.document.on("compositionend",()=>{n=i.createSelection(i.document.selection)},{priority:"lowest"})}(t),function(e){e.editing.view.document.on("mutations",(n,i,h)=>{new Yf(e).handle(i,h)})}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}class Xf extends ${static get requires(){return[Sc,Ma]}static get pluginName(){return"Typing"}}function Ic(r,t){let a=r.start;return{text:Array.from(r.getItems()).reduce((e,n)=>n.is("$text")||n.is("$textProxy")?e+n.data:(a=t.createPositionAfter(n),""),""),range:t.createRange(a,r.end)}}class C7{constructor(t,a){this.model=t,this.testCallback=a,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}_startListening(){let t=this.model.document;this.listenTo(t.selection,"change:range",(a,{directChange:e})=>{e&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(t,"change:data",(a,e)=>{e.type!="transparent"&&this._evaluateTextBeforeSelection("data",{batch:e})})}_evaluateTextBeforeSelection(t,a={}){let e=this.model,n=e.document.selection,i=e.createRange(e.createPositionAt(n.focus.parent,0),n.focus),{text:h,range:s}=Ic(i,e),d=this.testCallback(h);if(!d&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!d,d){let g=Object.assign(a,{text:h,range:s});typeof d=="object"&&Object.assign(g,d),this.fire("matched:"+t,g)}}}i1(C7,w1);class Oc extends ${static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){let t=this.editor,a=t.model,e=t.editing.view,n=t.locale,i=a.document.selection;this.listenTo(e.document,"arrowKey",(h,s)=>{if(!i.isCollapsed||s.shiftKey||s.altKey||s.ctrlKey)return;let d=s.keyCode==M1.arrowright,g=s.keyCode==M1.arrowleft;if(!d&&!g)return;let p=n.contentLanguageDirection,z=!1;z=p==="ltr"&&d||p==="rtl"&&g?this._handleForwardMovement(s):this._handleBackwardMovement(s),z===!0&&h.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(i,"change:range",(h,s)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!s.directChange&&Me(i.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){let a=this.attributes,e=this.editor.model.document.selection,n=e.getFirstPosition();return!this._isGravityOverridden&&(!n.isAtStart||!A7(e,a))&&(Me(n,a)?(fe(t),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(t){let a=this.attributes,e=this.editor.model,n=e.document.selection,i=n.getFirstPosition();return this._isGravityOverridden?(fe(t),this._restoreGravity(),b7(e,a,i),!0):i.isAtStart?!!A7(n,a)&&(fe(t),b7(e,a,i),!0):function(h,s){return Me(h.getShiftedBy(-1),s)}(i,a)?i.isAtEnd&&!A7(n,a)&&Me(i,a)?(fe(t),b7(e,a,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function A7(r,t){for(let a of t)if(r.hasAttribute(a))return!0;return!1}function b7(r,t,a){let e=a.nodeBefore;r.change(n=>{e?n.setSelectionAttribute(e.getAttributes()):n.removeSelectionAttribute(t)})}function fe(r){r.preventDefault()}function Me(r,t){let{nodeBefore:a,nodeAfter:e}=r;for(let n of t){let i=a?a.getAttribute(n):void 0;if((e?e.getAttribute(n):void 0)!==i)return!0}return!1}var Fc=/[\\^$.*+?()[\]{}|]/g,Jf=RegExp(Fc.source),Zf=function(r){return(r=m8(r))&&Jf.test(r)?r.replace(Fc,"\\$&"):r};let tM={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xBD"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xBC"},threeQuarters:{from:"3/4",to:"\xBE"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Y4('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Y4("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Y4("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Y4('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Y4('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Y4("'"),to:[null,"\u201A",null,"\u2019"]}},Pc={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},aM=["symbols","mathematical","typography","quotes"];function eM(r){return typeof r=="string"?new RegExp(`(${Zf(r)})$`):r}function rM(r){return typeof r=="string"?()=>[r]:r instanceof Array?()=>r:r}function nM(r){return(r.textNode?r.textNode:r.nodeAfter).getAttributes()}function Y4(r){return new RegExp(`(^|\\s)(${r})([^${r}]*)(${r})$`)}function X4(r,t,a,e){return e.createRange(Ec(r,t,a,!0,e),Ec(r,t,a,!1,e))}function Ec(r,t,a,e,n){let i=r.textNode||(e?r.nodeBefore:r.nodeAfter),h=null;for(;i&&i.getAttribute(t)==a;)h=i,i=e?i.previousSibling:i.nextSibling;return h?n.createPositionAt(h,e?"before":"after"):r}class Tc extends n1{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",()=>this.clearStack())}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){let a=this.editor.model.document.selection,e={ranges:a.hasOwnRange?Array.from(a.getRanges()):[],isBackward:a.isBackward};this._stack.push({batch:t,selection:e}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,a,e){let n=this.editor.model,i=n.document,h=[],s=t.map(g=>g.getTransformedByOperations(e)),d=s.flat();for(let g of s){let p=g.filter(z=>z.root!=i.graveyard).filter(z=>!iM(z,d));p.length&&(oM(p),h.push(p[0]))}h.length&&n.change(g=>{g.setSelection(h,{backward:a})})}_undo(t,a){let e=this.editor.model,n=e.document;this._createdBatches.add(a);let i=t.operations.slice().filter(h=>h.isDocumentOperation);i.reverse();for(let h of i){let s=h.baseVersion+1,d=Array.from(n.history.getOperations(s)),g=Hf([h.getReversed()],d,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let p of g)a.addOperation(p),e.applyOperation(p),n.history.setOperationAsUndone(h,p)}}}function oM(r){r.sort((t,a)=>t.start.isBefore(a.start)?-1:1);for(let t=1;t<r.length;t++){let a=r[t-1].getJoined(r[t],!0);a&&(t--,r.splice(t,2,a))}}function iM(r,t){return t.some(a=>a!==r&&a.containsRange(r,!0))}class lM extends Tc{execute(t=null){let a=t?this._stack.findIndex(i=>i.batch==t):this._stack.length-1,e=this._stack.splice(a,1)[0],n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,()=>{this._undo(e.batch,n);let i=this.editor.model.document.history.getOperations(e.batch.baseVersion);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this.fire("revert",e.batch,n)}),this.refresh()}}class cM extends Tc{execute(){let t=this._stack.pop(),a=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(a,()=>{let e=t.batch.operations[t.batch.operations.length-1].baseVersion+1,n=this.editor.model.document.history.getOperations(e);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,a)}),this.refresh()}}class hM extends ${static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){let t=this.editor;this._undoCommand=new lM(t),this._redoCommand=new cM(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(a,e)=>{let n=e[0];if(!n.isDocumentOperation)return;let i=n.batch,h=this._redoCommand._createdBatches.has(i),s=this._undoCommand._createdBatches.has(i);this._batchRegistry.has(i)||i.type=="transparent"&&!h&&!s||(h?this._undoCommand.addBatch(i):s||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(a,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Rc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Dc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class sM extends ${static get pluginName(){return"UndoUI"}init(){let t=this.editor,a=t.locale,e=t.t,n=a.uiLanguageDirection=="ltr"?Rc:Dc,i=a.uiLanguageDirection=="ltr"?Dc:Rc;this._addButton("undo",e("Undo"),"CTRL+Z",n),this._addButton("redo",e("Redo"),"CTRL+Y",i)}_addButton(t,a,e,n){let i=this.editor;i.ui.componentFactory.add(t,h=>{let s=i.commands.get(t),d=new K1(h);return d.set({label:a,icon:n,keystroke:e,tooltip:!0}),d.bind("isEnabled").to(s,"isEnabled"),this.listenTo(d,"execute",()=>{i.execute(t),i.editing.view.focus()}),d})}}class Nc extends ${static get requires(){return[hM,sM]}static get pluginName(){return"Undo"}}class jc{constructor(){let t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=a=>{this.loaded=a.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){let a=this._reader;return this.total=t.size,new Promise((e,n)=>{a.onload=()=>{let i=a.result;this._data=i,e(i)},a.onerror=()=>{n("error")},a.onabort=()=>{n("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}i1(jc,w1);class pt extends ${static get pluginName(){return"FileRepository"}static get requires(){return[Sl]}init(){this.loaders=new X1,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,a)=>a?t/a*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return Object(M.b)("filerepository-no-upload-adapter"),null;let a=new y7(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(a),this._loadersMap.set(t,a),t instanceof Promise&&a.file.then(e=>{this._loadersMap.set(e,a)}).catch(()=>{}),a.on("change:uploaded",()=>{let e=0;for(let n of this.loaders)e+=n.uploaded;this.uploaded=e}),a.on("change:uploadTotal",()=>{let e=0;for(let n of this.loaders)n.uploadTotal&&(e+=n.uploadTotal);this.uploadTotal=e}),a}destroyLoader(t){let a=t instanceof y7?t:this.getLoader(t);a._destroy(),this.loaders.remove(a),this._loadersMap.forEach((e,n)=>{e===a&&this._loadersMap.delete(n)})}_updatePendingAction(){let t=this.editor.plugins.get(Sl);if(this.loaders.length){if(!this._pendingAction){let a=this.editor.t,e=n=>`${a("Upload in progress")} ${parseInt(n)}%.`;this._pendingAction=t.add(e(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",e)}}else t.remove(this._pendingAction),this._pendingAction=null}}i1(pt,w1);class y7{constructor(t,a){this.id=x(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=a(this),this._reader=new jc,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,n)=>n?e/n*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new M.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if(this.status!=="reading")throw this.status;return this.status="idle",t}).catch(t=>{throw t==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if(this.status!="idle")throw new M.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw this.status==="aborted"?"aborted":(this.status="error",t)})}abort(){let t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?t=="reading"?this._reader.abort():t=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){let a={};return a.promise=new Promise((e,n)=>{a.rejecter=n,a.isFulfilled=!1,t.then(i=>{a.isFulfilled=!0,e(i)}).catch(i=>{a.isFulfilled=!0,n(i)})}),a}}i1(y7,w1);class vM extends g1{constructor(t){super(t),this.buttonView=new K1(t),this._fileInputView=new dM(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class dM extends g1{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);let a=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:a.to("acceptedType"),multiple:a.to("allowMultipleFiles")},on:{change:a.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function uM(){let r=function(e){e=e.toLowerCase();let n=document.cookie.split(";");for(let i of n){let h=i.split("=");if(decodeURIComponent(h[0].trim().toLowerCase())===e)return decodeURIComponent(h[1])}return null}("ckCsrfToken");var t,a;return r&&r.length==40||(r=function(e){let n="",i=new Uint8Array(e);window.crypto.getRandomValues(i);for(let h=0;h<i.length;h++){let s="abcdefghijklmnopqrstuvwxyz0123456789".charAt(i[h]%"abcdefghijklmnopqrstuvwxyz0123456789".length);n+=Math.random()>.5?s.toUpperCase():s}return n}(40),t="ckCsrfToken",a=r,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(a)+";path=/"),r}class gM{constructor(t,a,e){this.loader=t,this.url=a,this.t=e}upload(){return this.loader.file.then(t=>new Promise((a,e)=>{this._initRequest(),this._initListeners(a,e,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){let t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,a,e){let n=this.xhr,i=this.loader,h=(0,this.t)("Cannot upload file:")+` ${e.name}.`;n.addEventListener("error",()=>a(h)),n.addEventListener("abort",()=>a()),n.addEventListener("load",()=>{let s=n.response;if(!s||!s.uploaded)return a(s&&s.error&&s.error.message?s.error.message:h);t({default:s.url})}),n.upload&&n.upload.addEventListener("progress",s=>{s.lengthComputable&&(i.uploadTotal=s.total,i.uploaded=s.loaded)})}_sendRequest(t){let a=new FormData;a.append("upload",t),a.append("ckCsrfToken",uM()),this.xhr.send(a)}}function u5(r,t,a,e){let n,i=null;typeof e=="function"?n=e:(i=r.commands.get(e),n=()=>{r.execute(e)}),r.model.document.on("change:data",(h,s)=>{if(i&&!i.isEnabled||!t.isEnabled)return;let d=Z2(r.model.document.selection.getRanges());if(!d.isCollapsed||s.type=="transparent")return;let g=Array.from(r.model.document.differ.getChanges()),p=g[0];if(g.length!=1||p.type!=="insert"||p.name!="$text"||p.length!=1)return;let z=p.position.parent;if(z.is("element","codeBlock")||z.is("element","listItem")&&typeof e!="function"&&!["numberedList","bulletedList","todoList"].includes(e)||i&&i.value===!0)return;let m=z.getChild(0),V=r.model.createRangeOn(m);if(!V.containsRange(d)&&!d.end.isEqual(V.end))return;let B=a.exec(m.data.substr(0,d.end.offset));B&&r.model.enqueueChange(k=>{let C=k.createPositionAt(z,0),S=k.createPositionAt(z,B[0].length),F=new ut(C,S);if(n({match:B})!==!1){k.remove(F);let N=r.model.document.selection.getFirstRange(),Q=k.createRangeIn(z);!z.isEmpty||Q.isEqual(N)||Q.containsRange(N,!0)||k.remove(z)}F.detach()})})}function J4(r,t,a,e){let n,i;a instanceof RegExp?n=a:i=a,i=i||(h=>{let s,d=[],g=[];for(;(s=n.exec(h))!==null&&!(s&&s.length<4);){let{index:p,1:z,2:m,3:V}=s,B=z+m+V;p+=s[0].length-B.length;let k=[p,p+z.length],C=[p+z.length+m.length,p+z.length+m.length+V.length];d.push(k),d.push(C),g.push([p+z.length,p+z.length+m.length])}return{remove:d,format:g}}),r.model.document.on("change:data",(h,s)=>{if(s.type=="transparent"||!t.isEnabled)return;let d=r.model,g=d.document.selection;if(!g.isCollapsed)return;let p=Array.from(d.document.differ.getChanges()),z=p[0];if(p.length!=1||z.type!=="insert"||z.name!="$text"||z.length!=1)return;let m=g.focus,V=m.parent,{text:B,range:k}=function(N,Q){let h1=N.start;return{text:Array.from(N.getItems()).reduce((P1,x1)=>!x1.is("$text")&&!x1.is("$textProxy")||x1.getAttribute("code")?(h1=Q.createPositionAfter(x1),""):P1+x1.data,""),range:Q.createRange(h1,N.end)}}(d.createRange(d.createPositionAt(V,0),m),d),C=i(B),S=Wc(k.start,C.format,d),F=Wc(k.start,C.remove,d);S.length&&F.length&&d.enqueueChange(N=>{if(e(N,S)!==!1)for(let Q of F.reverse())N.remove(Q)})})}function Wc(r,t,a){return t.filter(e=>e[0]!==void 0&&e[1]!==void 0).map(e=>a.createRange(r.getShiftedBy(e[0]),r.getShiftedBy(e[1])))}function me(r,t){return(a,e)=>{if(!r.commands.get(t).isEnabled)return!1;let n=r.model.schema.getValidRanges(e,t);for(let i of n)a.setAttribute(t,!0,i);a.removeSelectionAttribute(t)}}class Uc extends n1{constructor(t,a){super(t),this.attributeKey=a}refresh(){let t=this.editor.model,a=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(a.selection,this.attributeKey)}execute(t={}){let a=this.editor.model,e=a.document.selection,n=t.forceValue===void 0?!this.value:t.forceValue;a.change(i=>{if(e.isCollapsed)n?i.setSelectionAttribute(this.attributeKey,!0):i.removeSelectionAttribute(this.attributeKey);else{let h=a.schema.getValidRanges(e.getRanges(),this.attributeKey);for(let s of h)n?i.setAttribute(this.attributeKey,n,s):i.removeAttribute(this.attributeKey,s)}})}_getValueFromFirstAllowedNode(){let t=this.editor.model,a=t.schema,e=t.document.selection;if(e.isCollapsed)return e.hasAttribute(this.attributeKey);for(let n of e.getRanges())for(let i of n.getItems())if(a.checkAttribute(i,this.attributeKey))return i.hasAttribute(this.attributeKey);return!1}}class pM extends ${static get pluginName(){return"BoldEditing"}init(){let t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",a=>{let e=a.getStyle("font-weight");return e?e=="bold"||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new Uc(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}class zM extends ${static get pluginName(){return"BoldUI"}init(){let t=this.editor,a=t.t;t.ui.componentFactory.add("bold",e=>{let n=t.commands.get("bold"),i=new K1(e);return i.set({label:a("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute("bold"),t.editing.view.focus()}),i})}}class fM extends ${static get pluginName(){return"ItalicEditing"}init(){let t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new Uc(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}class MM extends ${static get pluginName(){return"ItalicUI"}init(){let t=this.editor,a=t.t;t.ui.componentFactory.add("italic",e=>{let n=t.commands.get("italic"),i=new K1(e);return i.set({label:a("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute("italic"),t.editing.view.focus()}),i})}}class mM extends n1{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){let a=this.editor.model,e=a.schema,n=a.document.selection,i=Array.from(n.getSelectedBlocks()),h=t.forceValue===void 0?!this.value:t.forceValue;a.change(s=>{if(h){let d=i.filter(g=>xe(g)||Gc(e,g));this._applyQuote(s,d)}else this._removeQuote(s,i.filter(xe))})}_getValue(){let t=Z2(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!xe(t))}_checkEnabled(){if(this.value)return!0;let t=this.editor.model.document.selection,a=this.editor.model.schema,e=Z2(t.getSelectedBlocks());return!!e&&Gc(a,e)}_removeQuote(t,a){qc(t,a).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){let i=t.createPositionBefore(e.start.parent);return void t.move(e,i)}e.end.isAtEnd||t.split(e.end);let n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,a){let e=[];qc(t,a).reverse().forEach(n=>{let i=xe(n.start);i||(i=t.createElement("blockQuote"),t.wrap(n,i)),e.push(i)}),e.reverse().reduce((n,i)=>n.nextSibling==i?(t.merge(t.createPositionAfter(n)),n):i)}}function xe(r){return r.parent.name=="blockQuote"?r.parent:null}function qc(r,t){let a,e=0,n=[];for(;e<t.length;){let i=t[e],h=t[e+1];a||(a=r.createPositionBefore(i)),h&&i.nextSibling==h||(n.push(r.createRange(a,r.createPositionAfter(i))),a=null),e++}return n}function Gc(r,t){let a=r.checkChild(t.parent,"blockQuote"),e=r.checkChild(["$root","blockQuote"],t);return a&&e}class xM extends ${static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[ge,Ma]}init(){let t=this.editor,a=t.model.schema;t.commands.add("blockQuote",new mM(t)),a.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(h=>{let s=t.model.document.differ.getChanges();for(let d of s)if(d.type=="insert"){let g=d.position.nodeAfter;if(!g)continue;if(g.is("element","blockQuote")&&g.isEmpty)return h.remove(g),!0;if(g.is("element","blockQuote")&&!a.checkChild(d.position,g))return h.unwrap(g),!0;if(g.is("element")){let p=h.createRangeIn(g);for(let z of p.getItems())if(z.is("element","blockQuote")&&!a.checkChild(h.createPositionBefore(z),z))return h.unwrap(z),!0}}else if(d.type=="remove"){let g=d.position.parent;if(g.is("element","blockQuote")&&g.isEmpty)return h.remove(g),!0}return!1});let e=this.editor.editing.view.document,n=t.model.document.selection,i=t.commands.get("blockQuote");this.listenTo(e,"enter",(h,s)=>{!n.isCollapsed||!i.value||n.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),s.preventDefault(),h.stop())},{context:"blockquote"}),this.listenTo(e,"delete",(h,s)=>{if(s.direction!="backward"||!n.isCollapsed||!i.value)return;let d=n.getLastPosition().parent;d.isEmpty&&!d.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),s.preventDefault(),h.stop())},{context:"blockquote"})}}c(66);class HM extends ${static get pluginName(){return"BlockQuoteUI"}init(){let t=this.editor,a=t.t;t.ui.componentFactory.add("blockQuote",e=>{let n=t.commands.get("blockQuote"),i=new K1(e);return i.set({label:a("Block quote"),icon:qz,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(i,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),i})}}class VM extends ${static get pluginName(){return"CKFinderUI"}init(){let t=this.editor,a=t.ui.componentFactory,e=t.t;a.add("ckfinder",n=>{let i=t.commands.get("ckfinder"),h=new K1(n);return h.set({label:e("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isEnabled").to(i),h.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),h})}}class wM extends n1{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){let t=this.editor.commands.get("insertImage"),a=this.editor.commands.get("link");this.isEnabled=t.isEnabled||a.isEnabled}execute(){let t=this.editor,a=this.editor.config.get("ckfinder.openerMethod")||"modal";if(a!="popup"&&a!="modal")throw new M.a("ckfinder-unknown-openermethod",t);let e=this.editor.config.get("ckfinder.options")||{};e.chooseFiles=!0;let n=e.onInit;e.language||(e.language=t.locale.uiLanguage),e.onInit=i=>{n&&n(i),i.on("files:choose",h=>{let s=h.data.files.toArray(),d=s.filter(z=>!z.isImage()),g=s.filter(z=>z.isImage());for(let z of d)t.execute("link",z.getUrl());let p=[];for(let z of g){let m=z.getUrl();p.push(m||i.request("file:getProxyUrl",{file:z}))}p.length&&$c(t,p)}),i.on("file:choose:resizedImage",h=>{let s=h.data.resizedUrl;if(s)$c(t,[s]);else{let d=t.plugins.get("Notification"),g=t.locale.t;d.showWarning(g("Could not obtain resized image URL."),{title:g("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[a](e)}}function $c(r,t){if(r.commands.get("insertImage").isEnabled)r.execute("insertImage",{source:t});else{let a=r.plugins.get("Notification"),e=r.locale.t;a.showWarning(e("Could not insert image at the current position."),{title:e("Inserting image failed"),namespace:"ckfinder"})}}class LM extends ${static get pluginName(){return"CKFinderEditing"}static get requires(){return[p7,"ImageEditing","LinkEditing"]}init(){let t=this.editor;t.commands.add("ckfinder",new wM(t))}}class BM extends ${static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",pt]}init(){let t=this.editor,a=t.plugins.get("CloudServices"),e=a.token,n=a.uploadUrl;e&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(e,n),t.plugins.get(pt).createUploadAdapter=i=>new kM(this._uploadGateway,i))}}class kM{constructor(t,a){this.uploadGateway=t,this.loader=a}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(a,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class CM extends n1{refresh(){let t=this.editor.model,a=Z2(t.document.selection.getSelectedBlocks());this.value=!!a&&a.is("element","paragraph"),this.isEnabled=!!a&&Kc(a,t.schema)}execute(t={}){let a=this.editor.model,e=a.document;a.change(n=>{let i=(t.selection||e.selection).getSelectedBlocks();for(let h of i)!h.is("element","paragraph")&&Kc(h,a.schema)&&n.rename(h,"paragraph")})}}function Kc(r,t){return t.checkChild(r.parent,"paragraph")&&!t.isObject(r)}class AM extends n1{execute(t){let a=this.editor.model,e=t.position;a.change(n=>{let i=n.createElement("paragraph");if(!a.schema.checkChild(e.parent,i)){let h=a.schema.findAllowedParent(e,i);if(!h)return;e=n.split(e,h).position}a.insertContent(i,e),n.setSelection(i,"in")})}}class xa extends ${static get pluginName(){return"Paragraph"}init(){let t=this.editor,a=t.model;t.commands.add("paragraph",new CM(t)),t.commands.add("insertParagraph",new AM(t)),a.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(e,{writer:n})=>xa.paragraphLikeElements.has(e.name)?e.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}xa.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class bM extends n1{constructor(t,a){super(t),this.modelElements=a}refresh(){let t=Z2(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(a=>Qc(t,a,this.editor.model.schema))}execute(t){let a=this.editor.model,e=a.document,n=t.value;a.change(i=>{let h=Array.from(e.selection.getSelectedBlocks()).filter(s=>Qc(s,n,a.schema));for(let s of h)s.is("element",n)||i.rename(s,n)})}}function Qc(r,t,a){return a.checkChild(r.parent,t)&&!a.isObject(r)}class yM extends ${static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[xa]}init(){let t=this.editor,a=t.config.get("heading.options"),e=[];for(let n of a)n.model!=="paragraph"&&(t.model.schema.register(n.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(n),e.push(n.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new bM(t,e))}afterInit(){let t=this.editor,a=t.commands.get("enter"),e=t.config.get("heading.options");a&&this.listenTo(a,"afterExecute",(n,i)=>{let h=t.model.document.selection.getFirstPosition().parent;e.some(s=>h.is("element",s.model))&&!h.is("element","paragraph")&&h.childCount===0&&i.writer.rename(h,"paragraph")})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:H.get("low")+1})}}c(12);class _M extends ${static get pluginName(){return"HeadingUI"}init(){let t=this.editor,a=t.t,e=function(h){let s=h.t,d={Paragraph:s("Paragraph"),"Heading 1":s("Heading 1"),"Heading 2":s("Heading 2"),"Heading 3":s("Heading 3"),"Heading 4":s("Heading 4"),"Heading 5":s("Heading 5"),"Heading 6":s("Heading 6")};return h.config.get("heading.options").map(g=>{let p=d[g.title];return p&&p!=g.title&&(g.title=p),g})}(t),n=a("Choose heading"),i=a("Heading");t.ui.componentFactory.add("heading",h=>{let s={},d=new X1,g=t.commands.get("heading"),p=t.commands.get("paragraph"),z=[g];for(let V of e){let B={type:"button",model:new z7({label:V.title,class:V.class,withText:!0})};V.model==="paragraph"?(B.model.bind("isOn").to(p,"value"),B.model.set("commandName","paragraph"),z.push(p)):(B.model.bind("isOn").to(g,"value",k=>k===V.model),B.model.set({commandName:"heading",commandValue:V.model})),d.add(B),s[V.model]=V.title}let m=q4(h);return Jl(m,d),m.buttonView.set({isOn:!1,withText:!0,tooltip:i}),m.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),m.bind("isEnabled").toMany(z,"isEnabled",(...V)=>V.some(B=>B)),m.buttonView.bind("label").to(g,"value",p,"value",(V,B)=>{let k=V||B&&"paragraph";return s[k]?s[k]:n}),this.listenTo(m,"execute",V=>{t.execute(V.source.commandName,V.source.commandValue?{value:V.source.commandValue}:void 0),t.editing.view.focus()}),m})}}class He extends ${static get requires(){return[G4]}static get pluginName(){return"WidgetToolbarRepository"}init(){let t=this.editor;if(t.plugins.has("BalloonToolbar")){let a=t.plugins.get("BalloonToolbar");this.listenTo(a,"show",e=>{(function(n){let i=n.getSelectedElement();return!(!i||!r2(i))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(let t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:a,items:e,getRelatedElement:n,balloonClassName:i="ck-toolbar-container"}){if(!e.length)return void Object(M.b)("widget-toolbar-no-items",{toolbarId:t});let h=this.editor,s=h.t,d=new d7(h.locale);if(d.ariaLabel=a||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new M.a("widget-toolbar-duplicated",this,{toolbarId:t});d.fillFromConfig(e,h.ui.componentFactory),this._toolbarDefinitions.set(t,{view:d,getRelatedElement:n,balloonClassName:i})}_updateToolbarsVisibility(){let t=0,a=null,e=null;for(let n of this._toolbarDefinitions.values()){let i=n.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&i)if(this.editor.ui.focusTracker.isFocused){let h=i.getAncestors().length;h>t&&(t=h,a=i,e=n)}else this._isToolbarVisible(n)&&this._hideToolbar(n);else this._isToolbarInBalloon(n)&&this._hideToolbar(n)}e&&this._showToolbar(e,a)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,a){this._isToolbarVisible(t)?Yc(this.editor,a):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:Xc(this.editor,a),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(let e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){let n=e.getRelatedElement(this.editor.editing.view.document.selection);Yc(this.editor,n)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function Yc(r,t){let a=r.plugins.get("ContextualBalloon"),e=Xc(r,t);a.updatePosition(e)}function Xc(r,t){let a=r.editing.view,e=p1.defaultPositions;return{target:a.domConverter.mapViewToDom(t),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,If]}}class Jc{constructor(t){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=t,this._referenceCoordinates=null}begin(t,a,e){let n=new L1(a);this.activeHandlePosition=function(h){let s=["top-left","top-right","bottom-right","bottom-left"];for(let d of s)if(h.classList.contains("ck-widget__resizer__handle-"+d))return d}(t),this._referenceCoordinates=function(h,s){let d=new L1(h),g=s.split("-"),p={x:g[1]=="right"?d.right:d.left,y:g[0]=="bottom"?d.bottom:d.top};return p.x+=h.ownerDocument.defaultView.scrollX,p.y+=h.ownerDocument.defaultView.scrollY,p}(a,function(h){let s=h.split("-"),d={top:"bottom",bottom:"top",left:"right",right:"left"};return`${d[s[0]]}-${d[s[1]]}`}(this.activeHandlePosition)),this.originalWidth=n.width,this.originalHeight=n.height,this.aspectRatio=n.width/n.height;let i=e.style.width;i&&i.match(/^\d+(\.\d*)?%$/)?this.originalWidthPercents=parseFloat(i):this.originalWidthPercents=function(h,s){let d=h.parentElement,g=parseFloat(d.ownerDocument.defaultView.getComputedStyle(d).width);return s.width/g*100}(e,n)}update(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}i1(Jc,w1);class _7{constructor(t){this._options=t,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",a=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),a.stop())},{priority:"high"}),this.on("change:isEnabled",()=>{this.isEnabled&&this.redraw()})}attach(){let t=this,a=this._options.viewElement;this._options.editor.editing.view.change(e=>{let n=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(i){let h=this.toDomElement(i);return t._appendHandles(h),t._appendSizeUI(h),t._domResizerWrapper=h,t.on("change:isEnabled",(s,d,g)=>{h.style.display=g?"":"none"}),h.style.display=t.isEnabled?"":"none",h});e.insert(e.createPositionAt(a,"end"),n),e.addClass("ck-widget_with-resizer",a),this._viewResizerWrapper=n})}begin(t){this.state=new Jc(this._options),this._sizeUI.bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}updateSize(t){let a=this._proposeNewSize(t);this._options.editor.editing.view.change(h=>{let s=this._options.unit||"%",d=(s==="%"?a.widthPercents:a.width)+s;h.setStyle("width",d,this._options.viewElement)});let e=this._getHandleHost(),n=new L1(e);a.handleHostWidth=Math.round(n.width),a.handleHostHeight=Math.round(n.height);let i=new L1(e);a.width=Math.round(i.width),a.height=Math.round(i.height),this.redraw(n),this.state.update(a)}commit(){let t=this._options.unit||"%",a=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(a)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(t){let a=this._domResizerWrapper;if(!((e=a)&&e.ownerDocument&&e.ownerDocument.contains(e)))return;var e;let n=a.parentElement,i=this._getHandleHost(),h=this._viewResizerWrapper,s=[h.getStyle("width"),h.getStyle("height"),h.getStyle("left"),h.getStyle("top")],d;if(n.isSameNode(i)){let g=t||new L1(i);d=[g.width+"px",g.height+"px",void 0,void 0]}else d=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];S2(s,d)!=="same"&&this._options.editor.editing.view.change(g=>{g.setStyle({width:d[0],height:d[1],left:d[2],top:d[3]},h)})}containsHandle(t){return this._domResizerWrapper.contains(t)}static isResizeHandle(t){return t.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeUI.dismiss(),this._sizeUI.isVisible=!1,this._options.editor.editing.view.change(t=>{t.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(t){let a=this.state,e={x:(n=t).pageX,y:n.pageY};var n;let i=!this._options.isCentered||this._options.isCentered(this),h={x:a._referenceCoordinates.x-(e.x+a.originalWidth),y:e.y-a.originalHeight-a._referenceCoordinates.y};i&&a.activeHandlePosition.endsWith("-right")&&(h.x=e.x-(a._referenceCoordinates.x+a.originalWidth)),i&&(h.x*=2);let s={width:Math.abs(a.originalWidth+h.x),height:Math.abs(a.originalHeight+h.y)};s.dominant=s.width/a.aspectRatio>s.height?"width":"height",s.max=s[s.dominant];let d={width:s.width,height:s.height};return s.dominant=="width"?d.height=d.width/a.aspectRatio:d.width=d.height*a.aspectRatio,{width:Math.round(d.width),height:Math.round(d.height),widthPercents:Math.min(Math.round(a.originalWidthPercents/a.originalWidth*d.width*100)/100,100)}}_getResizeHost(){let t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}_getHandleHost(){let t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}_appendHandles(t){let a=["top-left","top-right","bottom-right","bottom-left"];for(let n of a)t.appendChild(new Y0({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(e=n,"ck-widget__resizer__handle-"+e)}}).render());var e}_appendSizeUI(t){let a=new SM;a.render(),this._sizeUI=a,t.appendChild(a.element)}}i1(_7,w1);class SM extends g1{constructor(){super();let t=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",t.to("activeHandlePosition",a=>a?"ck-orientation-"+a:"")],style:{display:t.if("isVisible","none",a=>!a)}},children:[{text:t.to("label")}]})}bindToState(t,a){this.bind("isVisible").to(a,"proposedWidth",a,"proposedHeight",(e,n)=>e!==null&&n!==null),this.bind("label").to(a,"proposedHandleHostWidth",a,"proposedHandleHostHeight",a,"proposedWidthPercents",(e,n,i)=>t.unit==="px"?`${e}\xD7${n}`:i+"%"),this.bind("activeHandlePosition").to(a)}dismiss(){this.unbind(),this.isVisible=!1}}c(69),i1(class extends ${static get pluginName(){return"WidgetResize"}init(){this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;let r=$1.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this.editor.editing.view.addObserver(de),this._observer=Object.create(E4),this.listenTo(this.editor.editing.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(r,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(r,"mouseup",this._mouseUpListener.bind(this));let t=()=>{this.visibleResizer&&this.visibleResizer.redraw()},a=Hc(t,200);this.on("change:visibleResizer",t),this.editor.ui.on("update",a),this._observer.listenTo($1.window,"resize",a);let e=this.editor.editing.view.document.selection;e.on("change",()=>{let n=e.getSelectedElement();this.visibleResizer=this.getResizerByViewElement(n)||null})}destroy(){this._observer.stopListening();for(let r of this._resizers.values())r.destroy()}attachTo(r){let t=new _7(r),a=this.editor.plugins;if(t.attach(),a.has("WidgetToolbarRepository")){let n=a.get("WidgetToolbarRepository");t.on("begin",()=>{n.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{n.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{n.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(r.viewElement,t);let e=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(e)==t&&(this.visibleResizer=t),t}getResizerByViewElement(r){return this._resizers.get(r)}_getResizerByHandle(r){for(let t of this._resizers.values())if(t.containsHandle(r))return t}_mouseDownListener(r,t){let a=t.domTarget;_7.isResizeHandle(a)&&(this._activeResizer=this._getResizerByHandle(a),this._activeResizer&&(this._activeResizer.begin(a),r.stop(),t.preventDefault()))}_mouseMoveListener(r,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}},w1);class IM extends St{observe(t){this.listenTo(t,"load",(a,e)=>{let n=e.target;this.checkShouldIgnoreEventFromTarget(n)||n.tagName=="IMG"&&this._fireEvents(e)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}function Zc(r){return!!r.getCustomProperty("image")&&r2(r)}function S7(r){let t=r.getSelectedElement();return t&&Zc(t)?t:null}function Ve(r){return!!r&&r.is("element","image")}function th(r,t={},a=null){r.change(e=>{let n=e.createElement("image",t),i=a||ma(r.document.selection,r);r.insertContent(n,i),n.parent&&e.setSelection(n,"on")})}function ah(r){let t=r.schema,a=r.document.selection;return function(e,n,i){let h=function(s,d){let g=ma(s,d).parent;return g.isEmpty&&!g.is("element","$root")?g.parent:g}(e,i);return n.checkChild(h,"image")}(a,t,r)&&!B7(a,t)&&function(e){return[...e.focus.getAncestors()].every(n=>!n.is("element","image"))}(a)}function r4(r){let t=[];for(let a of r.getChildren())t.push(a),a.is("element")&&t.push(...a.getChildren());return t.find(a=>a.is("element","img"))}function eh(r){return a=>{a.on(`attribute:${r}:image`,t)};function t(a,e,n){if(!n.consumable.consume(e.item,a.name))return;let i=n.writer,h=r4(n.mapper.toViewElement(e.item));i.setAttribute(e.attributeKey,e.attributeNewValue||"",h)}}class OM extends n1{refresh(){this.isEnabled=ah(this.editor.model)}execute(t){let a=this.editor.model;for(let e of u1(t.source))th(a,{src:e})}}class FM extends ${static get pluginName(){return"ImageEditing"}init(){let t=this.editor,a=t.model.schema,e=t.t,n=t.conversion;t.editing.view.addObserver(IM),a.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),n.for("dataDowncast").elementToElement({model:"image",view:(h,{writer:s})=>rh(s)}),n.for("editingDowncast").elementToElement({model:"image",view:(h,{writer:s})=>function(d,g,p){return g.setCustomProperty("image",!0,d),V7(d,g,{label:function(){let z=r4(d).getAttribute("alt");return z?`${z} ${p}`:p}})}(rh(s),s,e("image widget"))}),n.for("downcast").add(eh("src")).add(eh("alt")).add(function(){return s=>{s.on("attribute:srcset:image",h)};function h(s,d,g){if(!g.consumable.consume(d.item,s.name))return;let p=g.writer,z=r4(g.mapper.toViewElement(d.item));if(d.attributeNewValue===null){let m=d.attributeOldValue;m.data&&(p.removeAttribute("srcset",z),p.removeAttribute("sizes",z),m.width&&p.removeAttribute("width",z))}else{let m=d.attributeNewValue;m.data&&(p.setAttribute("srcset",m.data,z),p.setAttribute("sizes","100vw",z),m.width&&p.setAttribute("width",m.width,z))}}}()),n.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(h,{writer:s})=>s.createElement("image",{src:h.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:h=>{let s={data:h.getAttribute("srcset")};return h.hasAttribute("width")&&(s.width=h.getAttribute("width")),s}}}).add(function(){return s=>{s.on("element:figure",h)};function h(s,d,g){if(!g.consumable.test(d.viewItem,{name:!0,classes:"image"}))return;let p=r4(d.viewItem);if(!p||!p.hasAttribute("src")||!g.consumable.test(p,{name:!0}))return;let z=Z2(g.convertItem(p,d.modelCursor).modelRange.getItems());z&&(g.convertChildren(d.viewItem,z),g.updateConversionResult(z,d))}}());let i=new OM(t);t.commands.add("insertImage",i),t.commands.add("imageInsert",i)}}function rh(r){let t=r.createEmptyElement("img"),a=r.createContainerElement("figure",{class:"image"});return r.insert(r.createPositionAt(a,0),t),a}class PM extends n1{refresh(){let t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Ve(t),Ve(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){let a=this.editor.model,e=a.document.selection.getSelectedElement();a.change(n=>{n.setAttribute("alt",t.newValue,e)})}}class EM extends ${static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new PM(this.editor))}}c(71),c(7);class TM extends g1{constructor(t){super(t);let a=this.locale.t;this.focusTracker=new f0,this.keystrokes=new It,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(a("Save"),e7,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),a7,"ck-button-cancel","cancel"),this._focusables=new e4,this._focusCycler=new W4({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),o7(this)}render(){super.render(),this.keystrokes.listenTo(this.element),i7({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,a,e,n){let i=new K1(this.locale);return i.set({label:t,icon:a,tooltip:!0}),i.extendTemplate({attributes:{class:e}}),n&&i.delegate("execute").to(this,n),i}_createLabeledInputView(){let t=this.locale.t,a=new u7(this.locale,g7);return a.label=t("Text alternative"),a}}function nh(r){let t=r.editing.view,a=p1.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast]}}class RM extends ${static get requires(){return[G4]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){let t=this.editor,a=t.t;t.ui.componentFactory.add("imageTextAlternative",e=>{let n=t.commands.get("imageTextAlternative"),i=new K1(e);return i.set({label:a("Change image text alternative"),icon:jz,tooltip:!0}),i.bind("isEnabled").to(n,"isEnabled"),this.listenTo(i,"execute",()=>{this._showForm()}),i})}_createForm(){let t=this.editor,a=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new TM(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(e,n)=>{this._hideForm(!0),n()}),this.listenTo(t.ui,"update",()=>{S7(a.selection)?this._isVisible&&function(e){let n=e.plugins.get("ContextualBalloon");if(S7(e.editing.view.document.selection)){let i=nh(e);n.updatePosition(i)}}(t):this._hideForm(!0)}),n7({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;let t=this.editor,a=t.commands.get("imageTextAlternative"),e=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:nh(t)}),e.fieldView.value=e.fieldView.element.value=a.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class DM extends ${static get requires(){return[EM,RM]}static get pluginName(){return"ImageTextAlternative"}}c(74);function I7(r){for(let t of r.getChildren())if(t&&t.is("element","caption"))return t;return null}function NM(r){let t=r.parent;return r.name=="figcaption"&&t&&t.name=="figure"&&t.hasClass("image")?{name:!0}:null}class jM extends ${static get pluginName(){return"ImageCaptionEditing"}init(){let t=this.editor,a=t.editing.view,e=t.model.schema,n=t.data,i=t.editing,h=t.t;e.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(d=>this._insertMissingModelCaptionElement(d)),t.conversion.for("upcast").elementToElement({view:NM,model:"caption"}),n.downcastDispatcher.on("insert:caption",oh(d=>d.createContainerElement("figcaption"),!1));let s=function(d,g){return p=>{let z=p.createEditableElement("figcaption");return p.setCustomProperty("imageCaption",!0,z),ac({view:d,element:z,text:g}),L7(z,p)}}(a,h("Enter image caption"));i.downcastDispatcher.on("insert:caption",oh(s)),i.downcastDispatcher.on("insert",this._fixCaptionVisibility(d=>d.item),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility(d=>d.position.parent),{priority:"high"}),a.document.registerPostFixer(d=>this._updateCaptionVisibility(d))}_updateCaptionVisibility(t){let a=this.editor.editing.mapper,e=this._lastSelectedCaption,n,i=this.editor.model.document.selection,h=i.getSelectedElement();if(h&&h.is("element","image")){let d=I7(h);n=a.toViewElement(d)}let s=ih(i.getFirstPosition().parent);if(s&&(n=a.toViewElement(s)),n&&!this.editor.isReadOnly)return e?(e===n||(lh(e,t),this._lastSelectedCaption=n),ch(n,t)):(this._lastSelectedCaption=n,ch(n,t));if(e){let d=lh(e,t);return this._lastSelectedCaption=null,d}return!1}_fixCaptionVisibility(t){return(a,e,n)=>{let i=ih(t(e)),h=this.editor.editing.mapper,s=n.writer;if(i){let d=h.toViewElement(i);d&&(i.childCount?s.removeClass("ck-hidden",d):s.addClass("ck-hidden",d))}}}_insertMissingModelCaptionElement(t){let a=this.editor.model,e=a.document.differ.getChanges(),n=[];for(let i of e)if(i.type=="insert"&&i.name!="$text"){let h=i.position.nodeAfter;if(h.is("element","image")&&!I7(h)&&n.push(h),!h.is("element","image")&&h.childCount)for(let s of a.createRangeIn(h).getItems())s.is("element","image")&&!I7(s)&&n.push(s)}for(let i of n)t.appendElement("caption",i);return!!n.length}}function oh(r,t=!0){return(a,e,n)=>{let i=e.item;if((i.childCount||t)&&Ve(i.parent)){if(!n.consumable.consume(e.item,"insert"))return;let h=n.mapper.toViewElement(e.range.start.parent),s=r(n.writer),d=n.writer;i.childCount||d.addClass("ck-hidden",s),function(g,p,z,m){let V=m.writer.createPositionAt(z,"end");m.writer.insert(V,g),m.mapper.bindElements(p,g)}(s,e.item,h,n)}}}function ih(r){let t=r.getAncestors({includeSelf:!0}).find(a=>a.name=="caption");return t&&t.parent&&t.parent.name=="image"?t:null}function lh(r,t){return!r.childCount&&!r.hasClass("ck-hidden")&&(t.addClass("ck-hidden",r),!0)}function ch(r,t){return!!r.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",r),!0)}c(76);class WM extends n1{constructor(t,a){super(t),this.defaultStyle=!1,this.styles=a.reduce((e,n)=>(e[n.name]=n,n.isDefault&&(this.defaultStyle=n.name),e),{})}refresh(){let t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Ve(t),t)if(t.hasAttribute("imageStyle")){let a=t.getAttribute("imageStyle");this.value=!!this.styles[a]&&a}else this.value=this.defaultStyle;else this.value=!1}execute(t){let a=t.value,e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(i=>{this.styles[a].isDefault?i.removeAttribute("imageStyle",n):i.setAttribute("imageStyle",a,n)})}}function hh(r,t){for(let a of t)if(a.name===r)return a}let we={full:{name:"full",title:"Full size image",icon:Fl,isDefault:!0},side:{name:"side",title:"Side image",icon:r7,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Il,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Ol,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:r7,className:"image-style-align-right"}},sh={full:Fl,left:Il,right:r7,center:Ol};function vh(r=[]){return r.map(UM)}function UM(r){if(typeof r=="string"){let t=r;we[t]?r=Object.assign({},we[t]):(Object(M.b)("image-style-not-found",{name:t}),r={name:t})}else if(we[r.name]){let t=we[r.name],a=Object.assign({},r);for(let e in t)Object.prototype.hasOwnProperty.call(r,e)||(a[e]=t[e]);r=a}return typeof r.icon=="string"&&sh[r.icon]&&(r.icon=sh[r.icon]),r}class qM extends ${static get pluginName(){return"ImageStyleEditing"}init(){let t=this.editor,a=t.model.schema,e=t.data,n=t.editing;t.config.define("image.styles",["full","side"]);let i=vh(t.config.get("image.styles"));a.extend("image",{allowAttributes:"imageStyle"});let h=function(s){return(d,g,p)=>{if(!p.consumable.consume(g.item,d.name))return;let z=hh(g.attributeNewValue,s),m=hh(g.attributeOldValue,s),V=p.mapper.toViewElement(g.item),B=p.writer;m&&B.removeClass(m.className,V),z&&B.addClass(z.className,V)}}(i);n.downcastDispatcher.on("attribute:imageStyle:image",h),e.downcastDispatcher.on("attribute:imageStyle:image",h),e.upcastDispatcher.on("element:figure",function(s){let d=s.filter(g=>!g.isDefault);return(g,p,z)=>{if(!p.modelRange)return;let m=p.viewItem,V=Z2(p.modelRange.getItems());if(!V||z.schema.checkAttribute(V,"imageStyle"))for(let B of d)z.consumable.consume(m,{classes:B.className})&&z.writer.setAttribute("imageStyle",B.name,V)}}(i),{priority:"low"}),t.commands.add("imageStyle",new WM(t,i))}}c(78);class GM extends ${static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){let t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){let t=function(a,e){for(let n of a)e[n.title]&&(n.title=e[n.title]);return a}(vh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(let a of t)this._createButton(a)}_createButton(t){let a=this.editor,e="imageStyle:"+t.name;a.ui.componentFactory.add(e,n=>{let i=a.commands.get("imageStyle"),h=new K1(n);return h.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(i,"isEnabled"),h.bind("isOn").to(i,"value",s=>s===t.name),this.listenTo(h,"execute",()=>{a.execute("imageStyle",{value:t.name}),a.editing.view.focus()}),h})}}function dh(r){let t=r.map(a=>a.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function $M(r){return new Promise((t,a)=>{let e=r.getAttribute("src");fetch(e).then(n=>n.blob()).then(n=>{let i=uh(n,e),h=i.replace("image/",""),s=new File([n],"image."+h,{type:i});t(s)}).catch(n=>n&&n.name==="TypeError"?function(i){return function(h){return new Promise((s,d)=>{let g=$1.document.createElement("img");g.addEventListener("load",()=>{let p=$1.document.createElement("canvas");p.width=g.width,p.height=g.height,p.getContext("2d").drawImage(g,0,0),p.toBlob(z=>z?s(z):d())}),g.addEventListener("error",()=>d()),g.src=h})}(i).then(h=>{let s=uh(h,i),d=s.replace("image/","");return new File([h],"image."+d,{type:s})})}(e).then(t).catch(a):a(n))})}function uh(r,t){return r.type?r.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class KM extends ${static get pluginName(){return"ImageUploadUI"}init(){let t=this.editor,a=t.t,e=n=>{let i=new vM(n),h=t.commands.get("uploadImage"),s=t.config.get("image.upload.types"),d=dh(s);return i.set({acceptedType:s.map(g=>"image/"+g).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:a("Insert image"),icon:Wz,tooltip:!0}),i.buttonView.bind("isEnabled").to(h),i.on("done",(g,p)=>{let z=Array.from(p).filter(m=>d.test(m.type));z.length&&t.execute("uploadImage",{file:z})}),i};t.ui.componentFactory.add("uploadImage",e),t.ui.componentFactory.add("imageUpload",e)}}c(80),c(82),c(84);class QM extends ${static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,a,e){let n=this.editor,i=a.item,h=i.getAttribute("uploadId");if(!e.consumable.consume(a.item,t.name))return;let s=n.plugins.get(pt),d=h?a.attributeNewValue:null,g=this.placeholder,p=n.editing.mapper.toViewElement(i),z=e.writer;if(d=="reading")return gh(p,z),void ph(g,p,z);if(d=="uploading"){let m=s.loaders.get(h);return gh(p,z),void(m?(zh(p,z),function(V,B,k,C){let S=function(F){let N=F.createUIElement("div",{class:"ck-progress-bar"});return F.setCustomProperty("progressBar",!0,N),N}(B);B.insert(B.createPositionAt(V,"end"),S),k.on("change:uploadedPercent",(F,N,Q)=>{C.change(h1=>{h1.setStyle("width",Q+"%",S)})})}(p,z,m,n.editing.view),function(V,B,k){if(k.data){let C=r4(V);B.setAttribute("src",k.data,C)}}(p,z,m)):ph(g,p,z))}d=="complete"&&s.loaders.get(h)&&function(m,V,B){let k=V.createUIElement("div",{class:"ck-image-upload-complete-icon"});V.insert(V.createPositionAt(m,"end"),k),setTimeout(()=>{B.change(C=>C.remove(C.createRangeOn(k)))},3e3)}(p,z,n.editing.view),function(m,V){Mh(m,V,"progressBar")}(p,z),zh(p,z),function(m,V){V.removeClass("ck-appear",m)}(p,z)}}function gh(r,t){r.hasClass("ck-appear")||t.addClass("ck-appear",r)}function ph(r,t,a){t.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",t);let e=r4(t);e.getAttribute("src")!==r&&a.setAttribute("src",r,e),fh(t,"placeholder")||a.insert(a.createPositionAfter(e),function(n){let i=n.createUIElement("div",{class:"ck-upload-placeholder-loader"});return n.setCustomProperty("placeholder",!0,i),i}(a))}function zh(r,t){r.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",r),Mh(r,t,"placeholder")}function fh(r,t){for(let a of r.getChildren())if(a.getCustomProperty(t))return a}function Mh(r,t,a){let e=fh(r,a);e&&t.remove(t.createRangeOn(e))}class YM extends n1{refresh(){let t=this.editor.model.document.selection.getSelectedElement(),a=t&&t.name==="image"||!1;this.isEnabled=ah(this.editor.model)||a}execute(t){let a=this.editor,e=a.model,n=a.plugins.get(pt);for(let i of u1(t.file))XM(e,n,i)}}function XM(r,t,a){let e=t.createLoader(a);e&&th(r,{uploadId:e.id})}class JM extends ${static get requires(){return[pt,p7,d5]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){let t=this.editor,a=t.model.document,e=t.model.schema,n=t.conversion,i=t.plugins.get(pt),h=dh(t.config.get("image.upload.types"));e.extend("image",{allowAttributes:["uploadId","uploadStatus"]});let s=new YM(t);t.commands.add("uploadImage",s),t.commands.add("imageUpload",s),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(d,g)=>{if(p=g.dataTransfer,Array.from(p.types).includes("text/html")&&p.getData("text/html")!=="")return;var p;let z=Array.from(g.dataTransfer.files).filter(m=>!!m&&h.test(m.type));z.length&&(d.stop(),t.model.change(m=>{g.targetRanges&&m.setSelection(g.targetRanges.map(V=>t.editing.mapper.toModelRange(V))),t.model.enqueueChange("default",()=>{t.execute("uploadImage",{file:z})})}))}),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(d,g)=>{let p=Array.from(t.editing.view.createRangeIn(g.content)).filter(m=>{return!(!(V=m.item).is("element","img")||!V.getAttribute("src"))&&(V.getAttribute("src").match(/^data:image\/\w+;base64,/g)||V.getAttribute("src").match(/^blob:/g))&&!m.item.getAttribute("uploadProcessed");var V}).map(m=>({promise:$M(m.item),imageElement:m.item}));if(!p.length)return;let z=new ue(t.editing.view.document);for(let m of p){z.setAttribute("uploadProcessed",!0,m.imageElement);let V=i.createLoader(m.promise);V&&(z.setAttribute("src","",m.imageElement),z.setAttribute("uploadId",V.id,m.imageElement))}}),t.editing.view.document.on("dragover",(d,g)=>{g.preventDefault()}),a.on("change",()=>{let d=a.differ.getChanges({includeChangesInGraveyard:!0});for(let g of d)if(g.type=="insert"&&g.name!="$text"){let p=g.position.nodeAfter,z=g.position.root.rootName=="$graveyard";for(let m of ZM(t,p)){let V=m.getAttribute("uploadId");if(!V)continue;let B=i.loaders.get(V);B&&(z?B.abort():B.status=="idle"&&this._readAndUpload(B,m))}}}),this.on("uploadComplete",(d,{imageElement:g,data:p})=>{let z=p.urls?p.urls:p;this.editor.model.change(m=>{m.setAttribute("src",z.default,g),this._parseAndSetSrcsetAttributeOnImage(z,g,m)})},{priority:"low"})}_readAndUpload(t,a){let e=this.editor,n=e.model,i=e.locale.t,h=e.plugins.get(pt),s=e.plugins.get(p7);return n.enqueueChange("transparent",g=>{g.setAttribute("uploadStatus","reading",a)}),t.read().then(()=>{let g=t.upload();if(v2.isSafari){let p=r4(e.editing.mapper.toViewElement(a));e.editing.view.once("render",()=>{if(!p.parent)return;let z=e.editing.view.domConverter.mapViewToDom(p.parent);if(!z)return;let m=z.style.display;z.style.display="none",z._ckHack=z.offsetHeight,z.style.display=m})}return n.enqueueChange("transparent",p=>{p.setAttribute("uploadStatus","uploading",a)}),g}).then(g=>{n.enqueueChange("transparent",p=>{p.setAttribute("uploadStatus","complete",a),this.fire("uploadComplete",{data:g,imageElement:a})}),d()}).catch(g=>{if(t.status!=="error"&&t.status!=="aborted")throw g;t.status=="error"&&g&&s.showWarning(g,{title:i("Upload failed"),namespace:"upload"}),d(),n.enqueueChange("transparent",p=>{p.remove(a)})});function d(){n.enqueueChange("transparent",g=>{g.removeAttribute("uploadId",a),g.removeAttribute("uploadStatus",a)}),h.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,a,e){let n=0,i=Object.keys(t).filter(h=>{let s=parseInt(h,10);if(!isNaN(s))return n=Math.max(n,s),!0}).map(h=>`${t[h]} ${h}w`).join(", ");i!=""&&e.setAttribute("srcset",{data:i,width:n},a)}}function ZM(r,t){return Array.from(r.model.createRangeOn(t)).filter(a=>a.item.is("element","image")).map(a=>a.item)}class tm extends ${static get pluginName(){return"IndentEditing"}init(){let t=this.editor;t.commands.add("indent",new W2(t)),t.commands.add("outdent",new W2(t))}}var mh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',xh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class am extends ${static get pluginName(){return"IndentUI"}init(){let t=this.editor,a=t.locale,e=t.t,n=a.uiLanguageDirection=="ltr"?mh:xh,i=a.uiLanguageDirection=="ltr"?xh:mh;this._defineButton("indent",e("Increase indent"),n),this._defineButton("outdent",e("Decrease indent"),i)}_defineButton(t,a,e){let n=this.editor;n.ui.componentFactory.add(t,i=>{let h=n.commands.get(t),s=new K1(i);return s.set({label:a,icon:e,tooltip:!0}),s.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(s,"execute",()=>{n.execute(t),n.editing.view.focus()}),s})}}class em{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(a=>this._definitions.add(a)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(a,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;let i=n.writer,h=i.document.selection;for(let s of this._definitions){let d=i.createAttributeElement("a",s.attributes,{priority:5});i.setCustomProperty("link",!0,d),s.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(h.getFirstRange(),d):i.wrap(n.mapper.toViewRange(e.range),d):i.unwrap(n.mapper.toViewRange(e.range),d)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:image",(a,e,n)=>{let i=n.mapper.toViewElement(e.item),h=Array.from(i.getChildren()).find(s=>s.name==="a");for(let s of this._definitions){let d=_t(s.attributes);if(s.callback(e.attributeNewValue))for(let[g,p]of d)g==="class"?n.writer.addClass(p,h):n.writer.setAttribute(g,p,h);else for(let[g,p]of d)g==="class"?n.writer.removeClass(p,h):n.writer.removeAttribute(g,h)}})}}}var rm=function(r,t,a){var e=r.length;return a=a===void 0?e:a,!t&&a>=e?r:Go(r,t,a)},nm=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Hh=function(r){return nm.test(r)},om=function(r){return r.split("")},im="[\\ud800-\\udfff]",O7="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",F7="\\ud83c[\\udffb-\\udfff]",Vh="[^\\ud800-\\udfff]",wh="(?:\\ud83c[\\udde6-\\uddff]){2}",Lh="[\\ud800-\\udbff][\\udc00-\\udfff]",Bh="(?:"+O7+"|"+F7+")?",lm="[\\ufe0e\\ufe0f]?"+Bh+("(?:\\u200d(?:"+[Vh,wh,Lh].join("|")+")[\\ufe0e\\ufe0f]?"+Bh+")*"),cm="(?:"+[Vh+O7+"?",O7,wh,Lh,im].join("|")+")",hm=RegExp(F7+"(?="+F7+")|"+cm+lm,"g"),sm=function(r){return r.match(hm)||[]},vm=function(r){return Hh(r)?sm(r):om(r)},dm=function(r){return function(t){t=m8(t);var a=Hh(t)?vm(t):void 0,e=a?a[0]:t.charAt(0),n=a?rm(a,1).join(""):t.slice(1);return e[r]()+n}}("toUpperCase");let um=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,gm=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,pm=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,zm=/^((\w+:(\/{2,})?)|(\W))/i;function kh(r,{writer:t}){let a=t.createAttributeElement("a",{href:r},{priority:5});return t.setCustomProperty("link",!0,a),a}function Ch(r){return function(t){return t.replace(um,"").match(gm)}(r=String(r))?r:"#"}function P7(r,t){return!!r&&r.is("element","image")&&t.checkAttribute("image","linkHref")}function Ah(r,t){let a=(e=r,pm.test(e)?"mailto:":t);var e;let n=!!a&&!zm.test(r);return r&&n?a+r:r}class fm extends n1{constructor(t){super(t),this.manualDecorators=new X1,this.automaticDecorators=new em}restoreManualDecoratorStates(){for(let t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){let t=this.editor.model,a=t.document,e=Z2(a.selection.getSelectedBlocks());P7(e,t.schema)?(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(e,"linkHref")):(this.value=a.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(a.selection,"linkHref"));for(let n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}execute(t,a={}){let e=this.editor.model,n=e.document.selection,i=[],h=[];for(let s in a)a[s]?i.push(s):h.push(s);e.change(s=>{if(n.isCollapsed){let d=n.getFirstPosition();if(n.hasAttribute("linkHref")){let g=X4(d,"linkHref",n.getAttribute("linkHref"),e);s.setAttribute("linkHref",t,g),i.forEach(p=>{s.setAttribute(p,!0,g)}),h.forEach(p=>{s.removeAttribute(p,g)}),s.setSelection(s.createPositionAfter(g.end.nodeBefore))}else if(t!==""){let g=_t(n.getAttributes());g.set("linkHref",t),i.forEach(z=>{g.set(z,!0)});let{end:p}=e.insertContent(s.createText(t,g),d);s.setSelection(p)}["linkHref",...i,...h].forEach(g=>{s.removeSelectionAttribute(g)})}else{let d=e.schema.getValidRanges(n.getRanges(),"linkHref"),g=[];for(let z of n.getSelectedBlocks())e.schema.checkAttribute(z,"linkHref")&&g.push(s.createRangeOn(z));let p=g.slice();for(let z of d)this._isRangeToUpdate(z,g)&&p.push(z);for(let z of p)s.setAttribute("linkHref",t,z),i.forEach(m=>{s.setAttribute(m,!0,z)}),h.forEach(m=>{s.removeAttribute(m,z)})}})}_getDecoratorStateFromModel(t){let a=this.editor.model,e=a.document,n=Z2(e.selection.getSelectedBlocks());return P7(n,a.schema)?n.getAttribute(t):e.selection.getAttribute(t)}_isRangeToUpdate(t,a){for(let e of a)if(e.containsRange(t))return!1;return!0}}class Mm extends n1{refresh(){let t=this.editor.model,a=t.document,e=Z2(a.selection.getSelectedBlocks());P7(e,t.schema)?this.isEnabled=t.schema.checkAttribute(e,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(a.selection,"linkHref")}execute(){let t=this.editor,a=this.editor.model,e=a.document.selection,n=t.commands.get("link");a.change(i=>{let h=e.isCollapsed?[X4(e.getFirstPosition(),"linkHref",e.getAttribute("linkHref"),a)]:a.schema.getValidRanges(e.getRanges(),"linkHref");for(let s of h)if(i.removeAttribute("linkHref",s),n)for(let d of n.manualDecorators)i.removeAttribute(d.id,s)})}}class bh{constructor({id:t,label:a,attributes:e,defaultValue:n}){this.id=t,this.set("value"),this.defaultValue=n,this.label=a,this.attributes=e}}i1(bh,w1),c(86);let mm=/^(https?:)?\/\//;class xm extends ${static get pluginName(){return"LinkEditing"}static get requires(){return[Oc,Sc,d5]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){let t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:kh}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,n)=>kh(Ch(e),n)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),t.commands.add("link",new fm(t)),t.commands.add("unlink",new Mm(t));let a=function(e,n){let i={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return n.forEach(h=>(h.label&&i[h.label]&&(h.label=i[h.label]),h)),n}(t.t,function(e){let n=[];if(e)for(let[i,h]of Object.entries(e)){let s=Object.assign({},h,{id:"link"+dm(i)});n.push(s)}return n}(t.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(e=>e.mode==="automatic")),this._enableManualDecorators(a.filter(e=>e.mode==="manual")),t.plugins.get(Oc).registerAttribute("linkHref"),function(e,n,i,h){let s=e.editing.view,d=new Set;s.document.registerPostFixer(g=>{let p=e.model.document.selection,z=!1;if(p.hasAttribute(n)){let m=X4(p.getFirstPosition(),n,p.getAttribute(n),e.model),V=e.editing.mapper.toViewRange(m);for(let B of V.getItems())B.is("element",i)&&!B.hasClass(h)&&(g.addClass(h,B),d.add(B),z=!0)}return z}),e.conversion.for("editingDowncast").add(g=>{function p(){s.change(z=>{for(let m of d.values())z.removeClass(h,m),d.delete(m)})}g.on("insert",p,{priority:"highest"}),g.on("remove",p,{priority:"highest"}),g.on("attribute",p,{priority:"highest"}),g.on("selection",p,{priority:"highest"})})}(t,"linkHref","a","ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(t){let a=this.editor,e=a.commands.get("link").automaticDecorators;a.config.get("link.addTargetToExternalLinks")&&e.add({id:"linkIsExternal",mode:"automatic",callback:n=>mm.test(n),attributes:{target:"_blank",rel:"noopener noreferrer"}}),e.add(t),e.length&&a.conversion.for("downcast").add(e.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;let a=this.editor,e=a.commands.get("link").manualDecorators;t.forEach(n=>{a.model.schema.extend("$text",{allowAttributes:n.id}),e.add(new bh(n)),a.conversion.for("downcast").attributeToElement({model:n.id,view:(i,{writer:h})=>{if(i){let s=e.get(n.id).attributes,d=h.createAttributeElement("a",s,{priority:5});return h.setCustomProperty("link",!0,d),d}}}),a.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:e.get(n.id).attributes},model:{key:n.id}})})}_enableInsertContentSelectionAttributesFixer(){let t=this.editor,a=t.model,e=a.document.selection,n=t.commands.get("link");this.listenTo(a,"insertContent",()=>{let i=e.anchor.nodeBefore,h=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&i&&i.hasAttribute("linkHref")&&(h&&h.hasAttribute("linkHref")||a.change(s=>{E7(s,n.manualDecorators)}))},{priority:"low"})}_enableClickingAfterLink(){let t=this.editor,a=t.commands.get("link");t.editing.view.addObserver(de);let e=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{e=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!e)return;e=!1;let n=t.model.document.selection;if(!n.isCollapsed||!n.hasAttribute("linkHref"))return;let i=n.getFirstPosition(),h=X4(i,"linkHref",n.getAttribute("linkHref"),t.model);(i.isTouching(h.start)||i.isTouching(h.end))&&t.model.change(s=>{E7(s,a.manualDecorators)})})}_enableTypingOverLink(){let t=this.editor,a=t.editing.view,e,n;this.listenTo(a.document,"delete",()=>{n=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{let i=t.model.document.selection;i.isCollapsed||(n?n=!1:yh(t)&&function(h){let s=h.document.selection,d=s.getFirstPosition(),g=s.getLastPosition(),p=d.nodeAfter;if(!p||!p.is("$text")||!p.hasAttribute("linkHref"))return!1;let z=g.textNode||g.nodeBefore;return p===z?!0:X4(d,"linkHref",p.getAttribute("linkHref"),h).containsRange(h.createRange(d,g),!0)}(t.model)&&(e=i.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(i,[h])=>{n=!1,yh(t)&&e&&(t.model.change(s=>{for(let[d,g]of e)s.setAttribute(d,g,h)}),e=null)},{priority:"high"})}_handleDeleteContentAfterLink(){let t=this.editor,a=t.model,e=a.document.selection,n=t.editing.view,i=t.commands.get("link"),h=!1,s=!1;this.listenTo(n.document,"delete",(d,g)=>{s=g.domEvent.keyCode===M1.backspace},{priority:"high"}),this.listenTo(a,"deleteContent",()=>{h=!1;let d=e.getFirstPosition(),g=e.getAttribute("linkHref");if(!g)return;let p=X4(d,"linkHref",g,a);h=p.containsPosition(d)||p.end.isEqual(d)},{priority:"high"}),this.listenTo(a,"deleteContent",()=>{s&&(s=!1,h||t.model.enqueueChange(d=>{E7(d,i.manualDecorators)}))},{priority:"low"})}}function E7(r,t){r.removeSelectionAttribute("linkHref");for(let a of t)r.removeSelectionAttribute(a.id)}function yh(r){return r.plugins.get("Input").isInput(r.model.change(t=>t.batch))}c(88);class Hm extends g1{constructor(t,a){super(t);let e=t.t;this.focusTracker=new f0,this.keystrokes=new It,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e("Save"),e7,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),a7,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(a),this.children=this._createFormChildren(a.manualDecorators),this._focusables=new e4,this._focusCycler=new W4({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});let n=["ck","ck-link-form","ck-responsive-form"];a.manualDecorators.length&&n.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:n,tabindex:"-1"},children:this.children}),o7(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,a)=>(t[a.name]=a.isOn,t),{})}render(){super.render(),i7({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){let t=this.locale.t,a=new u7(this.locale,g7);return a.label=t("Link URL"),a}_createButton(t,a,e,n){let i=new K1(this.locale);return i.set({label:t,icon:a,tooltip:!0}),i.extendTemplate({attributes:{class:e}}),n&&i.delegate("execute").to(this,n),i}_createManualDecoratorSwitches(t){let a=this.createCollection();for(let e of t.manualDecorators){let n=new h7(this.locale);n.set({name:e.id,label:e.label,withText:!0}),n.bind("isOn").toMany([e,t],"value",(i,h)=>h===void 0&&i===void 0?e.defaultValue:i),n.on("execute",()=>{e.set("value",!n.isOn)}),a.add(n)}return a}_createFormChildren(t){let a=this.createCollection();if(a.add(this.urlInputView),t.length){let e=new g1;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(n=>({tag:"li",children:[n],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),a.add(e)}return a.add(this.saveButtonView),a.add(this.cancelButtonView),a}}c(90);class Vm extends g1{constructor(t){super(t);let a=t.t;this.focusTracker=new f0,this.keystrokes=new It,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(a("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(a("Edit link"),Uz,"edit"),this.set("href"),this._focusables=new e4,this._focusCycler=new W4({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,a,e){let n=new K1(this.locale);return n.set({label:t,icon:a,tooltip:!0}),n.delegate("execute").to(this,e),n}_createPreviewButton(){let t=new K1(this.locale),a=this.bindTemplate,e=this.t;return t.set({withText:!0,tooltip:e("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:a.to("href",n=>n&&Ch(n)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",n=>n||e("This link has no URL")),t.bind("isEnabled").to(this,"href",n=>!!n),t.template.tag="a",t.template.eventListeners={},t}}class wm extends ${static get requires(){return[G4]}static get pluginName(){return"LinkUI"}init(){let t=this.editor;t.editing.view.addObserver(wf),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(G4),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),t.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){let t=this.editor,a=new Vm(t.locale),e=t.commands.get("link"),n=t.commands.get("unlink");return a.bind("href").to(e,"value"),a.editButtonView.bind("isEnabled").to(e),a.unlinkButtonView.bind("isEnabled").to(n),this.listenTo(a,"edit",()=>{this._addFormView()}),this.listenTo(a,"unlink",()=>{t.execute("unlink"),this._hideUI()}),a.keystrokes.set("Esc",(i,h)=>{this._hideUI(),h()}),a.keystrokes.set("Ctrl+K",(i,h)=>{this._addFormView(),h()}),a}_createFormView(){let t=this.editor,a=t.commands.get("link"),e=t.config.get("link.defaultProtocol"),n=new Hm(t.locale,a);return n.urlInputView.fieldView.bind("value").to(a,"value"),n.urlInputView.bind("isReadOnly").to(a,"isEnabled",i=>!i),n.saveButtonView.bind("isEnabled").to(a),this.listenTo(n,"submit",()=>{let{value:i}=n.urlInputView.fieldView.element,h=Ah(i,e);t.execute("link",h,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(i,h)=>{this._closeFormView(),h()}),n}_createToolbarLinkButton(){let t=this.editor,a=t.commands.get("link"),e=t.t;t.keystrokes.set("Ctrl+K",(n,i)=>{i(),a.isEnabled&&this._showUI(!0)}),t.ui.componentFactory.add("link",n=>{let i=new K1(n);return i.isEnabled=!0,i.label=e("Link"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke="Ctrl+K",i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(a,"isEnabled"),i.bind("isOn").to(a,"value",h=>!!h),this.listenTo(i,"execute",()=>this._showUI(!0)),i})}_enableUserBalloonInteractions(){let t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(a,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(a,e)=>{this._isUIVisible&&(this._hideUI(),e())}),n7({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;let t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){let t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;let t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){let t=this.editor,a=t.editing.view.document,e=this._getSelectedLinkElement(),n=h(),i=()=>{let s=this._getSelectedLinkElement(),d=h();e&&!s||!e&&d!==n?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),e=s,n=d};function h(){return a.selection.focus.getAncestors().reverse().find(s=>s.is("element"))}this.listenTo(t.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){let t=this.editor.editing.view,a=this.editor.model,e=t.document,n=null;if(a.markers.has("link-ui")){let i=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),h=t.createRange(t.createPositionBefore(i[0]),t.createPositionAfter(i[i.length-1]));n=t.domConverter.viewRangeToDom(h)}else{let i=this._getSelectedLinkElement(),h=e.selection.getFirstRange();n=i?t.domConverter.mapViewToDom(i):t.domConverter.viewRangeToDom(h)}return{target:n}}_getSelectedLinkElement(){let t=this.editor.editing.view,a=t.document.selection;if(a.isCollapsed)return T7(a.getFirstPosition());{let e=a.getFirstRange().getTrimmed(),n=T7(e.start),i=T7(e.end);return n&&n==i&&t.createRangeIn(n).getTrimmed().isEqual(e)?n:null}}_showFakeVisualSelection(){let t=this.editor.model;t.change(a=>{let e=t.document.selection.getFirstRange();if(t.markers.has("link-ui"))a.updateMarker("link-ui",{range:e});else if(e.start.isAtEnd){let n=e.start.getLastMatchingPosition(({item:i})=>!t.schema.isContent(i),{boundaries:e});a.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:a.createRange(n,e.end)})}else a.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:e})})}_hideFakeVisualSelection(){let t=this.editor.model;t.markers.has("link-ui")&&t.change(a=>{a.removeMarker("link-ui")})}}function T7(r){return r.getAncestors().find(t=>{return(a=t).is("attributeElement")&&!!a.getCustomProperty("link");var a})}let Lm=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Bm extends ${static get pluginName(){return"AutoLink"}init(){let t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){let t=this.editor,a=new C7(t.model,n=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(n))return;let i=_h(n.substr(0,n.length-1));return i?{url:i}:void 0}),e=t.plugins.get("Input");a.on("matched:data",(n,i)=>{let{batch:h,range:s,url:d}=i;if(!e.isInput(h))return;let g=s.end.getShiftedBy(-1),p=g.getShiftedBy(-d.length),z=t.model.createRange(p,g);this._applyAutoLink(d,z)}),a.bind("isEnabled").to(this)}_enableEnterHandling(){let t=this.editor,a=t.model,e=t.commands.get("enter");e&&e.on("execute",()=>{let n=a.document.selection.getFirstPosition();if(!n.parent.previousSibling)return;let i=a.createRangeIn(n.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(i)})}_enableShiftEnterHandling(){let t=this.editor,a=t.model,e=t.commands.get("shiftEnter");e&&e.on("execute",()=>{let n=a.document.selection.getFirstPosition(),i=a.createRange(a.createPositionAt(n.parent,0),n.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(i)})}_checkAndApplyAutoLinkOnRange(t){let a=this.editor.model,{text:e,range:n}=Ic(t,a),i=_h(e);if(i){let h=a.createRange(n.end.getShiftedBy(-i.length),n.end);this._applyAutoLink(i,h)}}_applyAutoLink(t,a){let e=this.editor.model;this.isEnabled&&function(n,i){return i.schema.checkAttributeInSelection(i.createSelection(n),"linkHref")}(a,e)&&e.enqueueChange(n=>{let i=this.editor.config.get("link.defaultProtocol"),h=Ah(t,i);n.setAttribute("linkHref",h,a)})}}function _h(r){let t=Lm.exec(r);return t?t[2]:null}class Sh extends n1{constructor(t,a){super(t),this.type=a}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){let a=this.editor.model,e=a.document,n=Array.from(e.selection.getSelectedBlocks()).filter(h=>Oh(h,a.schema)),i=t.forceValue!==void 0?!t.forceValue:this.value;a.change(h=>{if(i){let s=n[n.length-1].nextSibling,d=Number.POSITIVE_INFINITY,g=[];for(;s&&s.name=="listItem"&&s.getAttribute("listIndent")!==0;){let p=s.getAttribute("listIndent");p<d&&(d=p);let z=p-d;g.push({element:s,listIndent:z}),s=s.nextSibling}g=g.reverse();for(let p of g)h.setAttribute("listIndent",p.listIndent,p.element)}if(!i){let s=Number.POSITIVE_INFINITY;for(let d of n)d.is("element","listItem")&&d.getAttribute("listIndent")<s&&(s=d.getAttribute("listIndent"));s=s===0?1:s,Ih(n,!0,s),Ih(n,!1,s)}for(let s of n.reverse())i&&s.name=="listItem"?h.rename(s,"paragraph"):i||s.name=="listItem"?i||s.name!="listItem"||s.getAttribute("listType")==this.type||h.setAttribute("listType",this.type,s):(h.setAttributes({listType:this.type,listIndent:0},s),h.rename(s,"listItem"));this.fire("_executeCleanup",n)})}_getValue(){let t=Z2(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;let t=this.editor.model.document.selection,a=this.editor.model.schema,e=Z2(t.getSelectedBlocks());return!!e&&Oh(e,a)}}function Ih(r,t,a){let e=t?r[0]:r[r.length-1];if(e.is("element","listItem")){let n=e[t?"previousSibling":"nextSibling"],i=e.getAttribute("listIndent");for(;n&&n.is("element","listItem")&&n.getAttribute("listIndent")>=a;)i>n.getAttribute("listIndent")&&(i=n.getAttribute("listIndent")),n.getAttribute("listIndent")==i&&r[t?"unshift":"push"](n),n=n[t?"previousSibling":"nextSibling"]}}function Oh(r,t){return t.checkChild(r.parent,"listItem")&&!t.isObject(r)}class Fh extends n1{constructor(t,a){super(t),this._indentBy=a=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){let t=this.editor.model,a=t.document,e=Array.from(a.selection.getSelectedBlocks());t.change(n=>{let i=e[e.length-1],h=i.nextSibling;for(;h&&h.name=="listItem"&&h.getAttribute("listIndent")>i.getAttribute("listIndent");)e.push(h),h=h.nextSibling;this._indentBy<0&&(e=e.reverse());for(let s of e){let d=s.getAttribute("listIndent")+this._indentBy;d<0?n.rename(s,"paragraph"):n.setAttribute("listIndent",d,s)}this.fire("_executeCleanup",e)})}_checkEnabled(){let t=Z2(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){let a=t.getAttribute("listIndent"),e=t.getAttribute("listType"),n=t.previousSibling;for(;n&&n.is("element","listItem")&&n.getAttribute("listIndent")>=a;){if(n.getAttribute("listIndent")==a)return n.getAttribute("listType")==e;n=n.previousSibling}return!1}return!0}}function km(r,t){let a=t.mapper,e=t.writer,n=r.getAttribute("listType")=="numbered"?"ol":"ul",i=function(s){let d=s.createContainerElement("li");return d.getFillerOffset=Cm,d}(e),h=e.createContainerElement(n,null);return e.insert(e.createPositionAt(h,0),i),a.bindElements(r,i),i}function Ph(r,t,a,e){let n=t.parent,i=a.mapper,h=a.writer,s=i.toViewPosition(e.createPositionBefore(r)),d=Th(r.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:r.getAttribute("listIndent")}),g=r.previousSibling;if(d&&d.getAttribute("listIndent")==r.getAttribute("listIndent")){let p=i.toViewElement(d);s=h.breakContainer(h.createPositionAfter(p))}else if(g&&g.name=="listItem"){s=i.toViewPosition(e.createPositionAt(g,"end"));let p=i.findMappedViewAncestor(s),z=function(m){for(let V of m.getChildren())if(V.name=="ul"||V.name=="ol")return V;return null}(p);s=z?h.createPositionBefore(z):h.createPositionAt(p,"end")}else s=i.toViewPosition(e.createPositionBefore(r));if(s=Eh(s),h.insert(s,n),g&&g.name=="listItem"){let p=i.toViewElement(g),z=h.createRange(h.createPositionAt(p,0),s).getWalker({ignoreElementEnd:!0});for(let m of z)if(m.item.is("element","li")){let V=h.breakContainer(h.createPositionBefore(m.item)),B=m.item.parent,k=h.createPositionAt(t,"end");C0(h,k.nodeBefore,k.nodeAfter),h.move(h.createRangeOn(B),k),z.position=V}}else{let p=n.nextSibling;if(p&&(p.is("element","ul")||p.is("element","ol"))){let z=null;for(let m of p.getChildren()){let V=i.toModelElement(m);if(!(V&&V.getAttribute("listIndent")>r.getAttribute("listIndent")))break;z=m}z&&(h.breakContainer(h.createPositionAfter(z)),h.move(h.createRangeOn(z.parent),h.createPositionAt(t,"end")))}}C0(h,n,n.nextSibling),C0(h,n.previousSibling,n)}function C0(r,t,a){return!t||!a||t.name!="ul"&&t.name!="ol"||t.name!=a.name||t.getAttribute("class")!==a.getAttribute("class")?null:r.mergeContainers(r.createPositionAfter(t))}function Eh(r){return r.getLastMatchingPosition(t=>t.item.is("uiElement"))}function Th(r,t){let a=!!t.sameIndent,e=!!t.smallerIndent,n=t.listIndent,i=r;for(;i&&i.name=="listItem";){let h=i.getAttribute("listIndent");if(a&&n==h||e&&n>h)return i;i=t.direction==="forward"?i.nextSibling:i.previousSibling}return null}function Rh(r,t,a,e){r.ui.componentFactory.add(t,n=>{let i=r.commands.get(t),h=new K1(n);return h.set({label:a,icon:e,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(i,"value","isEnabled"),h.on("execute",()=>{r.execute(t),r.editing.view.focus()}),h})}function Cm(){let r=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||r?0:Qo.call(this)}function Dh(r){return(t,a,e)=>{let n=e.consumable;if(!n.test(a.item,"insert")||!n.test(a.item,"attribute:listType")||!n.test(a.item,"attribute:listIndent"))return;n.consume(a.item,"insert"),n.consume(a.item,"attribute:listType"),n.consume(a.item,"attribute:listIndent");let i=a.item;Ph(i,km(i,e),e,r)}}function Am(r,t,a){if(!a.consumable.consume(t.item,"attribute:listType"))return;let e=a.mapper.toViewElement(t.item),n=a.writer;n.breakContainer(n.createPositionBefore(e)),n.breakContainer(n.createPositionAfter(e));let i=e.parent,h=t.attributeNewValue=="numbered"?"ol":"ul";n.rename(h,i)}function bm(r,t,a){let e=a.mapper.toViewElement(t.item).parent,n=a.writer;C0(n,e,e.nextSibling),C0(n,e.previousSibling,e);for(let i of t.item.getChildren())a.consumable.consume(i,"insert")}function Nh(r,t,a){if(t.item.name!="listItem"){let e=a.mapper.toViewPosition(t.range.start),n=a.writer,i=[];for(;(e.parent.name=="ul"||e.parent.name=="ol")&&(e=n.breakContainer(e),e.parent.name=="li");){let h=e,s=n.createPositionAt(e.parent,"end");if(!h.isEqual(s)){let d=n.remove(n.createRange(h,s));i.push(d)}e=n.createPositionAfter(e.parent)}if(i.length>0){for(let h=0;h<i.length;h++){let s=e.nodeBefore;if(e=n.insert(e,i[h]).end,h>0){let d=C0(n,s,s.nextSibling);d&&d.parent==s&&e.offset--}}C0(n,e.nodeBefore,e.nodeAfter)}}}function ym(r,t,a){let e=a.mapper.toViewPosition(t.position),n=e.nodeBefore,i=e.nodeAfter;C0(a.writer,n,i)}function _m(r,t,a){if(a.consumable.consume(t.viewItem,{name:!0})){let e=a.writer,n=e.createElement("listItem"),i=function(d){let g=0,p=d.parent;for(;p;){if(p.is("element","li"))g++;else{let z=p.previousSibling;z&&z.is("element","li")&&g++}p=p.parent}return g}(t.viewItem);e.setAttribute("listIndent",i,n);let h=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";if(e.setAttribute("listType",h,n),!a.safeInsert(n,t.modelCursor))return;let s=function(d,g,p){let{writer:z,schema:m}=p,V=z.createPositionAfter(d);for(let B of g)if(B.name=="ul"||B.name=="ol")V=p.convertItem(B,V).modelCursor;else{let k=p.convertItem(B,z.createPositionAt(d,"end")),C=k.modelRange.start.nodeAfter;C&&C.is("element")&&!m.checkChild(d,C.name)&&(d=k.modelCursor.parent.is("element","listItem")?k.modelCursor.parent:Om(k.modelCursor),V=z.createPositionAfter(d))}return V}(n,t.viewItem.getChildren(),a);t.modelRange=e.createRange(t.modelCursor,s),a.updateConversionResult(n,t)}}function jh(r,t,a){if(a.consumable.test(t.viewItem,{name:!0})){let e=Array.from(t.viewItem.getChildren());for(let n of e)!(n.is("element","li")||n4(n))&&n._remove()}}function Sm(r,t,a){if(a.consumable.test(t.viewItem,{name:!0})){if(t.viewItem.childCount===0)return;let e=[...t.viewItem.getChildren()],n=!1,i=!0;for(let h of e)n&&!n4(h)&&h._remove(),h.is("$text")?(i&&(h._data=h.data.trimStart()),h.nextSibling&&!n4(h.nextSibling)||(h._data=h.data.trimEnd())):n4(h)&&(n=!0),i=!1}}function Wh(r){return(t,a)=>{if(a.isPhantom)return;let e=a.modelPosition.nodeBefore;if(e&&e.is("element","listItem")){let n=a.mapper.toViewElement(e),i=n.getAncestors().find(n4),h=r.createPositionAt(n,0).getWalker();for(let s of h){if(s.type=="elementStart"&&s.item.is("element","li")){a.viewPosition=s.previousPosition;break}if(s.type=="elementEnd"&&s.item==i){a.viewPosition=s.nextPosition;break}}}}}function Im(r,[t,a]){let e,n=t.is("documentFragment")?t.getChild(0):t;if(e=a?this.createSelection(a):this.document.selection,n&&n.is("element","listItem")){let i=e.getFirstPosition(),h=null;if(i.parent.is("element","listItem")?h=i.parent:i.nodeBefore&&i.nodeBefore.is("element","listItem")&&(h=i.nodeBefore),h){let s=h.getAttribute("listIndent");if(s>0)for(;n&&n.is("element","listItem");)n._setAttribute("listIndent",n.getAttribute("listIndent")+s),n=n.nextSibling}}}function Om(r){let t=new Ot({startPosition:r}),a;do a=t.next();while(!a.value.item.is("element","listItem"));return a.value.item}function Uh(r,t,a,e,n,i){let h=Th(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:r,foo:"b"}),s=n.mapper,d=n.writer,g=h?h.getAttribute("listIndent"):null,p;if(h)if(g==r){let z=s.toViewElement(h).parent;p=d.createPositionAfter(z)}else{let z=i.createPositionAt(h,"end");p=s.toViewPosition(z)}else p=a;p=Eh(p);for(let z of[...e.getChildren()])n4(z)&&(p=d.move(d.createRangeOn(z),p).end,C0(d,z,z.nextSibling),C0(d,z.previousSibling,z))}function n4(r){return r.is("element","ol")||r.is("element","ul")}class Fm extends ${static get pluginName(){return"ListEditing"}static get requires(){return[ge,Ma]}init(){let t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});let a=t.data,e=t.editing;var n;t.model.document.registerPostFixer(s=>function(d,g){let p=d.document.differ.getChanges(),z=new Map,m=!1;for(let C of p)if(C.type=="insert"&&C.name=="listItem")V(C.position);else if(C.type=="insert"&&C.name!="listItem"){if(C.name!="$text"){let S=C.position.nodeAfter;S.hasAttribute("listIndent")&&(g.removeAttribute("listIndent",S),m=!0),S.hasAttribute("listType")&&(g.removeAttribute("listType",S),m=!0),S.hasAttribute("listStyle")&&(g.removeAttribute("listStyle",S),m=!0);for(let F of Array.from(d.createRangeIn(S)).filter(N=>N.item.is("element","listItem")))V(F.previousPosition)}V(C.position.getShiftedBy(C.length))}else C.type=="remove"&&C.name=="listItem"?V(C.position):(C.type=="attribute"&&C.attributeKey=="listIndent"||C.type=="attribute"&&C.attributeKey=="listType")&&V(C.range.start);for(let C of z.values())B(C),k(C);return m;function V(C){let S=C.nodeBefore;if(S&&S.is("element","listItem")){let F=S;if(z.has(F))return;for(let N=F.previousSibling;N&&N.is("element","listItem");N=F.previousSibling)if(F=N,z.has(F))return;z.set(S,F)}else{let F=C.nodeAfter;F&&F.is("element","listItem")&&z.set(F,F)}}function B(C){let S=0,F=null;for(;C&&C.is("element","listItem");){let N=C.getAttribute("listIndent");if(N>S){let Q;F===null?(F=N-S,Q=S):(F>N&&(F=N),Q=N-F),g.setAttribute("listIndent",Q,C),m=!0}else F=null,S=C.getAttribute("listIndent")+1;C=C.nextSibling}}function k(C){let S=[],F=null;for(;C&&C.is("element","listItem");){let N=C.getAttribute("listIndent");if(F&&F.getAttribute("listIndent")>N&&(S=S.slice(0,N+1)),N!=0)if(S[N]){let Q=S[N];C.getAttribute("listType")!=Q&&(g.setAttribute("listType",Q,C),m=!0)}else S[N]=C.getAttribute("listType");F=C,C=C.nextSibling}}}(t.model,s)),e.mapper.registerViewToModelLength("li",R7),a.mapper.registerViewToModelLength("li",R7),e.mapper.on("modelToViewPosition",Wh(e.view)),e.mapper.on("viewToModelPosition",(n=t.model,(s,d)=>{let g=d.viewPosition,p=g.parent,z=d.mapper;if(p.name=="ul"||p.name=="ol"){if(g.isAtEnd){let m=z.toModelElement(g.nodeBefore),V=z.getModelLength(g.nodeBefore);d.modelPosition=n.createPositionBefore(m).getShiftedBy(V)}else{let m=z.toModelElement(g.nodeAfter);d.modelPosition=n.createPositionBefore(m)}s.stop()}else if(p.name=="li"&&g.nodeBefore&&(g.nodeBefore.name=="ul"||g.nodeBefore.name=="ol")){let m=z.toModelElement(p),V=1,B=g.nodeBefore;for(;B&&n4(B);)V+=z.getModelLength(B),B=B.previousSibling;d.modelPosition=n.createPositionBefore(m).getShiftedBy(V),s.stop()}})),a.mapper.on("modelToViewPosition",Wh(e.view)),t.conversion.for("editingDowncast").add(s=>{s.on("insert",Nh,{priority:"high"}),s.on("insert:listItem",Dh(t.model)),s.on("attribute:listType:listItem",Am,{priority:"high"}),s.on("attribute:listType:listItem",bm,{priority:"low"}),s.on("attribute:listIndent:listItem",function(d){return(g,p,z)=>{if(!z.consumable.consume(p.item,"attribute:listIndent"))return;let m=z.mapper.toViewElement(p.item),V=z.writer;V.breakContainer(V.createPositionBefore(m)),V.breakContainer(V.createPositionAfter(m));let B=m.parent,k=B.previousSibling,C=V.createRangeOn(B);V.remove(C),k&&k.nextSibling&&C0(V,k,k.nextSibling),Uh(p.attributeOldValue+1,p.range.start,C.start,m,z,d),Ph(p.item,m,z,d);for(let S of p.item.getChildren())z.consumable.consume(S,"insert")}}(t.model)),s.on("remove:listItem",function(d){return(g,p,z)=>{let m=z.mapper.toViewPosition(p.position).getLastMatchingPosition(F=>!F.item.is("element","li")).nodeAfter,V=z.writer;V.breakContainer(V.createPositionBefore(m)),V.breakContainer(V.createPositionAfter(m));let B=m.parent,k=B.previousSibling,C=V.createRangeOn(B),S=V.remove(C);k&&k.nextSibling&&C0(V,k,k.nextSibling),Uh(z.mapper.toModelElement(m).getAttribute("listIndent")+1,p.position,C.start,m,z,d);for(let F of V.createRangeIn(S).getItems())z.mapper.unbindViewElement(F);g.stop()}}(t.model)),s.on("remove",ym,{priority:"low"})}),t.conversion.for("dataDowncast").add(s=>{s.on("insert",Nh,{priority:"high"}),s.on("insert:listItem",Dh(t.model))}),t.conversion.for("upcast").add(s=>{s.on("element:ul",jh,{priority:"high"}),s.on("element:ol",jh,{priority:"high"}),s.on("element:li",Sm,{priority:"high"}),s.on("element:li",_m)}),t.model.on("insertContent",Im,{priority:"high"}),t.commands.add("numberedList",new Sh(t,"numbered")),t.commands.add("bulletedList",new Sh(t,"bulleted")),t.commands.add("indentList",new Fh(t,"forward")),t.commands.add("outdentList",new Fh(t,"backward"));let i=e.view.document;this.listenTo(i,"enter",(s,d)=>{let g=this.editor.model.document,p=g.selection.getLastPosition().parent;g.selection.isCollapsed&&p.name=="listItem"&&p.isEmpty&&(this.editor.execute("outdentList"),d.preventDefault(),s.stop())},{context:"li"}),this.listenTo(i,"delete",(s,d)=>{if(d.direction!=="backward")return;let g=this.editor.model.document.selection;if(!g.isCollapsed)return;let p=g.getFirstPosition();if(!p.isAtStart)return;let z=p.parent;z.name==="listItem"&&(z.previousSibling&&z.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),d.preventDefault(),s.stop()))},{context:"li"});let h=s=>(d,g)=>{this.editor.commands.get(s).isEnabled&&(this.editor.execute(s),g())};t.keystrokes.set("Tab",h("indentList")),t.keystrokes.set("Shift+Tab",h("outdentList"))}afterInit(){let t=this.editor.commands,a=t.get("indent"),e=t.get("outdent");a&&a.registerChildCommand(t.get("indentList")),e&&e.registerChildCommand(t.get("outdentList"))}}function R7(r){let t=1;for(let a of r.getChildren())if(a.name=="ul"||a.name=="ol")for(let e of a.getChildren())t+=R7(e);return t}class Pm extends ${static get pluginName(){return"ListUI"}init(){let t=this.editor.t;Rh(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Rh(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function qh(r,t){return e=>{e.on("attribute:url:media",a)};function a(e,n,i){if(!i.consumable.consume(n.item,e.name))return;let h=n.attributeNewValue,s=i.writer,d=i.mapper.toViewElement(n.item),g=[...d.getChildren()].find(z=>z.getCustomProperty("media-content"));s.remove(g);let p=r.getMediaViewElement(s,h,t);s.insert(s.createPositionAt(d,0),p)}}function Gh(r,t,a,e){let n=r.createContainerElement("figure",{class:"media"});return r.insert(r.createPositionAt(n,0),t.getMediaViewElement(r,a,e)),n}function $h(r){let t=r.getSelectedElement();return t&&t.is("element","media")?t:null}function Kh(r,t,a){r.change(e=>{let n=e.createElement("media",{url:t});r.insertContent(n,a),e.setSelection(n,"on")})}class Em extends n1{refresh(){let t=this.editor.model,a=t.document.selection,e=t.schema,n=$h(a);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(i){let h=i.getSelectedElement();return!!h&&h.name==="media"}(a)||function(i,h){let s=ma(i,h).parent;return s.isEmpty&&!h.schema.isLimit(s)&&(s=s.parent),h.schema.checkChild(s,"media")}(a,t)&&!B7(a,e)}execute(t){let a=this.editor.model,e=a.document.selection,n=$h(e);if(n)a.change(i=>{i.setAttribute("url",t,n)});else{let i=ma(e,a);Kh(a,t,i)}}}class Tm{constructor(t,a){let e=a.providers,n=a.extraProviders||[],i=new Set(a.removeProviders),h=e.concat(n).filter(s=>{let d=s.name;return d?!i.has(d):(Object(M.b)("media-embed-no-provider-name",{provider:s}),!1)});this.locale=t,this.providerDefinitions=h}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,a,e){return this._getMedia(a).getViewElement(t,e)}_getMedia(t){if(!t)return new Qh(this.locale);t=t.trim();for(let a of this.providerDefinitions){let e=a.html,n=u1(a.url);for(let i of n){let h=this._getUrlMatches(t,i);if(h)return new Qh(this.locale,t,h,e)}}return null}_getUrlMatches(t,a){let e=t.match(a);if(e)return e;let n=t.replace(/^https?:\/\//,"");return e=n.match(a),e||(n=n.replace(/^www\./,""),e=n.match(a),e||null)}}class Qh{constructor(t,a,e,n){this.url=this._getValidUrl(a),this._t=t.t,this._match=e,this._previewRenderer=n}getViewElement(t,a){let e={},n;if(a.renderForEditingView||a.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(e["data-oembed-url"]=this.url),a.renderForEditingView&&(e.class="ck-media__wrapper");let i=this._getPreviewHtml(a);n=t.createRawElement("div",e,function(h){h.innerHTML=i})}else this.url&&(e.url=this.url),n=t.createEmptyElement(a.elementName,e);return t.setCustomProperty("media-content",!0,n),n}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){let t=new Ul,a=new he;return t.text=this._t("Open media in new tab"),a.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',a.viewBox="0 0 64 42",new Y0({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[a]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}c(92);class Le extends ${static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:a=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${a[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:a=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${a[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:a=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:a=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${a[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Tm(t.locale,t.config.get("mediaEmbed"))}init(){let t=this.editor,a=t.model.schema,e=t.t,n=t.conversion,i=t.config.get("mediaEmbed.previewsInData"),h=t.config.get("mediaEmbed.elementName"),s=this.registry;t.commands.add("mediaEmbed",new Em(t)),a.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),n.for("dataDowncast").elementToElement({model:"media",view:(d,{writer:g})=>{let p=d.getAttribute("url");return Gh(g,s,p,{elementName:h,renderMediaPreview:p&&i})}}),n.for("dataDowncast").add(qh(s,{elementName:h,renderMediaPreview:i})),n.for("editingDowncast").elementToElement({model:"media",view:(d,{writer:g})=>{let p=d.getAttribute("url");return function(z,m,V){return m.setCustomProperty("media",!0,z),V7(z,m,{label:V})}(Gh(g,s,p,{elementName:h,renderForEditingView:!0}),g,e("media widget"))}}),n.for("editingDowncast").add(qh(s,{elementName:h,renderForEditingView:!0})),n.for("upcast").elementToElement({view:d=>["oembed",h].includes(d.name)&&d.getAttribute("url")?{name:!0}:null,model:(d,{writer:g})=>{let p=d.getAttribute("url");if(s.hasMedia(p))return g.createElement("media",{url:p})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(d,{writer:g})=>{let p=d.getAttribute("data-oembed-url");if(s.hasMedia(p))return g.createElement("media",{url:p})}})}}let Rm=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Dm extends ${static get requires(){return[kc,Nc]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){let t=this.editor,a=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{let e=a.selection.getFirstRange(),n=L2.fromPosition(e.start);n.stickiness="toPrevious";let i=L2.fromPosition(e.end);i.stickiness="toNext",a.once("change:data",()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&($1.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,a){let e=this.editor,n=e.plugins.get(Le).registry,i=new ut(t,a),h=i.getWalker({ignoreElementEnd:!0}),s="";for(let d of h)d.item.is("$textProxy")&&(s+=d.item.data);if(s=s.trim(),!s.match(Rm)||!n.hasMedia(s))return void i.detach();e.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=L2.fromPosition(t),this._timeoutId=$1.window.setTimeout(()=>{e.model.change(d=>{let g;this._timeoutId=null,d.remove(i),i.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(g=this._positionToInsert),Kh(e.model,s,g),this._positionToInsert.detach(),this._positionToInsert=null})},100)):i.detach()}}c(94);class Nm extends g1{constructor(t,a){super(a);let e=a.t;this.focusTracker=new f0,this.keystrokes=new It,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e("Save"),e7,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",n=>!!n),this.cancelButtonView=this._createButton(e("Cancel"),a7,"ck-button-cancel","cancel"),this._focusables=new e4,this._focusCycler=new W4({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),o7(this)}render(){super.render(),i7({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(a=>{this._focusables.add(a),this.focusTracker.add(a.element)}),this.keystrokes.listenTo(this.element);let t=a=>a.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(a,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(let t of this._validators){let a=t(this);if(a)return this.urlInputView.errorText=a,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){let t=this.locale.t,a=new u7(this.locale,g7),e=a.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),a.label=t("Media URL"),a.infoText=this._urlInputViewInfoDefault,e.on("input",()=>{a.infoText=e.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=e.element.value.trim()}),a}_createButton(t,a,e,n){let i=new K1(this.locale);return i.set({label:t,icon:a,tooltip:!0}),i.extendTemplate({attributes:{class:e}}),n&&i.delegate("execute").to(this,n),i}}class jm extends ${static get requires(){return[Le]}static get pluginName(){return"MediaEmbedUI"}init(){let t=this.editor,a=t.commands.get("mediaEmbed"),e=t.plugins.get(Le).registry;t.ui.componentFactory.add("mediaEmbed",n=>{let i=q4(n),h=new Nm(function(s,d){return[g=>{if(!g.url.length)return s("The URL must not be empty.")},g=>{if(!d.hasMedia(g.url))return s("This media URL is not supported.")}]}(t.t,e),t.locale);return this._setUpDropdown(i,h,a,t),this._setUpForm(i,h,a),i})}_setUpDropdown(t,a,e){let n=this.editor,i=n.t,h=t.buttonView;function s(){n.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(e),t.panelView.children.add(a),h.set({label:i("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),h.on("open",()=>{a.disableCssTransitions(),a.url=e.value||"",a.urlInputView.fieldView.select(),a.focus(),a.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{a.isValid()&&(n.execute("mediaEmbed",a.url),s())}),t.on("change:isOpen",()=>a.resetFormStatus()),t.on("cancel",()=>s())}_setUpForm(t,a,e){a.delegate("submit","cancel").to(t),a.urlInputView.bind("value").to(e,"value"),a.urlInputView.bind("isReadOnly").to(e,"isEnabled",n=>!n)}}c(96);function Wm(r,t){if(!r.childCount)return;let a=new ue(r.document),e=function(h,s){let d=s.createRangeIn(h),g=new st({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),p=[];for(let z of d)if(z.type==="elementStart"&&g.match(z.item)){let m=qm(z.item);p.push({element:z.item,id:m.id,order:m.order,indent:m.indent})}return p}(r,a);if(!e.length)return;let n=null,i=1;e.forEach((h,s)=>{let d=function(B,k){if(!B)return!0;if(B.id!==k.id)return k.indent-B.indent!=1;let C=k.element.previousSibling;if(!C)return!0;return S=C,!(S.is("element","ol")||S.is("element","ul"));var S}(e[s-1],h),g=d?null:e[s-1],p=(m=h,(z=g)?m.indent-z.indent:m.indent-1);var z,m;if(d&&(n=null,i=1),!n||p!==0){let B=function(k,C){let S=new RegExp(`@list l${k.id}:level${k.indent}\\s*({[^}]*)`,"gi"),F=/mso-level-number-format:([^;]{0,100});/gi,N=S.exec(C),Q="decimal",h1="ol";if(N&&N[1]){let P1=F.exec(N[1]);if(P1&&P1[1]&&(Q=P1[1].trim(),h1=Q!=="bullet"&&Q!=="image"?"ol":"ul"),Q==="bullet"){let x1=function(m2){let k2=function(e0){if(e0.getChild(0).is("$text"))return null;let C2=e0.getChild(0).getChild(0);return C2.is("$text")?C2:C2.getChild(0)}(m2);if(!k2)return null;let x2=k2._data;return x2==="o"?"circle":x2==="\xB7"?"disc":x2==="\xA7"?"square":null}(k.element);x1&&(Q=x1)}}return{type:h1,style:Um(Q)}}(h,t);if(n){if(h.indent>i){let k=n.getChild(n.childCount-1),C=k.getChild(k.childCount-1);n=Yh(B,C,a),i+=1}else if(h.indent<i){let k=i-h.indent;n=function(C,S){let F=C.getAncestors({parentFirst:!0}),N=null,Q=0;for(let h1 of F)if(h1.name!=="ul"&&h1.name!=="ol"||Q++,Q===S){N=h1;break}return N}(n,k),i=parseInt(h.indent)}}else n=Yh(B,h.element,a);h.indent<=i&&(n.is("element",B.type)||(n=a.rename(B.type,n)))}let V=function(B,k){return function(C,S){let F=new st({name:"span",styles:{"mso-list":"Ignore"}}),N=S.createRangeIn(C);for(let Q of N)Q.type==="elementStart"&&F.match(Q.item)&&S.remove(Q.item)}(B,k),k.rename("li",B)}(h.element,a);a.appendChild(V,n)})}function Um(r){switch(r){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return r;default:return null}}function Yh(r,t,a){let e=t.parent,n=a.createElement(r.type),i=e.getChildIndex(t)+1;return a.insertChild(i,n,e),r.style&&a.setStyle("list-style-type",r.style,n),n}function qm(r){let t={},a=r.getStyle("mso-list");if(a){let e=a.match(/(^|\s{1,100})l(\d+)/i),n=a.match(/\s{0,100}lfo(\d+)/i),i=a.match(/\s{0,100}level(\d+)/i);e&&n&&i&&(t.id=e[2],t.order=n[1],t.indent=i[1])}return t}let Gm=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class $m{constructor(t){this.document=t}isActive(t){return Gm.test(t)}execute(t){let a=new ue(this.document);(function(e,n){for(let i of e.getChildren())if(i.is("element","b")&&i.getStyle("font-weight")==="normal"){let h=e.getChildIndex(i);n.remove(i),n.insertChild(h,i.getChildren(),e)}})(t.content,a),function(e,n){for(let i of n.createRangeIn(e)){let h=i.item;if(h.is("element","li")){let s=h.getChild(0);s&&s.is("element","p")&&n.unwrapElement(s)}}}(t.content,a)}}function Xh(r){return r.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,a)=>a.length===1?" ":Array(a.length+1).join("\xA0 ").substr(0,a.length))}function Km(r,t){let a=new DOMParser,e=function(d){return Xh(Xh(d)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(d){let g=d.indexOf("</body>");if(g<0)return d;let p=d.indexOf("</html>",g+"</body>".length);return d.substring(0,g+"</body>".length)+(p>=0?d.substring(p):"")}(r=r.replace(/<!--\[if gte vml 1]>/g,""))),n=a.parseFromString(e,"text/html");(function(d){d.querySelectorAll("span[style*=spacerun]").forEach(g=>{let p=g.innerText.length||0;g.innerHTML=Array(p+1).join("\xA0 ").substr(0,p)})})(n);let i=n.body.innerHTML,h=function(d,g){let p=new la(g),z=new Y6(p,{blockFillerMode:"nbsp"}),m=d.createDocumentFragment(),V=d.body.childNodes;for(;V.length>0;)m.appendChild(V[0]);return z.domToView(m)}(n,t),s=function(d){let g=[],p=[],z=Array.from(d.getElementsByTagName("style"));for(let m of z)m.sheet&&m.sheet.cssRules&&m.sheet.cssRules.length&&(g.push(m.sheet),p.push(m.innerHTML));return{styles:g,stylesString:p.join(" ")}}(n);return{body:h,bodyString:i,styles:s.styles,stylesString:s.stylesString}}function Qm(r,t){if(!r.childCount)return;let a=new ue;(function(n,i,h){let s=h.createRangeIn(i),d=new st({name:"img"}),g=[];for(let p of s)if(d.match(p.item)){let z=p.item,m=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];m.length&&m.every(V=>n.indexOf(V)>-1)?g.push(z):z.getAttribute("src")||g.push(z)}for(let p of g)h.remove(p)})(function(n,i){let h=i.createRangeIn(n),s=new st({name:/v:(.+)/}),d=[];for(let g of h){let p=g.item,z=p.previousSibling&&p.previousSibling.name||null;s.match(p)&&p.getAttribute("o:gfxdata")&&z!=="v:shapetype"&&d.push(g.item.getAttribute("id"))}return d}(r,a),r,a),function(n,i){let h=i.createRangeIn(n),s=new st({name:/v:(.+)/}),d=[];for(let g of h)s.match(g.item)&&d.push(g.item);for(let g of d)i.remove(g)}(r,a);let e=function(n,i){let h=i.createRangeIn(n),s=new st({name:"img"}),d=[];for(let g of h)s.match(g.item)&&g.item.getAttribute("src").startsWith("file://")&&d.push(g.item);return d}(r,a);e.length&&function(n,i,h){if(n.length===i.length)for(let d=0;d<n.length;d++){let g=`data:${i[d].type};base64,${s=i[d].hex,btoa(s.match(/\w{2}/g).map(p=>String.fromCharCode(parseInt(p,16))).join(""))}`;h.setAttribute("src",g,n[d])}var s}(e,function(n){if(!n)return[];let i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,h=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),s=n.match(h),d=[];if(s)for(let g of s){let p=!1;g.includes("\\pngblip")?p="image/png":g.includes("\\jpegblip")&&(p="image/jpeg"),p&&d.push({hex:g.replace(i,"").replace(/[^\da-fA-F]/g,""),type:p})}return d}(t),a)}let Ym=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Xm=/xmlns:o="urn:schemas-microsoft-com/i;class Jm{constructor(t){this.document=t}isActive(t){return Ym.test(t)||Xm.test(t)}execute(t){let{body:a,stylesString:e}=Km(t.dataTransfer.getData("text/html"),this.document.stylesProcessor);Wm(a,e),Qm(a,t.dataTransfer.getData("text/rtf")),t.content=a}}function J1(r,t,a,e,n=1){t>n?e.setAttribute(r,t,a):e.removeAttribute(r,a)}function o4(r,t,a={}){let e=r.createElement("tableCell",a);return r.insertElement("paragraph",e),r.insert(e,t),e}function D7(r,t){let a=t.parent.parent,e=parseInt(a.getAttribute("headingColumns")||0),{column:n}=r.getCellLocation(t);return!!e&&n<e}function Zm(){return r=>{r.on("element:table",(t,a,e)=>{let n=a.viewItem;if(!e.consumable.test(n,{name:!0}))return;let{rows:i,headingRows:h,headingColumns:s}=function(p){let z={headingRows:0,headingColumns:0},m=[],V=[],B;for(let k of Array.from(p.getChildren()))if(k.name==="tbody"||k.name==="thead"||k.name==="tfoot"){k.name!=="thead"||B||(B=k);let C=Array.from(k.getChildren()).filter(S=>S.is("element","tr"));for(let S of C)if(S.parent.name==="thead"&&S.parent===B)z.headingRows++,m.push(S);else{V.push(S);let F=tx(S);F>z.headingColumns&&(z.headingColumns=F)}}return z.rows=[...m,...V],z}(n),d={};s&&(d.headingColumns=s),h&&(d.headingRows=h);let g=e.writer.createElement("table",d);if(e.safeInsert(g,a.modelCursor)){if(e.consumable.consume(n,{name:!0}),i.forEach(p=>e.convertItem(p,e.writer.createPositionAt(g,"end"))),g.isEmpty){let p=e.writer.createElement("tableRow");e.writer.insert(p,e.writer.createPositionAt(g,"end")),o4(e.writer,e.writer.createPositionAt(p,"end"))}e.updateConversionResult(g,a)}})}}function Jh(r){return t=>{t.on("element:"+r,(a,e,n)=>{if(e.modelRange&&e.viewItem.isEmpty){let i=e.modelRange.start.nodeAfter,h=n.writer.createPositionAt(i,0);n.writer.insertElement("paragraph",h)}},{priority:"low"})}}function tx(r){let t=0,a=0,e=Array.from(r.getChildren()).filter(n=>n.name==="th"||n.name==="td");for(;a<e.length&&e[a].name==="th";){let n=e[a];t+=parseInt(n.getAttribute("colspan")||1),a++}return t}class b1{constructor(t,a={}){this._table=t,this._startRow=a.row!==void 0?a.row:a.startRow||0,this._endRow=a.row!==void 0?a.row:a.endRow,this._startColumn=a.column!==void 0?a.column:a.startColumn||0,this._endColumn=a.column!==void 0?a.column:a.endColumn,this._includeAllSlots=!!a.includeAllSlots,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){let t=this._table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isOverEndColumn())return this._advanceToNextRow();let a=null,e=this._getSpanned();if(e)this._includeAllSlots&&!this._shouldSkipSlot()&&(a=this._formatOutValue(e.cell,e.row,e.column));else{let n=t.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();let i=parseInt(n.getAttribute("colspan")||1),h=parseInt(n.getAttribute("rowspan")||1);(i>1||h>1)&&this._recordSpans(n,h,i),this._shouldSkipSlot()||(a=this._formatOutValue(n)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,a||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(t,a=this._row,e=this._column){return{done:!1,value:new ax(this,t,a,e)}}_shouldSkipSlot(){let t=this._skipRows.has(this._row),a=this._row<this._startRow,e=this._column<this._startColumn,n=this._endColumn!==void 0&&this._column>this._endColumn;return t||a||e||n}_getSpanned(){let t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,a,e){let n={cell:t,row:this._row,column:this._column};for(let i=this._row;i<this._row+a;i++)for(let h=this._column;h<this._column+e;h++)i==this._row&&h==this._column||this._markSpannedCell(i,h,n)}_markSpannedCell(t,a,e){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(a,e)}}class ax{constructor(t,a,e,n){this.cell=a,this.row=t._row,this.column=t._column,this.cellAnchorRow=e,this.cellAnchorColumn=n,this._cellIndex=t._cellIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Zh(r={}){return t=>t.on("insert:table",(a,e,n)=>{let i=e.item;if(!n.consumable.consume(i,"insert"))return;n.consumable.consume(i,"attribute:headingRows:table"),n.consumable.consume(i,"attribute:headingColumns:table");let h=r&&r.asWidget,s=n.writer.createContainerElement("figure",{class:"table"}),d=n.writer.createContainerElement("table"),g;var p,z;n.writer.insert(n.writer.createPositionAt(s,0),d),h&&(p=s,(z=n.writer).setCustomProperty("table",!0,p),g=V7(p,z,{hasSelectionHandle:!0}));let m=new b1(i),V={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},B=new Map;for(let C of m){let{row:S,cell:F}=C,N=i.getChild(S),Q=B.get(S)||j7(d,N,S,V,n);B.set(S,Q),n.consumable.consume(F,"insert"),N7(C,V,n.writer.createPositionAt(Q,"end"),n,r)}for(let C of i.getChildren()){let S=C.index;B.has(S)||B.set(S,j7(d,C,S,V,n))}let k=n.mapper.toViewPosition(e.range.start);n.mapper.bindElements(i,h?g:s),n.writer.insert(k,h?g:s)})}function ex(r,t){let{writer:a}=t;if(r.parent.is("element","tableCell"))return ts(r)?a.createContainerElement("span",{style:"display:inline-block"}):a.createContainerElement("p")}function ts(r){return r.parent.childCount===1&&!ns(r)}function rx(r,t,a){let{cell:e}=r,n=as(r,t),i=a.mapper.toViewElement(e);i&&i.name!==n&&function(h,s,d){let g=d.writer,p=d.mapper.toViewElement(h),z=L7(g.createEditableElement(s,p.getAttributes()),g);w7(z,g,(m,V,B)=>B.addClass(u1(V.classes),m),(m,V,B)=>B.removeClass(u1(V.classes),m)),g.insert(g.createPositionAfter(p),z),g.move(g.createRangeIn(p),g.createPositionAt(z,0)),g.remove(g.createRangeOn(p)),d.mapper.unbindViewElement(p),d.mapper.bindElements(h,z)}(e,n,a)}function N7(r,t,a,e,n){let i=n&&n.asWidget,h=as(r,t),s=i?L7(e.writer.createEditableElement(h),e.writer):e.writer.createContainerElement(h);i&&w7(s,e.writer,(z,m,V)=>V.addClass(u1(m.classes),z),(z,m,V)=>V.removeClass(u1(m.classes),z));let d=r.cell,g=d.getChild(0),p=d.childCount===1&&g.name==="paragraph";if(e.writer.insert(a,s),e.mapper.bindElements(d,s),!i&&p&&!ns(g)){let z=d.getChild(0);e.consumable.consume(z,"insert"),e.mapper.bindElements(z,s)}}function j7(r,t,a,e,n){n.consumable.consume(t,"insert");let i=t.isEmpty?n.writer.createEmptyElement("tr"):n.writer.createContainerElement("tr");n.mapper.bindElements(t,i);let h=e.headingRows,s=function(p,z,m){return es(p,z)||function(B,k,C){let S=C.writer.createContainerElement(B),F=C.writer.createPositionAt(k,B=="tbody"?"end":0);return C.writer.insert(F,S),S}(p,z,m)}(function(p,z){return p<z.headingRows?"thead":"tbody"}(a,e),r,n),d=h>0&&a>=h?a-h:a,g=n.writer.createPositionAt(s,d);return n.writer.insert(g,i),i}function as(r,t){let{row:a,column:e}=r,{headingColumns:n,headingRows:i}=t;return i&&i>a||n&&n>e?"th":"td"}function es(r,t){for(let a of t.getChildren())if(a.name==r)return a}function rs(r,t,a){let e=es(r,t);e&&e.childCount===0&&a.writer.remove(a.writer.createRangeOn(e))}function ns(r){return!![...r.getAttributeKeys()].length}class nx extends n1{refresh(){let t=this.editor.model,a=t.document.selection,e=t.schema;this.isEnabled=function(n,i){let h=n.getFirstPosition().parent,s=h===h.root?h:h.parent;return i.checkChild(s,"table")}(a,e)&&!B7(a,e)}execute(t={}){let a=this.editor.model,e=a.document.selection,n=this.editor.plugins.get("TableUtils"),i=ma(e,a);a.change(h=>{let s=n.createTable(h,t);a.insertContent(s,i),h.setSelection(h.createPositionAt(s.getNodeByPath([0,0,0]),0))})}}function Z4(r){let t=[];for(let a of os(r.getRanges())){let e=a.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}function Ha(r){let t=[];for(let a of r.getRanges()){let e=a.start.findAncestor("tableCell");e&&t.push(e)}return t}function B2(r){let t=Z4(r);return t.length?t:Ha(r)}function g5(r){return is(r.map(t=>t.parent.index))}function t3(r){let t=r[0].findAncestor("table");return is([...new b1(t)].filter(a=>r.includes(a.cell)).map(a=>a.column))}function W7(r,t){if(r.length<2||!function(i){let h=i[0].findAncestor("table"),s=g5(i),d=parseInt(h.getAttribute("headingRows")||0);if(!ls(s,d))return!1;let g=parseInt(h.getAttribute("headingColumns")||0);return ls(t3(i),g)}(r))return!1;let a=new Set,e=new Set,n=0;for(let i of r){let{row:h,column:s}=t.getCellLocation(i),d=parseInt(i.getAttribute("rowspan")||1),g=parseInt(i.getAttribute("colspan")||1);a.add(h),e.add(s),d>1&&a.add(h+d-1),g>1&&e.add(s+g-1),n+=d*g}return function(i,h){let s=Array.from(i.values()),d=Array.from(h.values()),g=Math.max(...s),p=Math.min(...s),z=Math.max(...d),m=Math.min(...d);return(g-p+1)*(z-m+1)}(a,e)==n}function os(r){return Array.from(r).sort(ox)}function is(r){let t=r.sort((a,e)=>a-e);return{first:t[0],last:t[t.length-1]}}function ox(r,t){let a=r.start,e=t.start;return a.isBefore(e)?-1:1}function ls({first:r,last:t},a){return r<a==t<a}class cs extends n1{constructor(t,a={}){super(t),this.order=a.order||"below"}refresh(){let t=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!t}execute(){let t=this.editor,a=t.model.document.selection,e=t.plugins.get("TableUtils"),n=this.order==="above",i=B2(a),h=g5(i),s=n?h.first:h.last,d=i[0].findAncestor("table");e.insertRows(d,{at:n?s:s+1,copyStructureFromAbove:!n})}}class hs extends n1{constructor(t,a={}){super(t),this.order=a.order||"right"}refresh(){let t=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!t}execute(){let t=this.editor,a=t.model.document.selection,e=t.plugins.get("TableUtils"),n=this.order==="left",i=B2(a),h=t3(i),s=n?h.first:h.last,d=i[0].findAncestor("table");e.insertColumns(d,{columns:1,at:n?s:s+1})}}class ss extends n1{constructor(t,a={}){super(t),this.direction=a.direction||"horizontally"}refresh(){let t=B2(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){let t=B2(this.editor.model.document.selection)[0],a=this.direction==="horizontally",e=this.editor.plugins.get("TableUtils");a?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function vs(r,t,a){let{startRow:e,startColumn:n,endRow:i,endColumn:h}=t,s=a.createElement("table"),d=i-e+1;for(let p=0;p<d;p++)a.insertElement("tableRow",s,"end");let g=[...new b1(r,{startRow:e,endRow:i,startColumn:n,endColumn:h,includeAllSlots:!0})];for(let{row:p,column:z,cell:m,isAnchor:V,cellAnchorRow:B,cellAnchorColumn:k}of g){let C=p-e,S=s.getChild(C);if(V){let F=a.cloneElement(m);a.append(F,S),zs(F,p,z,i,h,a)}else(B<e||k<n)&&o4(a,a.createPositionAt(S,"end"))}return function(p,z,m,V,B){let k=parseInt(z.getAttribute("headingRows")||0);k>0&&J1("headingRows",k-m,p,B,0);let C=parseInt(z.getAttribute("headingColumns")||0);C>0&&J1("headingColumns",C-V,p,B,0)}(s,r,e,n,a),s}function ds(r,t,a=0){let e=[],n=new b1(r,{startRow:a,endRow:t-1});for(let i of n){let{row:h,cellHeight:s}=i,d=h+s-1;h<t&&t<=d&&e.push(i)}return e}function us(r,t,a){let e=r.parent,n=e.parent,i=e.index,h=t-i,s={},d=parseInt(r.getAttribute("rowspan"))-h;d>1&&(s.rowspan=d);let g=parseInt(r.getAttribute("colspan")||1);g>1&&(s.colspan=g);let p=i+h,z=[...new b1(n,{startRow:i,endRow:p,includeAllSlots:!0})],m,V=null;for(let B of z){let{row:k,column:C,cell:S}=B;S===r&&m===void 0&&(m=C),m!==void 0&&m===C&&k===p&&(V=o4(a,B.getPositionBefore(),s))}return J1("rowspan",h,r,a),V}function gs(r,t){let a=[],e=new b1(r);for(let n of e){let{column:i,cellWidth:h}=n,s=i+h-1;i<t&&t<=s&&a.push(n)}return a}function ps(r,t,a,e){let n=a-t,i={},h=parseInt(r.getAttribute("colspan"))-n;h>1&&(i.colspan=h);let s=parseInt(r.getAttribute("rowspan")||1);s>1&&(i.rowspan=s);let d=o4(e,e.createPositionAfter(r),i);return J1("colspan",n,r,e),d}function zs(r,t,a,e,n,i){let h=parseInt(r.getAttribute("colspan")||1),s=parseInt(r.getAttribute("rowspan")||1);a+h-1>n&&J1("colspan",n-a+1,r,i,1),t+s-1>e&&J1("rowspan",e-t+1,r,i,1)}function U7(r,t){let a=t.getColumns(r),e=new Array(a).fill(0);for(let{column:i}of new b1(r))e[i]++;let n=e.reduce((i,h,s)=>h?i:[...i,s],[]);if(n.length>0){let i=n[n.length-1];return t.removeColumns(r,{at:i}),!0}return!1}function q7(r,t){let a=[];for(let e=0;e<r.childCount;e++)r.getChild(e).isEmpty&&a.push(e);if(a.length>0){let e=a[a.length-1];return t.removeRows(r,{at:e}),!0}return!1}function G7(r,t){U7(r,t)||q7(r,t)}function fs(r,t){let a=Array.from(new b1(r,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(a.every(({cellHeight:n})=>n===1))return t.lastRow;let e=a[0].cellHeight-1;return t.lastRow+e}function Ms(r,t){let a=Array.from(new b1(r,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(a.every(({cellWidth:n})=>n===1))return t.lastColumn;let e=a[0].cellWidth-1;return t.lastColumn+e}class Be extends n1{constructor(t,a){super(t),this.direction=a.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){let t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){let t=this.editor.model,a=Ha(t.document.selection)[0],e=this.value,n=this.direction;t.change(i=>{let h=n=="right"||n=="down",s=h?a:e,d=h?e:a,g=d.parent;(function(B,k,C){ms(B)||(ms(k)&&C.remove(C.createRangeIn(k)),C.move(C.createRangeIn(B),C.createPositionAt(k,"end"))),C.remove(B)})(d,s,i);let p=this.isHorizontal?"colspan":"rowspan",z=parseInt(a.getAttribute(p)||1),m=parseInt(e.getAttribute(p)||1);i.setAttribute(p,z+m,s),i.setSelection(i.createRangeIn(s));let V=this.editor.plugins.get("TableUtils");G7(g.findAncestor("table"),V)})}_getMergeableCell(){let t=Ha(this.editor.model.document.selection)[0];if(!t)return;let a=this.editor.plugins.get("TableUtils"),e=this.isHorizontal?function(h,s,d){let g=h.parent.parent,p=s=="right"?h.nextSibling:h.previousSibling,z=(g.getAttribute("headingColumns")||0)>0;if(!p)return;let m=s=="right"?h:p,V=s=="right"?p:h,{column:B}=d.getCellLocation(m),{column:k}=d.getCellLocation(V),C=parseInt(m.getAttribute("colspan")||1),S=D7(d,m),F=D7(d,V);if(!(z&&S!=F))return B+C===k?p:void 0}(t,this.direction,a):function(h,s){let d=h.parent,g=d.parent,p=g.getChildIndex(d);if(s=="down"&&p===g.childCount-1||s=="up"&&p===0)return;let z=parseInt(h.getAttribute("rowspan")||1),m=g.getAttribute("headingRows")||0,V=s=="down"&&p+z===m,B=s=="up"&&p===m;if(m&&(V||B))return;let k=parseInt(h.getAttribute("rowspan")||1),C=s=="down"?p+k:p,S=[...new b1(g,{endRow:C})],F=S.find(Q=>Q.cell===h).column,N=S.find(({row:Q,cellHeight:h1,column:P1})=>P1===F&&(s=="down"?Q===C:C===Q+h1));return N&&N.cell}(t,this.direction);if(!e)return;let n=this.isHorizontal?"rowspan":"colspan",i=parseInt(t.getAttribute(n)||1);return parseInt(e.getAttribute(n)||1)===i?e:void 0}}function ms(r){return r.childCount==1&&r.getChild(0).is("element","paragraph")&&r.getChild(0).isEmpty}class ix extends n1{refresh(){let t=B2(this.editor.model.document.selection),a=t[0];if(a){let e=a.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getRows(e)-1,i=g5(t),h=i.first===0&&i.last===n;this.isEnabled=!h}else this.isEnabled=!1}execute(){let t=this.editor.model,a=B2(t.document.selection),e=g5(a),n=a[0],i=n.findAncestor("table"),h=this.editor.plugins.get("TableUtils").getCellLocation(n).column;t.change(s=>{let d=e.last-e.first+1;this.editor.plugins.get("TableUtils").removeRows(i,{at:e.first,rows:d});let g=function(p,z,m){let V=p.getChild(z)||p.getChild(p.childCount-1),B=V.getChild(0),k=0;for(let C of V.getChildren()){if(k>m)return B;B=C,k+=parseInt(C.getAttribute("colspan")||1)}return B}(i,e.first,h);s.setSelection(s.createPositionAt(g,0))})}}class lx extends n1{refresh(){let t=B2(this.editor.model.document.selection),a=t[0];if(a){let e=a.findAncestor("table"),n=this.editor.plugins.get("TableUtils").getColumns(e),{first:i,last:h}=t3(t);this.isEnabled=h-i<n-1}else this.isEnabled=!1}execute(){let[t,a]=function(s){let d=B2(s),g=d[0],p=d.pop(),z=[g,p];return g.isBefore(p)?z:z.reverse()}(this.editor.model.document.selection),e=t.parent.parent,n=[...new b1(e)],i={first:n.find(s=>s.cell===t).column,last:n.find(s=>s.cell===a).column},h=function(s,d,g,p){return parseInt(g.getAttribute("colspan")||1)>1?g:d.previousSibling||g.nextSibling?g.nextSibling||d.previousSibling:p.first?s.reverse().find(({column:z})=>z<p.first).cell:s.reverse().find(({column:z})=>z>p.last).cell}(n,t,a,i);this.editor.model.change(s=>{let d=i.last-i.first+1;this.editor.plugins.get("TableUtils").removeColumns(e,{at:i.first,columns:d}),s.setSelection(s.createPositionAt(h,0))})}}class cx extends n1{refresh(){let t=B2(this.editor.model.document.selection),a=t.length>0;this.isEnabled=a,this.value=a&&t.every(e=>this._isInHeading(e,e.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;let a=this.editor.model,e=B2(a.document.selection),n=e[0].findAncestor("table"),{first:i,last:h}=g5(e),s=this.value?i:h+1,d=n.getAttribute("headingRows")||0;a.change(g=>{if(s){let p=ds(n,s,s>d?d:0);for(let{cell:z}of p)us(z,s,g)}J1("headingRows",s,n,g,0)})}_isInHeading(t,a){let e=parseInt(a.getAttribute("headingRows")||0);return!!e&&t.parent.index<e}}class hx extends n1{refresh(){let t=B2(this.editor.model.document.selection),a=this.editor.plugins.get("TableUtils"),e=t.length>0;this.isEnabled=e,this.value=e&&t.every(n=>D7(a,n))}execute(t={}){if(t.forceValue===this.value)return;let a=this.editor.model,e=B2(a.document.selection),n=e[0].findAncestor("table"),{first:i,last:h}=t3(e),s=this.value?i:h+1;a.change(d=>{if(s){let g=gs(n,s);for(let{cell:p,column:z}of g)ps(p,z,s,d)}J1("headingColumns",s,n,d,0)})}}class a3 extends ${static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){let a=t.parent,e=a.parent,n=e.getChildIndex(a),i=new b1(e,{row:n});for(let{cell:h,row:s,column:d}of i)if(h===t)return{row:s,column:d}}createTable(t,a){let e=t.createElement("table");return $7(t,e,0,parseInt(a.rows)||2,parseInt(a.columns)||2),a.headingRows&&J1("headingRows",a.headingRows,e,t,0),a.headingColumns&&J1("headingColumns",a.headingColumns,e,t,0),e}insertRows(t,a={}){let e=this.editor.model,n=a.at||0,i=a.rows||1,h=a.copyStructureFromAbove!==void 0,s=a.copyStructureFromAbove?n-1:n,d=this.getRows(t),g=this.getColumns(t);e.change(p=>{let z=t.getAttribute("headingRows")||0;if(z>n&&J1("headingRows",z+i,t,p,0),!h&&(n===0||n===d))return void $7(p,t,n,i,g);let m=h?Math.max(n,s):n,V=new b1(t,{endRow:m}),B=new Array(g).fill(1);for(let{row:k,column:C,cellHeight:S,cellWidth:F,cell:N}of V){let Q=k+S-1,h1=k<=s&&s<=Q;k<n&&n<=Q?(p.setAttribute("rowspan",S+i,N),B[C]=-F):h&&h1&&(B[C]=F)}for(let k=0;k<i;k++){let C=p.createElement("tableRow");p.insert(C,t,n);for(let S=0;S<B.length;S++){let F=B[S],N=p.createPositionAt(C,"end");F>0&&o4(p,N,F>1?{colspan:F}:null),S+=Math.abs(F)-1}}})}insertColumns(t,a={}){let e=this.editor.model,n=a.at||0,i=a.columns||1;e.change(h=>{let s=t.getAttribute("headingColumns");n<s&&h.setAttribute("headingColumns",s+i,t);let d=this.getColumns(t);if(n===0||d===n){for(let p of t.getChildren())e3(i,h,h.createPositionAt(p,n?"end":0));return}let g=new b1(t,{column:n,includeAllSlots:!0});for(let p of g){let{row:z,cell:m,cellAnchorColumn:V,cellAnchorRow:B,cellWidth:k,cellHeight:C}=p;if(V<n){h.setAttribute("colspan",k+i,m);let S=B+C-1;for(let F=z;F<=S;F++)g.skipRow(F)}else e3(i,h,p.getPositionBefore())}})}removeRows(t,a){let e=this.editor.model,n=a.rows||1,i=a.at,h=i+n-1;e.change(s=>{let{cellsToMove:d,cellsToTrim:g}=function(p,z,m){let V=new Map,B=[];for(let{row:k,column:C,cellHeight:S,cell:F}of new b1(p,{endRow:m})){let N=k+S-1;if(k>=z&&k<=m&&N>m){let Q=S-(m-k+1);V.set(C,{cell:F,rowspan:Q})}if(k<z&&N>=z){let Q;Q=N>=m?m-z+1:N-z+1,B.push({cell:F,rowspan:S-Q})}}return{cellsToMove:V,cellsToTrim:B}}(t,i,h);d.size&&function(p,z,m,V){let B=[...new b1(p,{includeAllSlots:!0,row:z})],k=p.getChild(z),C;for(let{column:S,cell:F,isAnchor:N}of B)if(m.has(S)){let{cell:Q,rowspan:h1}=m.get(S),P1=C?V.createPositionAfter(C):V.createPositionAt(k,0);V.move(V.createRangeOn(Q),P1),J1("rowspan",h1,Q,V),C=Q}else N&&(C=F)}(t,h+1,d,s);for(let p=h;p>=i;p--)s.remove(t.getChild(p));for(let{rowspan:p,cell:z}of g)J1("rowspan",p,z,s);(function(p,z,m,V){let B=p.getAttribute("headingRows")||0;z<B&&J1("headingRows",m<B?B-(m-z+1):z,p,V,0)})(t,i,h,s),U7(t,this)||q7(t,this)})}removeColumns(t,a){let e=this.editor.model,n=a.at,i=a.columns||1,h=a.at+i-1;e.change(s=>{(function(d,g,p){let z=d.getAttribute("headingColumns")||0;if(z&&g.first<z){let m=Math.min(z-1,g.last)-g.first+1;p.setAttribute("headingColumns",z-m,d)}})(t,{first:n,last:h},s);for(let d=h;d>=n;d--)for(let{cell:g,column:p,cellWidth:z}of[...new b1(t)])p<=d&&z>1&&p+z>d?J1("colspan",z-1,g,s):p===d&&s.remove(g);q7(t,this)||U7(t,this)})}splitCellVertically(t,a=2){let e=this.editor.model,n=t.parent.parent,i=parseInt(t.getAttribute("rowspan")||1),h=parseInt(t.getAttribute("colspan")||1);e.change(s=>{if(h>1){let{newCellsSpan:d,updatedSpan:g}=xs(h,a);J1("colspan",g,t,s);let p={};d>1&&(p.colspan=d),i>1&&(p.rowspan=i),e3(h>a?a-1:h-1,s,s.createPositionAfter(t),p)}if(h<a){let d=a-h,g=[...new b1(n)],{column:p}=g.find(({cell:B})=>B===t),z=g.filter(({cell:B,cellWidth:k,column:C})=>B!==t&&C===p||C<p&&C+k>p);for(let{cell:B,cellWidth:k}of z)s.setAttribute("colspan",k+d,B);let m={};i>1&&(m.rowspan=i),e3(d,s,s.createPositionAfter(t),m);let V=n.getAttribute("headingColumns")||0;V>p&&J1("headingColumns",V+d,n,s)}})}splitCellHorizontally(t,a=2){let e=this.editor.model,n=t.parent,i=n.parent,h=i.getChildIndex(n),s=parseInt(t.getAttribute("rowspan")||1),d=parseInt(t.getAttribute("colspan")||1);e.change(g=>{if(s>1){let p=[...new b1(i,{startRow:h,endRow:h+s-1,includeAllSlots:!0})],{newCellsSpan:z,updatedSpan:m}=xs(s,a);J1("rowspan",m,t,g);let{column:V}=p.find(({cell:k})=>k===t),B={};z>1&&(B.rowspan=z),d>1&&(B.colspan=d);for(let k of p){let{column:C,row:S}=k,F=C===V,N=(S+h+m)%z==0;S>=h+m&&F&&N&&e3(1,g,k.getPositionBefore(),B)}}if(s<a){let p=a-s,z=[...new b1(i,{startRow:0,endRow:h})];for(let{cell:B,cellHeight:k,row:C}of z)if(B!==t&&C+k>h){let S=k+p;g.setAttribute("rowspan",S,B)}let m={};d>1&&(m.colspan=d),$7(g,i,h+1,p,1,m);let V=i.getAttribute("headingRows")||0;V>h&&J1("headingRows",V+p,i,g)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((a,e)=>a+parseInt(e.getAttribute("colspan")||1),0)}getRows(t){return t.childCount}}function $7(r,t,a,e,n,i={}){for(let h=0;h<e;h++){let s=r.createElement("tableRow");r.insert(s,t,a),e3(n,r,r.createPositionAt(s,"end"),i)}}function e3(r,t,a,e={}){for(let n=0;n<r;n++)o4(t,a,e)}function xs(r,t){if(r<t)return{newCellsSpan:1,updatedSpan:1};let a=Math.floor(r/t);return{newCellsSpan:a,updatedSpan:r-a*t+a}}class sx extends n1{refresh(){let t=Z4(this.editor.model.document.selection);this.isEnabled=W7(t,this.editor.plugins.get(a3))}execute(){let t=this.editor.model,a=this.editor.plugins.get(a3);t.change(e=>{let n=Z4(t.document.selection),i=n.shift(),{mergeWidth:h,mergeHeight:s}=function(d,g,p){let z=0,m=0;for(let k of g){let{row:C,column:S}=p.getCellLocation(k);z=Vs(k,S,z,"colspan"),m=Vs(k,C,m,"rowspan")}let{row:V,column:B}=p.getCellLocation(d);return{mergeWidth:z-B,mergeHeight:m-V}}(i,n,a);J1("colspan",h,i,e),J1("rowspan",s,i,e);for(let d of n)vx(d,i,e);G7(i.findAncestor("table"),a),e.setSelection(i,"in")})}}function vx(r,t,a){Hs(r)||(Hs(t)&&a.remove(a.createRangeIn(t)),a.move(a.createRangeIn(r),a.createPositionAt(t,"end"))),a.remove(r)}function Hs(r){return r.childCount==1&&r.getChild(0).is("element","paragraph")&&r.getChild(0).isEmpty}function Vs(r,t,a,e){let n=parseInt(r.getAttribute(e)||1);return Math.max(a,t+n)}class dx extends n1{refresh(){let t=B2(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){let t=this.editor.model,a=B2(t.document.selection),e=g5(a),n=a[0].findAncestor("table"),i=[];for(let h=e.first;h<=e.last;h++)for(let s of n.getChild(h).getChildren())i.push(t.createRangeOn(s));t.change(h=>{h.setSelection(i)})}}class ux extends n1{refresh(){let t=B2(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){let t=this.editor.model,a=B2(t.document.selection),e=a[0],n=a.pop(),i=e.findAncestor("table"),h=this.editor.plugins.get("TableUtils"),s=h.getCellLocation(e),d=h.getCellLocation(n),g=Math.min(s.column,d.column),p=Math.max(s.column,d.column),z=[];for(let m of new b1(i,{startColumn:g,endColumn:p}))z.push(t.createRangeOn(m.cell));t.change(m=>{m.setSelection(z)})}}function gx(r){r.document.registerPostFixer(t=>function(a,e){let n=e.document.differ.getChanges(),i=!1,h=new Set;for(let s of n){let d;s.name=="table"&&s.type=="insert"&&(d=s.position.nodeAfter),s.name!="tableRow"&&s.name!="tableCell"||(d=s.position.findAncestor("table")),fx(s)&&(d=s.range.start.findAncestor("table")),d&&!h.has(d)&&(i=px(d,a)||i,i=zx(d,a)||i,h.add(d))}return i}(t,r))}function px(r,t){let a=!1,e=function(n){let i=parseInt(n.getAttribute("headingRows")||0),h=n.childCount,s=[];for(let{row:d,cell:g,cellHeight:p}of new b1(n)){if(p<2)continue;let z=d<i?i:h;if(d+p>z){let m=z-d;s.push({cell:g,rowspan:m})}}return s}(r);if(e.length){a=!0;for(let n of e)J1("rowspan",n.rowspan,n.cell,t,1)}return a}function zx(r,t){let a=!1,e=function(h){let s=new Array(h.childCount).fill(0);for(let{row:d}of new b1(h,{includeAllSlots:!0}))s[d]++;return s}(r),n=[];for(let[h,s]of e.entries())s||n.push(h);if(n.length){a=!0;for(let h of n.reverse())t.remove(r.getChild(h)),e.splice(h,1)}let i=e[0];if(!e.every(h=>h===i)){let h=e.reduce((s,d)=>d>s?d:s,0);for(let[s,d]of e.entries()){let g=h-d;if(g){for(let p=0;p<g;p++)o4(t,t.createPositionAt(r.getChild(s),"end"));a=!0}}}return a}function fx(r){let t=r.type==="attribute",a=r.attributeKey;return t&&(a==="headingRows"||a==="colspan"||a==="rowspan")}function Mx(r){r.document.registerPostFixer(t=>function(a,e){let n=e.document.differ.getChanges(),i=!1;for(let h of n)h.type=="insert"&&h.name=="table"&&(i=mx(h.position.nodeAfter,a)||i),h.type=="insert"&&h.name=="tableRow"&&(i=ws(h.position.nodeAfter,a)||i),h.type=="insert"&&h.name=="tableCell"&&(i=K7(h.position.nodeAfter,a)||i),xx(h)&&(i=K7(h.position.parent,a)||i);return i}(t,r))}function mx(r,t){let a=!1;for(let e of r.getChildren())a=ws(e,t)||a;return a}function ws(r,t){let a=!1;for(let e of r.getChildren())a=K7(e,t)||a;return a}function K7(r,t){if(r.childCount==0)return t.insertElement("paragraph",r),!0;let a=Array.from(r.getChildren()).filter(e=>e.is("$text"));for(let e of a)t.wrap(t.createRangeOn(e),"paragraph");return!!a.length}function xx(r){return!(!r.position||!r.position.parent.is("element","tableCell"))&&(r.type=="insert"&&r.name=="$text"||r.type=="remove")}function Hx(r,t){r.document.registerPostFixer(()=>function(a,e){let n=new Set;for(let i of a.getChanges()){let h=i.type=="attribute"?i.range.start.parent:i.position.parent;h.is("element","tableCell")&&n.add(h)}for(let i of n.values())for(let h of[...i.getChildren()].filter(s=>Vx(s,e)))a.refreshItem(h);return!1}(r.document.differ,t))}function Vx(r,t){if(!r.is("element","paragraph"))return!1;let a=t.toViewElement(r);return!!a&&ts(r)!==a.is("element","span")}function wx(r){r.document.registerPostFixer(()=>function(t){let a=t.document.differ,e=new Set;for(let n of a.getChanges()){if(n.type!="attribute")continue;let i=n.range.start.nodeAfter;i&&i.is("element","table")&&n.attributeKey=="headingRows"&&e.add(i)}if(e.size){for(let n of e.values())a.refreshItem(n);return!0}return!1}(r))}c(98);class Lx extends ${static get pluginName(){return"TableEditing"}init(){let t=this.editor,a=t.model,e=a.schema,n=t.conversion;e.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),e.register("tableRow",{allowIn:"table",isLimit:!0}),e.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),e.extend("$block",{allowIn:"tableCell"}),n.for("upcast").add(Zm()),n.for("editingDowncast").add(Zh({asWidget:!0})),n.for("dataDowncast").add(Zh()),n.for("upcast").elementToElement({model:"tableRow",view:"tr"}),n.for("upcast").add(i=>{i.on("element:tr",(h,s)=>{s.viewItem.isEmpty&&s.modelCursor.index==0&&h.stop()},{priority:"high"})}),n.for("editingDowncast").add(i=>i.on("insert:tableRow",(h,s,d)=>{let g=s.item;if(!d.consumable.consume(g,"insert"))return;let p=g.parent,z=function(C){for(let S of C.getChildren())if(S.name==="table")return S}(d.mapper.toViewElement(p)),m=p.getChildIndex(g),V=new b1(p,{row:m}),B={headingRows:p.getAttribute("headingRows")||0,headingColumns:p.getAttribute("headingColumns")||0},k=new Map;for(let C of V){let S=k.get(m)||j7(z,g,m,B,d);k.set(m,S),d.consumable.consume(C.cell,"insert"),N7(C,B,d.writer.createPositionAt(S,"end"),d,{asWidget:!0})}})),n.for("editingDowncast").add(i=>i.on("remove:tableRow",(h,s,d)=>{h.stop();let g=d.writer,p=d.mapper,z=p.toViewPosition(s.position).getLastMatchingPosition(k=>!k.item.is("element","tr")).nodeAfter,m=z.parent.parent,V=g.createRangeOn(z),B=g.remove(V);for(let k of g.createRangeIn(B).getItems())p.unbindViewElement(k);rs("thead",m,d),rs("tbody",m,d)},{priority:"higher"})),n.for("upcast").elementToElement({model:"tableCell",view:"td"}),n.for("upcast").elementToElement({model:"tableCell",view:"th"}),n.for("upcast").add(Jh("td")),n.for("upcast").add(Jh("th")),n.for("editingDowncast").add(i=>i.on("insert:tableCell",(h,s,d)=>{let g=s.item;if(!d.consumable.consume(g,"insert"))return;let p=g.parent,z=p.parent,m=z.getChildIndex(p),V=new b1(z,{row:m}),B={headingRows:z.getAttribute("headingRows")||0,headingColumns:z.getAttribute("headingColumns")||0};for(let k of V)if(k.cell===g){let C=d.mapper.toViewElement(p);return void N7(k,B,d.writer.createPositionAt(C,p.getChildIndex(g)),d,{asWidget:!0})}})),t.conversion.for("editingDowncast").elementToElement({model:"paragraph",view:ex,converterPriority:"high"}),n.attributeToAttribute({model:"colspan",view:"colspan"}),n.attributeToAttribute({model:"rowspan",view:"rowspan"}),n.for("editingDowncast").add(i=>i.on("attribute:headingColumns:table",(h,s,d)=>{let g=s.item;if(!d.consumable.consume(s.item,h.name))return;let p={headingRows:g.getAttribute("headingRows")||0,headingColumns:g.getAttribute("headingColumns")||0},z=s.attributeOldValue,m=s.attributeNewValue,V=(z>m?z:m)-1;for(let B of new b1(g,{endColumn:V}))rx(B,p,d)})),t.commands.add("insertTable",new nx(t)),t.commands.add("insertTableRowAbove",new cs(t,{order:"above"})),t.commands.add("insertTableRowBelow",new cs(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new hs(t,{order:"left"})),t.commands.add("insertTableColumnRight",new hs(t,{order:"right"})),t.commands.add("removeTableRow",new ix(t)),t.commands.add("removeTableColumn",new lx(t)),t.commands.add("splitTableCellVertically",new ss(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new ss(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new sx(t)),t.commands.add("mergeTableCellRight",new Be(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new Be(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new Be(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new Be(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new hx(t)),t.commands.add("setTableRowHeader",new cx(t)),t.commands.add("selectTableRow",new dx(t)),t.commands.add("selectTableColumn",new ux(t)),wx(a),gx(a),Hx(a,t.editing.mapper),Mx(a)}static get requires(){return[a3]}}c(100);class Bx extends g1{constructor(t){super(t);let a=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(e,n)=>`${n} \xD7 ${e}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":a.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:a.to("label")}]}],on:{mousedown:a.to(e=>{e.preventDefault()}),click:a.to(()=>{this.fire("execute")})}}),this.on("boxover",(e,n)=>{let{row:i,column:h}=n.target.dataset;this.set({rows:parseInt(i),columns:parseInt(h)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){let t=this.rows,a=this.columns;this.items.map((e,n)=>{let i=Math.floor(n/10)<t&&n%10<a;e.set("isOn",i)})}_createGridCollection(){let t=[];for(let a=0;a<100;a++){let e=Math.floor(a/10),n=a%10;t.push(new kx(this.locale,e+1,n+1))}return this.createCollection(t)}}class kx extends g1{constructor(t,a,e){super(t);let n=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",n.if("isOn","ck-on")],"data-row":a,"data-column":e}})}}class Cx extends ${static get pluginName(){return"TableUI"}init(){let t=this.editor,a=this.editor.t,e=t.locale.contentLanguageDirection==="ltr";t.ui.componentFactory.add("insertTable",n=>{let i=t.commands.get("insertTable"),h=q4(n),s;return h.bind("isEnabled").to(i),h.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:a("Insert table"),tooltip:!0}),h.on("change:isOpen",()=>{s||(s=new Bx(n),h.panelView.children.add(s),s.delegate("execute").to(h),h.buttonView.on("open",()=>{s.rows=0,s.columns=0}),h.on("execute",()=>{t.execute("insertTable",{rows:s.rows,columns:s.columns}),t.editing.view.focus()}))}),h}),t.ui.componentFactory.add("tableColumn",n=>{let i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:a("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:e?"insertTableColumnLeft":"insertTableColumnRight",label:a("Insert column left")}},{type:"button",model:{commandName:e?"insertTableColumnRight":"insertTableColumnLeft",label:a("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:a("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:a("Select column")}}];return this._prepareDropdown(a("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,n)}),t.ui.componentFactory.add("tableRow",n=>{let i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:a("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:a("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:a("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:a("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:a("Select row")}}];return this._prepareDropdown(a("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',i,n)}),t.ui.componentFactory.add("mergeTableCells",n=>{let i=[{type:"button",model:{commandName:"mergeTableCellUp",label:a("Merge cell up")}},{type:"button",model:{commandName:e?"mergeTableCellRight":"mergeTableCellLeft",label:a("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:a("Merge cell down")}},{type:"button",model:{commandName:e?"mergeTableCellLeft":"mergeTableCellRight",label:a("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:a("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:a("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(a("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,n)})}_prepareDropdown(t,a,e,n){let i=this.editor,h=q4(n),s=this._fillDropdownWithListOptions(h,e);return h.buttonView.set({label:t,icon:a,tooltip:!0}),h.bind("isEnabled").toMany(s,"isEnabled",(...d)=>d.some(g=>g)),this.listenTo(h,"execute",d=>{i.execute(d.source.commandName),i.editing.view.focus()}),h}_prepareMergeSplitButtonDropdown(t,a,e,n){let i=this.editor,h=q4(n,Jz);return this._fillDropdownWithListOptions(h,e),h.buttonView.set({label:t,icon:a,tooltip:!0,isEnabled:!0}),this.listenTo(h.buttonView,"execute",()=>{i.execute("mergeTableCells"),i.editing.view.focus()}),this.listenTo(h,"execute",s=>{i.execute(s.source.commandName),i.editing.view.focus()}),h}_fillDropdownWithListOptions(t,a){let e=this.editor,n=[],i=new X1;for(let h of a)Ax(h,e,n,i);return Jl(t,i,e.ui.componentFactory),n}}function Ax(r,t,a,e){let n=r.model=new z7(r.model),{commandName:i,bindIsOn:h}=r.model;if(r.type==="button"||r.type==="switchbutton"){let s=t.commands.get(i);a.push(s),n.set({commandName:i}),n.bind("isEnabled").to(s),h&&n.bind("isOn").to(s,"value")}n.set({withText:!0}),e.add(r)}c(102);class i4 extends ${static get pluginName(){return"TableSelection"}static get requires(){return[a3]}init(){let t=this.editor.model;this.listenTo(t,"deleteContent",(a,e)=>this._handleDeleteContent(a,e),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){let t=Z4(this.editor.model.document.selection);return t.length==0?null:t}getSelectionAsFragment(){let t=this.getSelectedTableCells();return t?this.editor.model.change(a=>{let e=a.createDocumentFragment(),n=this.editor.plugins.get("TableUtils"),{first:i,last:h}=t3(t),{first:s,last:d}=g5(t),g=t[0].findAncestor("table"),p=d,z=h;if(W7(t,n)){let V={firstColumn:i,lastColumn:h,firstRow:s,lastRow:d};p=fs(g,V),z=Ms(g,V)}let m=vs(g,{startRow:s,startColumn:i,endRow:p,endColumn:z},a);return a.insert(m,e,0),e}):null}setCellSelection(t,a){let e=this._getCellsToSelect(t,a);this.editor.model.change(n=>{n.setSelection(e.cells.map(i=>n.createRangeOn(i)),{backward:e.backward})})}getFocusCell(){let t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){let t=Z2(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){let t=this.editor,a=new Set;t.conversion.for("editingDowncast").add(e=>e.on("selection",(n,i,h)=>{let s=h.writer;(function(p){for(let z of a)p.removeClass("ck-editor__editable_selected",z);a.clear()})(s);let d=this.getSelectedTableCells();if(!d)return;for(let p of d){let z=h.mapper.toViewElement(p);s.addClass("ck-editor__editable_selected",z),a.add(z)}let g=h.mapper.toViewElement(d[d.length-1]);s.setSelection(g,0)},{priority:"lowest"}))}_enablePluginDisabling(){let t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){let a=this.getSelectedTableCells();if(!a)return;t.model.change(e=>{let n=e.createPositionAt(a[0],0),i=t.model.schema.getNearestSelectionRange(n);e.setSelection(i)})}})}_handleDeleteContent(t,a){let[e,n]=a,i=this.editor.model,h=!n||n.direction=="backward",s=Z4(e);s.length&&(t.stop(),i.change(d=>{let g=s[h?s.length-1:0];i.change(z=>{for(let m of s)i.deleteContent(z.createSelection(m,"in"))});let p=i.schema.getNearestSelectionRange(d.createPositionAt(g,0));e.is("documentSelection")?d.setSelection(p):e.setTo(p)}))}_getCellsToSelect(t,a){let e=this.editor.plugins.get("TableUtils"),n=e.getCellLocation(t),i=e.getCellLocation(a),h=Math.min(n.row,i.row),s=Math.max(n.row,i.row),d=Math.min(n.column,i.column),g=Math.max(n.column,i.column),p=new Array(s-h+1).fill(null).map(()=>[]),z={startRow:h,endRow:s,startColumn:d,endColumn:g};for(let{row:B,cell:k}of new b1(t.findAncestor("table"),z))p[B-h].push(k);let m=i.row<n.row,V=i.column<n.column;return m&&p.reverse(),V&&p.forEach(B=>B.reverse()),{cells:p.flat(),backward:m||V}}}class bx extends ${static get pluginName(){return"TableClipboard"}static get requires(){return[i4,a3]}init(){let t=this.editor,a=t.editing.view.document;this.listenTo(a,"copy",(e,n)=>this._onCopyCut(e,n)),this.listenTo(a,"cut",(e,n)=>this._onCopyCut(e,n)),this.listenTo(t.model,"insertContent",(e,n)=>this._onInsertContent(e,...n),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,a){let e=this.editor.plugins.get(i4);if(!e.getSelectedTableCells()||t.name=="cut"&&this.editor.isReadOnly)return;a.preventDefault(),t.stop();let n=this.editor.data,i=this.editor.editing.view.document,h=n.toView(e.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:h,method:t.name})}_onInsertContent(t,a,e){if(e&&!e.is("documentSelection"))return;let n=this.editor.model,i=this.editor.plugins.get(a3),h=function(d,g){if(!d.is("documentFragment")&&!d.is("element"))return null;if(d.is("element","table"))return d;if(d.childCount==1&&d.getChild(0).is("element","table"))return d.getChild(0);let p=g.createRangeIn(d);for(let z of p.getItems())if(z.is("element","table")){let m=g.createRange(p.start,g.createPositionBefore(z));if(g.hasContent(m,{ignoreWhitespaces:!0}))return null;let V=g.createRange(g.createPositionAfter(z),p.end);return g.hasContent(V,{ignoreWhitespaces:!0})?null:z}return null}(a,n);if(!h)return;let s=B2(n.document.selection);s.length?(t.stop(),n.change(d=>{let g={width:i.getColumns(h),height:i.getRows(h)},p=function(C,S,F,N){let Q=C[0].findAncestor("table"),h1=t3(C),P1=g5(C),x1={firstColumn:h1.first,lastColumn:h1.last,firstRow:P1.first,lastRow:P1.last},m2=C.length===1;return m2&&(x1.lastRow+=S.height-1,x1.lastColumn+=S.width-1,function(k2,x2,e0,C2){let X0=C2.getColumns(k2),Tt=C2.getRows(k2);e0>X0&&C2.insertColumns(k2,{at:X0,columns:e0-X0}),x2>Tt&&C2.insertRows(k2,{at:Tt,rows:x2-Tt})}(Q,x1.lastRow+1,x1.lastColumn+1,N)),m2||!W7(C,N)?function(k2,x2,e0){let{firstRow:C2,lastRow:X0,firstColumn:Tt,lastColumn:Va}=x2,wa={first:C2,last:X0},As={first:Tt,last:Va};Y7(k2,Tt,wa,e0),Y7(k2,Va+1,wa,e0),Q7(k2,C2,As,e0),Q7(k2,X0+1,As,e0,C2)}(Q,x1,F):(x1.lastRow=fs(Q,x1),x1.lastColumn=Ms(Q,x1)),x1}(s,g,d,i),z=p.lastRow-p.firstRow+1,m=p.lastColumn-p.firstColumn+1,V={startRow:0,startColumn:0,endRow:Math.min(z,g.height)-1,endColumn:Math.min(m,g.width)-1};h=vs(h,V,d);let B=s[0].findAncestor("table"),k=this._replaceSelectedCellsWithPasted(h,g,B,p,d);if(this.editor.plugins.get("TableSelection").isEnabled){let C=os(k.map(S=>d.createRangeOn(S)));d.setSelection(C)}else d.setSelection(k[0],0)})):G7(h,i)}_replaceSelectedCellsWithPasted(t,a,e,n,i){let{width:h,height:s}=a,d=function(C,S,F){let N=new Array(F).fill(null).map(()=>new Array(S).fill(null));for(let{column:Q,row:h1,cell:P1}of new b1(C))N[h1][Q]=P1;return N}(t,h,s),g=[...new b1(e,{startRow:n.firstRow,endRow:n.lastRow,startColumn:n.firstColumn,endColumn:n.lastColumn,includeAllSlots:!0})],p=[],z;for(let C of g){let{row:S,column:F}=C;F===n.firstColumn&&(z=C.getPositionBefore());let N=S-n.firstRow,Q=F-n.firstColumn,h1=d[N%s][Q%h],P1=h1?i.cloneElement(h1):null,x1=this._replaceTableSlotCell(C,P1,z,i);x1&&(zs(x1,S,F,n.lastRow,n.lastColumn,i),p.push(x1),z=i.createPositionAfter(x1))}let m=parseInt(e.getAttribute("headingRows")||0),V=parseInt(e.getAttribute("headingColumns")||0),B=n.firstRow<m&&m<=n.lastRow,k=n.firstColumn<V&&V<=n.lastColumn;if(B){let C=Q7(e,m,{first:n.firstColumn,last:n.lastColumn},i,n.firstRow);p.push(...C)}if(k){let C=Y7(e,V,{first:n.firstRow,last:n.lastRow},i);p.push(...C)}return p}_replaceTableSlotCell(t,a,e,n){let{cell:i,isAnchor:h}=t;return h&&n.remove(i),a?(n.insert(a,e),a):null}}function Q7(r,t,a,e,n=0){if(!(t<1))return ds(r,t,n).filter(({column:i,cellWidth:h})=>Ls(i,h,a)).map(({cell:i})=>us(i,t,e))}function Y7(r,t,a,e){if(!(t<1))return gs(r,t).filter(({row:n,cellHeight:i})=>Ls(n,i,a)).map(({cell:n,column:i})=>ps(n,i,t,e))}function Ls(r,t,a){let e=r+t-1,{first:n,last:i}=a;return r>=n&&r<=i||r<n&&e>=n}class yx extends ${static get pluginName(){return"TableKeyboard"}static get requires(){return[i4]}init(){let t=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(...a)=>this._handleTabOnSelectedTable(...a),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(t,"arrowKey",(...a)=>this._onArrowKey(...a),{context:"table"})}_handleTabOnSelectedTable(t,a){let e=this.editor,n=e.model.document.selection.getSelectedElement();n&&n.is("element","table")&&(a(),e.model.change(i=>{i.setSelection(i.createRangeIn(n.getChild(0).getChild(0)))}))}_getTabHandler(t){let a=this.editor;return(e,n)=>{let i=Ha(a.model.document.selection)[0];if(i||(i=this.editor.plugins.get("TableSelection").getFocusCell()),!i)return;n();let h=i.parent,s=h.parent,d=s.getChildIndex(h),g=h.getChildIndex(i),p=g===0;if(!t&&p&&d===0)return void a.model.change(B=>{B.setSelection(B.createRangeOn(s))});let z=g===h.childCount-1,m=d===s.childCount-1;if(t&&m&&z&&(a.execute("insertTableRowBelow"),d===s.childCount-1))return void a.model.change(B=>{B.setSelection(B.createRangeOn(s))});let V;if(t&&z)V=s.getChild(d+1).getChild(0);else if(!t&&p){let B=s.getChild(d-1);V=B.getChild(B.childCount-1)}else V=h.getChild(g+(t?1:-1));a.model.change(B=>{B.setSelection(B.createRangeIn(V))})}}_onArrowKey(t,a){let e=this.editor,n=ti(a.keyCode,e.locale.contentLanguageDirection);this._handleArrowKeys(n,a.shiftKey)&&(a.preventDefault(),a.stopPropagation(),t.stop())}_handleArrowKeys(t,a){let e=this.editor.model.document.selection,n=["right","down"].includes(t),i=Z4(e);if(i.length){let s;return s=a?this.editor.plugins.get("TableSelection").getFocusCell():n?i[i.length-1]:i[0],this._navigateFromCellInDirection(s,t,a),!0}let h=e.focus.findAncestor("tableCell");return!!h&&!(a&&!e.isCollapsed&&e.isBackward==n)&&!!this._isSelectionAtCellEdge(e,h,n)&&(this._navigateFromCellInDirection(h,t,a),!0)}_isSelectionAtCellEdge(t,a,e){let n=this.editor.model,i=this.editor.model.schema,h=e?t.getLastPosition():t.getFirstPosition();if(!i.getLimitElement(h).is("element","tableCell"))return n.createPositionAt(a,e?"end":0).isTouching(h);let s=n.createSelection(h);return n.modifySelection(s,{direction:e?"forward":"backward"}),h.isEqual(s.focus)}_navigateFromCellInDirection(t,a,e=!1){let n=this.editor.model,i=t.findAncestor("table"),h=[...new b1(i,{includeAllSlots:!0})],{row:s,column:d}=h[h.length-1],g=h.find(({cell:k})=>k==t),{row:p,column:z}=g;switch(a){case"left":z--;break;case"up":p--;break;case"right":z+=g.cellWidth;break;case"down":p+=g.cellHeight}if(p<0||p>s||z<0&&p<=0||z>d&&p>=s)return void n.change(k=>{k.setSelection(k.createRangeOn(i))});z<0?(z=e?0:d,p--):z>d&&(z=e?d:0,p++);let m=h.find(k=>k.row==p&&k.column==z).cell,V=["right","down"].includes(a),B=this.editor.plugins.get("TableSelection");if(e&&B.isEnabled){let k=B.getAnchorCell()||t;B.setCellSelection(k,m)}else{let k=n.createPositionAt(m,V?0:"end");n.change(C=>{C.setSelection(k)})}}}class _x extends v5{constructor(t){super(t),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class Sx extends ${static get pluginName(){return"TableMouse"}static get requires(){return[i4]}init(){this.editor.editing.view.addObserver(_x),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){let t=this.editor,a=!1,e=t.plugins.get(i4);this.listenTo(t.editing.view.document,"mousedown",(n,i)=>{if(!this.isEnabled||!e.isEnabled||!i.domEvent.shiftKey)return;let h=e.getAnchorCell()||Ha(t.model.document.selection)[0];if(!h)return;let s=this._getModelTableCellFromDomEvent(i);s&&Bs(h,s)&&(a=!0,e.setCellSelection(h,s),i.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(t.editing.view.document,"selectionChange",n=>{a&&n.stop()},{priority:"highest"})}_enableMouseDragSelection(){let t=this.editor,a,e,n=!1,i=!1,h=t.plugins.get(i4);this.listenTo(t.editing.view.document,"mousedown",(s,d)=>{this.isEnabled&&h.isEnabled&&(d.domEvent.shiftKey||d.domEvent.ctrlKey||d.domEvent.altKey||(a=this._getModelTableCellFromDomEvent(d)))}),this.listenTo(t.editing.view.document,"mousemove",(s,d)=>{if(!d.domEvent.buttons||!a)return;let g=this._getModelTableCellFromDomEvent(d);g&&Bs(a,g)&&(e=g,n||e==a||(n=!0)),n&&(i=!0,h.setCellSelection(a,e),d.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{n=!1,i=!1,a=null,e=null}),this.listenTo(t.editing.view.document,"selectionChange",s=>{i&&s.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){let a=t.target,e=this.editor.editing.view.createPositionAt(a,0);return this.editor.editing.mapper.toModelPosition(e).parent.findAncestor("tableCell",{includeSelf:!0})}}function Bs(r,t){return r.parent.parent==t.parent.parent}c(104);function Ix(r){let t=r.getSelectedElement();return t&&ks(t)?t:null}function Ox(r){let t=function(a,e){let n=e.parent;for(;n;){if(n.name===a)return n;n=n.parent}}("table",r.getFirstPosition());return t&&ks(t.parent)?t.parent:null}function ks(r){return!!r.getCustomProperty("table")&&r2(r)}let X7={autoRefresh:!0};class ke{constructor(t,a=X7){if(!t)throw new M.a("token-missing-token-url",this);a.initValue&&this._validateTokenValue(a.initValue),this.set("value",a.initValue),this._refresh=typeof t=="function"?t:()=>{return e=t,new Promise((n,i)=>{let h=new XMLHttpRequest;h.open("GET",e),h.addEventListener("load",()=>{let s=h.status,d=h.response;return s<200||s>299?i(new M.a("token-cannot-download-new-token",null)):n(d)}),h.addEventListener("error",()=>i(new Error("Network Error"))),h.addEventListener("abort",()=>i(new Error("Abort"))),h.send()});var e},this._options=Object.assign({},X7,a)}init(){return new Promise((t,a)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(a)})}refreshToken(){return this._refresh().then(t=>{this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){let a=typeof t=="string",e=!/^".*"$/.test(t),n=a&&t.split(".").length===3;if(!e||!n)throw new M.a("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){let t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{let[,t]=this.value.split("."),{exp:a}=JSON.parse(atob(t));return a?Math.floor((1e3*a-Date.now())/2):36e5}catch(t){return 36e5}}static create(t,a=X7){return new ke(t,a).init()}}i1(ke,w1);var Fx=ke;let J7=/^data:(\S*?);base64,/;class Cs{constructor(t,a,e){if(!t)throw new M.a("fileuploader-missing-file",null);if(!a)throw new M.a("fileuploader-missing-token",null);if(!e)throw new M.a("fileuploader-missing-api-address",null);this.file=function(n){if(typeof n!="string")return!1;let i=n.match(J7);return!(!i||!i.length)}(t)?function(n,i=512){try{let h=n.match(J7)[1],s=atob(n.replace(J7,"")),d=[];for(let g=0;g<s.length;g+=i){let p=s.slice(g,g+i),z=new Array(p.length);for(let m=0;m<p.length;m++)z[m]=p.charCodeAt(m);d.push(new Uint8Array(z))}return new Blob(d,{type:h})}catch(h){throw new M.a("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=a,this._apiAddress=e}onProgress(t){return this.on("progress",(a,e)=>t(e)),this}onError(t){return this.once("error",(a,e)=>t(e)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){let t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){let t=this,a=this.xhr;function e(n){return()=>t.fire("error",n)}a.addEventListener("error",e("Network Error")),a.addEventListener("abort",e("Abort")),a.upload&&a.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),a.addEventListener("load",()=>{let n=a.status,i=a.response;if(n<200||n>299)return this.fire("error",i.message||i.error)})}_sendRequest(){let t=new FormData,a=this.xhr;return t.append("file",this.file),new Promise((e,n)=>{a.addEventListener("load",()=>{let i=a.status,h=a.response;return i<200||i>299?h.message?n(new M.a("fileuploader-uploading-data-failed",this,{message:h.message})):n(h.error):e(h)}),a.addEventListener("error",()=>n(new Error("Network Error"))),a.addEventListener("abort",()=>n(new Error("Abort"))),a.send(t)})}}i1(Cs,U);class Px{constructor(t,a){if(!t)throw new M.a("uploadgateway-missing-token",null);if(!a)throw new M.a("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=a}upload(t){return new Cs(t,this._token,this._apiAddress)}}class Ex extends oa{static get pluginName(){return"CloudServicesCore"}createToken(t,a){return new Fx(t,a)}createUploadGateway(t,a){return new Px(t,a)}}class Z7 extends m7{}Z7.builtinPlugins=[class extends ${static get requires(){return[kc,ge,$f,jf,Xf,Nc]}static get pluginName(){return"Essentials"}},class extends ${static get requires(){return[pt]}static get pluginName(){return"CKFinderUploadAdapter"}init(){let r=this.editor.config.get("ckfinder.uploadUrl");r&&(this.editor.plugins.get(pt).createUploadAdapter=t=>new gM(t,r,this.editor.t))}},class extends ${static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){let r=this.editor.commands;r.get("bulletedList")&&u5(this.editor,this,/^[*-]\s$/,"bulletedList"),r.get("numberedList")&&u5(this.editor,this,/^1[.|)]\s$/,"numberedList"),r.get("todoList")&&u5(this.editor,this,/^\[\s?\]\s$/,"todoList"),r.get("checkTodoList")&&u5(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){let r=this.editor.commands;if(r.get("bold")){let t=me(this.editor,"bold");J4(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),J4(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(r.get("italic")){let t=me(this.editor,"italic");J4(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),J4(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(r.get("code")){let t=me(this.editor,"code");J4(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(r.get("strikethrough")){let t=me(this.editor,"strikethrough");J4(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){let r=this.editor.commands.get("heading");r&&r.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{let a=t[7],e=new RegExp(`^(#{${a}})\\s$`);u5(this.editor,this,e,()=>{if(!r.isEnabled||r.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&u5(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&u5(this.editor,this,/^```$/,"codeBlock")}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&u5(this.editor,this,/^---$/,"horizontalLine")}},class extends ${static get requires(){return[pM,zM]}static get pluginName(){return"Bold"}},class extends ${static get requires(){return[fM,MM]}static get pluginName(){return"Italic"}},class extends ${static get requires(){return[xM,HM]}static get pluginName(){return"BlockQuote"}},class extends ${static get pluginName(){return"CKFinder"}static get requires(){return["Image","Link","CKFinderUploadAdapter",LM,VM]}},class extends oa{static get pluginName(){return"CloudServices"}static get requires(){return[Ex]}init(){let r=this.context.config.get("cloudServices")||{};for(let t in r)this[t]=r[t];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(r){if(this._tokens.has(r))return Promise.resolve(this.getTokenFor(r));let t=this.context.plugins.get("CloudServicesCore").createToken(r);return this._tokens.set(r,t),t.init()}getTokenFor(r){let t=this._tokens.get(r);if(!t)throw new M.a("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(let r of this._tokens.values())r.destroy()}},class extends ${static get requires(){return[BM,"Image","ImageUpload"]}static get pluginName(){return"EasyImage"}},class extends ${static get requires(){return[yM,_M]}static get pluginName(){return"Heading"}},class extends ${static get requires(){return[FM,ze,DM]}static get pluginName(){return"Image"}isImageWidget(r){return Zc(r)}},class extends ${static get requires(){return[jM]}static get pluginName(){return"ImageCaption"}},class extends ${static get requires(){return[qM,GM]}static get pluginName(){return"ImageStyle"}},class extends ${static get requires(){return[He]}static get pluginName(){return"ImageToolbar"}afterInit(){let r=this.editor,t=r.t;r.plugins.get(He).register("image",{ariaLabel:t("Image toolbar"),items:r.config.get("image.toolbar")||[],getRelatedElement:S7})}},class extends ${static get pluginName(){return"ImageUpload"}static get requires(){return[JM,KM,QM]}},class extends ${static get pluginName(){return"Indent"}static get requires(){return[tm,am]}},class extends ${static get requires(){return[xm,wm,Bm]}static get pluginName(){return"Link"}},class extends ${static get requires(){return[Fm,Pm]}static get pluginName(){return"List"}},class extends ${static get requires(){return[Le,jm,Dm,ze]}static get pluginName(){return"MediaEmbed"}},xa,class extends ${static get pluginName(){return"PasteFromOffice"}static get requires(){return[d5]}init(){let r=this.editor,t=r.editing.view.document,a=[];a.push(new Jm(t)),a.push(new $m(t)),r.plugins.get("ClipboardPipeline").on("inputTransformation",(e,n)=>{if(n.isTransformedWithPasteFromOffice)return;let i=n.dataTransfer.getData("text/html"),h=a.find(s=>s.isActive(i));h&&(h.execute(n),n.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ${static get requires(){return[Lx,Cx,i4,Sx,yx,bx,ze]}static get pluginName(){return"Table"}},class extends ${static get requires(){return[He]}static get pluginName(){return"TableToolbar"}afterInit(){let r=this.editor,t=r.t,a=r.plugins.get(He),e=r.config.get("table.contentToolbar"),n=r.config.get("table.tableToolbar");e&&a.register("tableContent",{ariaLabel:t("Table toolbar"),items:e,getRelatedElement:Ox}),n&&a.register("table",{ariaLabel:t("Table toolbar"),items:n,getRelatedElement:Ix})}},class extends ${static get pluginName(){return"TextTransformation"}constructor(r){super(r),r.config.define("typing",{transformations:{include:aM}})}init(){let r=this.editor.model.document.selection;r.on("change:range",()=>{this.isEnabled=!r.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){let r=this.editor,t=r.model,a=r.plugins.get("Input"),e=function(i){let h=i.extra||[],s=i.remove||[],d=g=>!s.includes(g);return function(g){let p=new Set;for(let z of g)if(Pc[z])for(let m of Pc[z])p.add(m);else p.add(z);return Array.from(p)}(i.include.concat(h).filter(d)).filter(d).map(g=>tM[g]||g).map(g=>({from:eM(g.from),to:rM(g.to)}))}(r.config.get("typing.transformations")),n=new C7(r.model,i=>{for(let h of e)if(h.from.test(i))return{normalizedTransformation:h}});n.on("matched:data",(i,h)=>{if(!a.isInput(h.batch))return;let{from:s,to:d}=h.normalizedTransformation,g=s.exec(h.text),p=d(g.slice(1)),z=h.range,m=g.index;t.enqueueChange(V=>{for(let B=1;B<g.length;B++){let k=g[B],C=p[B-1];if(C==null){m+=k.length;continue}let S=z.start.getShiftedBy(m),F=t.createRange(S,S.getShiftedBy(k.length)),N=nM(S);t.insertContent(V.createText(C,N),F),m+=C.length}})}),n.bind("isEnabled").to(this)}}],Z7.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default})});var o3=Dt(zt());var hn=Dt(zt()),sn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vn=hn.default.createContext&&hn.default.createContext(sn);var p5=function(){return p5=Object.assign||function(o){for(var l,c=1,u=arguments.length;c<u;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(o[v]=l[v])}return o},p5.apply(this,arguments)},tH=function(o,l){var c={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&l.indexOf(u)<0&&(c[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,u=Object.getOwnPropertySymbols(o);v<u.length;v++)l.indexOf(u[v])<0&&Object.prototype.propertyIsEnumerable.call(o,u[v])&&(c[u[v]]=o[u[v]]);return c};function Ks(o){return o&&o.map(function(l,c){return o3.default.createElement(l.tag,p5({key:c},l.attr),Ks(l.child))})}function b0(o){return function(l){return o3.default.createElement(aH,p5({attr:p5({},o.attr)},l),Ks(o.child))}}function aH(o){var l=function(c){var u=o.attr,v=o.size,f=o.title,x=tH(o,["attr","size","title"]),H=v||c.size||"1em",M;return c.className&&(M=c.className),o.className&&(M=(M?M+" ":"")+o.className),o3.default.createElement("svg",p5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,u,x,{className:M,style:p5(p5({color:o.color||c.color},c.style),o.style),height:H,width:H,xmlns:"http://www.w3.org/2000/svg"}),f&&o3.default.createElement("title",null,f),o.children)};return vn!==void 0?o3.default.createElement(vn.Consumer,null,function(c){return l(c)}):l(sn)}function Qs(o){return b0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}},{tag:"path",attr:{d:"M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"}}]})(o)}function Ys(o){return b0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"}}]})(o)}function Xs(o){return b0({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}}]})(o)}var _g=Dt(zt());var Bv=Dt(zt());var A2=Dt(zt());function dn(o){if(o.constructor!==Array)throw new TypeError("Expected array.");if(o.length===16)return o;if(o.length===6){var l=i3();return l[0]=o[0],l[1]=o[1],l[4]=o[2],l[5]=o[3],l[12]=o[4],l[13]=o[5],l}throw new RangeError("Expected array with either 6 or 16 values.")}function i3(){for(var o=[],l=0;l<16;l++)l%5==0?o.push(1):o.push(0);return o}function Js(o,l){for(var c=dn(o),u=dn(l),v=[],f=0;f<4;f++)for(var x=[c[f],c[f+4],c[f+8],c[f+12]],H=0;H<4;H++){var M=H*4,y=[u[M],u[M+1],u[M+2],u[M+3]],R=x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3];v[f+M]=R}return v}function Zs(o){if(typeof o=="string"){var l=o.match(/matrix(3d)?\(([^)]+)\)/);if(l){var c=l[2].split(", ").map(parseFloat);return dn(c)}}return i3()}function tv(o){var l=i3();return l[0]=o,l}function av(o){var l=i3();return l[5]=o,l}function ev(o){var l=i3();return l[12]=o,l}function rv(o){var l=i3();return l[13]=o,l}var be=function(o){return typeof o=="number"},nv=function(o){return typeof o=="function"},ov=function(o){return Object.prototype.toString.call(o)==="[object Object]"},l3=function(o){return Array.prototype.slice.apply(o)},iv=function(o){var l=o.reduce(function(c,u){return c[u]=(c[u]||0)+1,c},{});return Object.keys(l).filter(function(c){return l[c]>1})};function J0(o){return[].slice.call(arguments,1).forEach(function(l){if(l)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=l[c])}),o}var un,gn=function(o,l,c){return o+(l-o)*c},pn={__proto__:null,isNumber:be,isFunction:nv,isObject:ov,toArray:l3,getDuplicateValsAsStrings:iv,assign:J0,tweenProp:gn},Ba={__proto__:null,DATA_FLIP_ID:"data-flip-id",DATA_INVERSE_FLIP_ID:"data-inverse-flip-id",DATA_FLIP_COMPONENT_ID:"data-flip-component-id",DATA_FLIP_CONFIG:"data-flip-config",DATA_PORTAL_KEY:"data-portal-key",DATA_EXIT_CONTAINER:"data-exit-container"},zn={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},lv=function(o){return ov(o)?o:Object.keys(zn).indexOf(o)>-1?zn[o]:{}};typeof window!="undefined"&&(un=window.requestAnimationFrame);var eH=un=un||function(o){window.setTimeout(o,1e3/60)},rH=Date.now(),nH=typeof performance=="object"&&typeof performance.now=="function"?function(){return performance.now()}:function(){return Date.now()-rH};function cv(o,l){var c=o.indexOf(l);c!==-1&&o.splice(c,1)}var oH=function(){function o(){}return o.prototype.run=function(){var l=this;eH(function(){l.springSystem.loop(nH())})},o}(),fn=function(){this.position=0,this.velocity=0},iH=0,lH=function(){function o(c){this._id="s"+iH++,this._springSystem=c,this.listeners=[],this._startValue=0,this._currentState=new fn,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new fn,this._restSpeedThreshold=.001,this._tempState=new fn,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}}var l=o.prototype;return l.getId=function(){return this._id},l.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},l.setSpringConfig=function(c){return this._springConfig=c,this},l.getCurrentValue=function(){return this._currentState.position},l.getDisplacementDistanceForState=function(c){return Math.abs(this._endValue-c.position)},l.setEndValue=function(c){if(c===this._endValue)return this;if(this.prevEndValue=c,this._endValue===c&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=c,this._springSystem.activateSpring(this.getId());for(var u=0,v=this.listeners.length;u<v;u++){var f=this.listeners[u].onSpringEndStateChange;f&&f(this)}return this},l.setVelocity=function(c){return c===this._currentState.velocity||(this._currentState.velocity=c,this._springSystem.activateSpring(this.getId())),this},l.setCurrentValue=function(c){this._startValue=c,this._currentState.position=c;for(var u=0,v=this.listeners.length;u<v;u++){var f=this.listeners[u];f.onSpringUpdate&&f.onSpringUpdate(this)}return this},l.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},l.setOvershootClampingEnabled=function(c){return this._overshootClampingEnabled=c,this},l.isOvershooting=function(){var c=this._startValue,u=this._endValue;return this._springConfig.tension>0&&(c<u&&this.getCurrentValue()>u||c>u&&this.getCurrentValue()<u)},l.advance=function(c,u){var v=this.isAtRest();if(!v||!this._wasAtRest){var f=u;u>.064&&(f=.064),this._timeAccumulator+=f;for(var x,H,M,y,R,U,T=this._springConfig.tension,W=this._springConfig.friction,X=this._currentState.position,q=this._currentState.velocity,I=this._tempState.position,A=this._tempState.velocity;this._timeAccumulator>=.001;)this._timeAccumulator-=.001,this._timeAccumulator<.001&&(this._previousState.position=X,this._previousState.velocity=q),H=T*(this._endValue-I)-W*q,y=T*(this._endValue-(I=X+.001*(x=q)*.5))-W*(A=q+.001*H*.5),U=T*(this._endValue-(I=X+.001*(M=A)*.5))-W*(A=q+.001*y*.5),I=X+.001*(R=A),X+=1/6*(x+2*(M+R)+(A=q+.001*U))*.001,q+=1/6*(H+2*(y+U)+(T*(this._endValue-I)-W*A))*.001;this._tempState.position=I,this._tempState.velocity=A,this._currentState.position=X,this._currentState.velocity=q,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/.001),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),v=!0);var b=!1;this._wasAtRest&&(this._wasAtRest=!1,b=!0);var O=!1;v&&(this._wasAtRest=!0,O=!0),this.notifyPositionUpdated(b,O)}},l.notifyPositionUpdated=function(c,u){var v=this;this.listeners.filter(Boolean).forEach(function(f){c&&f.onSpringActivate&&!v._onActivateCalled&&(f.onSpringActivate(v),v._onActivateCalled=!0),f.onSpringUpdate&&f.onSpringUpdate(v),u&&f.onSpringAtRest&&f.onSpringAtRest(v)})},l.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},l.wasAtRest=function(){return this._wasAtRest},l.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||this._springConfig.tension===0)},l._interpolate=function(c){this._currentState.position=this._currentState.position*c+this._previousState.position*(1-c),this._currentState.velocity=this._currentState.velocity*c+this._previousState.velocity*(1-c)},l.addListener=function(c){return this.listeners.push(c),this},l.addOneTimeListener=function(c){var u=this;return Object.keys(c).forEach(function(v){var f;c[v]=(f=c[v],function(){f.apply(void 0,[].slice.call(arguments)),u.removeListener(c)})}),this.listeners.push(c),this},l.removeListener=function(c){return cv(this.listeners,c),this},o}(),hv=function(){function o(c){this.looper=c||new oH,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}}var l=o.prototype;return l.createSpring=function(c,u){return this.createSpringWithConfig({tension:c,friction:u})},l.createSpringWithConfig=function(c){var u=new lH(this);return this.registerSpring(u),u.setSpringConfig(c),u},l.getIsIdle=function(){return this._isIdle},l.registerSpring=function(c){this._springRegistry[c.getId()]=c},l.deregisterSpring=function(c){cv(this._activeSprings,c),delete this._springRegistry[c.getId()]},l.advance=function(c,u){for(var v=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(x){x.systemShouldAdvance()?x.advance(c/1e3,u/1e3):v._idleSpringIndices.push(v._activeSprings.indexOf(x))});this._idleSpringIndices.length>0;){var f=this._idleSpringIndices.pop();f>=0&&this._activeSprings.splice(f,1)}},l.loop=function(c){var u;this._lastTimeMillis===-1&&(this._lastTimeMillis=c-1);var v=c-this._lastTimeMillis;this._lastTimeMillis=c;var f=0,x=this.listeners.length;for(f=0;f<x;f++)(u=this.listeners[f]).onBeforeIntegrate&&u.onBeforeIntegrate(this);for(this.advance(c,v),this._activeSprings.length===0&&(this._isIdle=!0,this._lastTimeMillis=-1),f=0;f<x;f++)(u=this.listeners[f]).onAfterIntegrate&&u.onAfterIntegrate(this);this._isIdle||this.looper.run()},l.activateSpring=function(c){var u=this._springRegistry[c];this._activeSprings.indexOf(u)===-1&&this._activeSprings.push(u),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},o}(),cH=new hv,sv=function(o){var l=o.springConfig,c=l.overshootClamping,u=o.getOnUpdateFunc,v=o.onAnimationEnd,f=o.onSpringActivate,x=cH.createSpring(l.stiffness,l.damping);x.setOvershootClampingEnabled(!!c);var H={onSpringActivate:f,onSpringAtRest:function(){x.destroy(),v()},onSpringUpdate:u({spring:x,onAnimationEnd:v})};return x.addListener(H),x},vv=function(o){var l=sv(o);return l.setEndValue(1),l},dv=function(o,l){if(l===void 0&&(l={}),o&&o.length){l.reverse&&o.reverse();var c,u=typeof(c=l.speed)!="number"?1.1:1+Math.min(Math.max(5*c,0),5),v=1/Math.max(Math.min(o.length,100),10),f=o.map(function(x,H){var M=x.getOnUpdateFunc;return x.getOnUpdateFunc=function(y){var R=M(y);return function(U){var T=U.getCurrentValue();(T=T<.01?0:T>.99?1:T)>=v&&f[H+1]&&f[H+1](Math.max(Math.min(T*u,1),0)),R(U)}},x}).map(function(x){var H=sv(x);if(H)return H.setEndValue.bind(H)}).filter(Boolean);f[0]&&f[0](1)}},uv=function(o){return[0,1,4,5,12,13].map(function(l){return o[l]})},gv=function(o){return o.top<window.innerHeight&&o.bottom>0&&o.left<window.innerWidth&&o.right>0};function pv(o){return JSON.parse(o.dataset.flipConfig||"{}")}var zv=function(o,l){var c;return J0(o,((c={})[l[0]]=l[1],c))},fv=function(o,l){return l3(l?document.querySelectorAll('[data-portal-key="'+l+'"]'):o.querySelectorAll("[data-flip-id]"))},Mv=function(o){return o.map(function(l){return[l,l.getBoundingClientRect()]})},Mn=function(o){var l,c=o.cachedOrderedFlipIds,u=c===void 0?[]:c,v=o.inProgressAnimations,f=v===void 0?{}:v,x=o.flippedElementPositionsBeforeUpdate,H=x===void 0?{}:x,M=o.flipCallbacks,y=M===void 0?{}:M,R=o.containerEl,U=o.applyTransformOrigin,T=o.spring,W=o.debug,X=o.portalKey,q=o.staggerConfig,I=q===void 0?{}:q,A=o.decisionData,b=A===void 0?{}:A,O=o.handleEnterUpdateDelete,P=o.onComplete,Z=o.onStart,G=Mv(fv((l={element:R,portalKey:X}).element,l.portalKey)).map(function(z1){var a2=z1[0],Q1=z1[1],f1=window.getComputedStyle(a2);return[a2.dataset.flipId,{element:a2,rect:Q1,opacity:parseFloat(f1.opacity),transform:f1.transform}]}).reduce(zv,{}),t1=function(z1){var a2=z1.containerEl,Q1=z1.portalKey;return Q1?function(f1){return function(V2){return l3(document.querySelectorAll('[data-portal-key="'+f1+'"]'+V2))}}(Q1):a2?function(f1){var V2=Math.random().toFixed(5);return f1.dataset.flipperId=V2,function(T0){return l3(f1.querySelectorAll('[data-flipper-id="'+V2+'"] '+T0))}}(a2):function(){return[]}}({containerEl:R,portalKey:X}),o1=function(z1){return function(a2){return z1('[data-flip-id="'+a2+'"]')[0]}}(t1),r1=function(z1){return H[z1]&&G[z1]},g2=Object.keys(H).concat(Object.keys(G)).filter(function(z1){return!r1(z1)}),E0={flipCallbacks:y,getElement:o1,flippedElementPositionsBeforeUpdate:H,flippedElementPositionsAfterUpdate:G,inProgressAnimations:f,decisionData:b},Kt=function(z1){var a2,Q1=z1.unflippedIds,f1=z1.flipCallbacks,V2=z1.getElement,T0=z1.flippedElementPositionsBeforeUpdate,et=z1.flippedElementPositionsAfterUpdate,Qt=z1.inProgressAnimations,Yt=z1.decisionData,Xt=Q1.filter(function(B1){return et[B1]}).filter(function(B1){return f1[B1]&&f1[B1].onAppear}),x0=Q1.filter(function(B1){return T0[B1]&&f1[B1]&&f1[B1].onExit}),w2=new Promise(function(B1){a2=B1}),h0=[],R0=0,h2=x0.map(function(B1,N2){var o2=T0[B1].domDataForExitAnimations,i2=o2.element,s0=o2.parent,H0=o2.childPosition,v0=H0.top,K2=H0.left,D0=H0.width,N0=H0.height;getComputedStyle(s0).position==="static"&&(s0.style.position="relative"),i2.style.transform="matrix(1, 0, 0, 1, 0, 0)",i2.style.position="absolute",i2.style.top=v0+"px",i2.style.left=K2+"px",i2.style.height=N0+"px",i2.style.width=D0+"px";var j0=h0.filter(function(nt){return nt[0]===s0})[0];j0||(j0=[s0,document.createDocumentFragment()],h0.push(j0)),j0[1].appendChild(i2),R0+=1;var rt=function(){try{s0.removeChild(i2)}catch(nt){}finally{(R0-=1)==0&&a2()}};return Qt[B1]={stop:rt},function(){return f1[B1].onExit(i2,N2,rt,Yt)}});return h0.forEach(function(B1){B1[0].appendChild(B1[1])}),h2.length||a2(),{hideEnteringElements:function(){Xt.forEach(function(B1){var N2=V2(B1);N2&&(N2.style.opacity="0")})},animateEnteringElements:function(){Xt.forEach(function(B1,N2){var o2=V2(B1);o2&&f1[B1].onAppear(o2,N2,Yt)})},animateExitingElements:function(){return h2.forEach(function(B1){return B1()}),w2}}}(J0({},E0,{unflippedIds:g2})),l0=Kt.hideEnteringElements,E5=Kt.animateEnteringElements,c0=Kt.animateExitingElements,T5=J0({},E0,{containerEl:R,flippedIds:u.filter(r1),applyTransformOrigin:U,spring:T,debug:W,staggerConfig:I,scopedSelector:t1,onComplete:P});Z&&Z(R,b);var R5=function(z1){var a2,Q1=z1.flippedIds,f1=z1.flipCallbacks,V2=z1.inProgressAnimations,T0=z1.flippedElementPositionsBeforeUpdate,et=z1.flippedElementPositionsAfterUpdate,Qt=z1.applyTransformOrigin,Yt=z1.spring,Xt=z1.getElement,x0=z1.debug,w2=z1.staggerConfig,h0=w2===void 0?{}:w2,R0=z1.decisionData,h2=R0===void 0?{}:R0,B1=z1.onComplete,N2=z1.containerEl,o2=new Promise(function(J){a2=J});if(B1&&o2.then(function(){return B1(N2,h2)}),!Q1.length)return function(){return a2([]),o2};var i2=[],s0=Xt(Q1[0]),H0=s0?s0.ownerDocument.querySelector("body"):document.querySelector("body"),v0=(iv(Q1),Q1.map(function(J){var _1=T0[J].rect,q1=et[J].rect,j2=T0[J].opacity,W0=et[J].opacity,ot=q1.width<1||q1.height<1,k1=et[J].element;if(!gv(_1)&&!gv(q1)||!k1)return!1;var D5,N5,V4,d0=pv(k1),Jt=(V4=(N5=(D5={flipperSpring:Yt,flippedSpring:d0.spring})===void 0?{}:D5).flippedSpring,J0({},zn.noWobble,lv(N5.flipperSpring),lv(V4))),l2=d0.stagger===!0?"default":d0.stagger,Q2={element:k1,id:J,stagger:l2,springConfig:Jt};if(f1[J]&&f1[J].shouldFlip&&!f1[J].shouldFlip(h2.previous,h2.current))return!1;var C1=Math.abs(_1.left-q1.left)+Math.abs(_1.top-q1.top),R3=Math.abs(_1.width-q1.width)+Math.abs(_1.height-q1.height),j5=Math.abs(W0-j2);if(_1.height===0&&q1.height===0||_1.width===0&&q1.width===0||C1<.5&&R3<.5&&j5<.01)return!1;var Y2=Zs(et[J].transform),V0={matrix:Y2},X2={matrix:[]},Lt=[Y2];d0.translate&&(Lt.push(ev(_1.left-q1.left)),Lt.push(rv(_1.top-q1.top))),d0.scale&&(Lt.push(tv(Math.max(_1.width,1)/Math.max(q1.width,1))),Lt.push(av(Math.max(_1.height,1)/Math.max(q1.height,1)))),d0.opacity&&(X2.opacity=j2,V0.opacity=W0);var Bt=[];if(!f1[J]||!f1[J].shouldInvert||f1[J].shouldInvert(h2.previous,h2.current)){var it=function(D1,Y1){return l3(D1.querySelectorAll('[data-inverse-flip-id="'+Y1+'"]'))}(k1,J);Bt=it.map(function(D1){return[D1,pv(D1)]})}X2.matrix=uv(Lt.reduce(Js)),V0.matrix=uv(V0.matrix);var kt,w4=function(D1){var Y1=D1.element,J2=D1.invertedChildren,u0=D1.body;return function(p2){var w0=p2.matrix,q0=p2.opacity,w1=p2.forceMinVals;if(be(q0)&&(Y1.style.opacity=q0+""),w1&&(Y1.style.minHeight="1px",Y1.style.minWidth="1px"),w0){var B4=function(Ct){return"matrix("+Ct.join(", ")+")"}(w0);Y1.style.transform=B4,J2&&function(Ct){var Zt=Ct.matrix,t5=Ct.body;Ct.invertedChildren.forEach(function(a5){var i1=a5[0],$=a5[1];if(t5.contains(i1)){var e5=Zt[0],n1=Zt[3],k4=Zt[5],W2={translateX:0,translateY:0,scaleX:1,scaleY:1},g0="";$.translate&&(W2.translateX=-Zt[4]/e5,W2.translateY=-k4/n1,g0+="translate("+W2.translateX+"px, "+W2.translateY+"px)"),$.scale&&(W2.scaleX=1/e5,W2.scaleY=1/n1,g0+=" scale("+W2.scaleX+", "+W2.scaleY+")"),i1.style.transform=g0}})}({invertedChildren:J2,matrix:w0,body:u0})}}}({element:k1,invertedChildren:Bt,body:H0});if(f1[J]&&f1[J].onComplete){var lt=f1[J].onComplete;kt=function(){return lt(k1,h2)}}var L4=be(X2.opacity)&&be(V0.opacity)&&X2.opacity!==V0.opacity,U0=!1;return J0({},Q2,{stagger:l2,springConfig:Jt,getOnUpdateFunc:function(D1){var Y1=D1.spring,J2=D1.onAnimationEnd;return V2[J]={destroy:Y1.destroy.bind(Y1),onAnimationEnd:J2},function(u0){f1[J]&&f1[J].onSpringUpdate&&f1[J].onSpringUpdate(u0.getCurrentValue()),U0||(U0=!0,f1[J]&&f1[J].onStart&&f1[J].onStart(k1,h2));var p2=u0.getCurrentValue();if(H0.contains(k1)){var w0={matrix:[]};w0.matrix=X2.matrix.map(function(q0,w1){return gn(q0,V0.matrix[w1],p2)}),L4&&(w0.opacity=gn(X2.opacity,V0.opacity,p2)),w4(w0)}else u0.destroy()}},initializeFlip:function(){w4({matrix:X2.matrix,opacity:L4?X2.opacity:void 0,forceMinVals:ot}),f1[J]&&f1[J].onStartImmediate&&f1[J].onStartImmediate(k1,h2),d0.transformOrigin?k1.style.transformOrigin=d0.transformOrigin:Qt&&(k1.style.transformOrigin="0 0"),Bt.forEach(function(D1){var Y1=D1[0],J2=D1[1];J2.transformOrigin?Y1.style.transformOrigin=J2.transformOrigin:Qt&&(Y1.style.transformOrigin="0 0")})},onAnimationEnd:function(D1){delete V2[J],nv(kt)&&kt(),k1.style.transform="",Bt.forEach(function(Y1){Y1[0].style.transform=""}),ot&&k1&&(k1.style.minHeight="",k1.style.minWidth=""),D1||(i2.push(J),i2.length>=v0.length&&a2(i2))},delayUntil:d0.delayUntil})}).filter(Boolean));if(v0.forEach(function(J){return(0,J.initializeFlip)()}),x0)return function(){};var K2=v0.filter(function(J){return J.delayUntil&&(_1=J.delayUntil,v0.filter(function(q1){return q1.id===_1}).length);var _1}),D0={},N0={},j0={};K2.forEach(function(J){J.stagger?(j0[J.stagger]=!0,N0[J.delayUntil]?N0[J.delayUntil].push(J.stagger):N0[J.delayUntil]=[J.stagger]):D0[J.delayUntil]?D0[J.delayUntil].push(J):D0[J.delayUntil]=[J]});var rt=v0.filter(function(J){return J.stagger}).reduce(function(J,_1){return J[_1.stagger]?J[_1.stagger].push(_1):J[_1.stagger]=[_1],J},{}),nt=v0.filter(function(J){return K2.indexOf(J)===-1});return nt.forEach(function(J){J.onSpringActivate=function(){D0[J.id]&&D0[J.id].forEach(vv),N0[J.id]&&Object.keys(N0[J.id].reduce(function(_1,q1){var j2;return J0(_1,((j2={})[q1]=!0,j2))},{})).forEach(function(_1){dv(rt[_1],h0[_1])})}}),function(){return v0.length||a2([]),nt.filter(function(J){return!J.stagger}).forEach(vv),Object.keys(rt).forEach(function(J){j0[J]||dv(rt[J],h0[J])}),o2}}(T5);O?O({hideEnteringElements:l0,animateEnteringElements:E5,animateExitingElements:c0,animateFlippedElements:R5}):(l0(),c0().then(E5),R5())},mn=function(o){var l=o.element,c=o.flipCallbacks,u=c===void 0?{}:c,v=o.inProgressAnimations,f=v===void 0?{}:v,x=fv(l,o.portalKey),H=l3(l.querySelectorAll("[data-inverse-flip-id]")),M={},y=[],R={};x.filter(function(W){return u&&u[W.dataset.flipId]&&u[W.dataset.flipId].onExit}).forEach(function(W){var X=W.parentNode;if(W.closest){var q=W.closest("[data-exit-container]");q&&(X=q)}var I=y.findIndex(function(A){return A[0]===X});I===-1&&(y.push([X,X.getBoundingClientRect()]),I=y.length-1),M[W.dataset.flipId]=y[I][1],R[W.dataset.flipId]=X});var U=Mv(x),T=U.map(function(W){var X=W[0],q=W[1],I={};if(u&&u[X.dataset.flipId]&&u[X.dataset.flipId].onExit){var A=M[X.dataset.flipId];J0(I,{element:X,parent:R[X.dataset.flipId],childPosition:{top:q.top-A.top,left:q.left-A.left,width:q.width,height:q.height}})}return[X.dataset.flipId,{rect:q,opacity:parseFloat(window.getComputedStyle(X).opacity||"1"),domDataForExitAnimations:I}]}).reduce(zv,{});return function(W,X){Object.keys(W).forEach(function(q){W[q].destroy&&W[q].destroy(),W[q].onAnimationEnd&&W[q].onAnimationEnd(!0),delete W[q]}),X.forEach(function(q){q.style.transform="",q.style.opacity=""})}(f,x.concat(H)),{flippedElementPositions:T,cachedOrderedFlipIds:U.map(function(W){return W[0].dataset.flipId})}},ww=function(){function o(c){this.applyTransformOrigin=!0,J0(this,c),this.inProgressAnimations={},this.flipCallbacks={},this.recordBeforeUpdate=this.recordBeforeUpdate.bind(this),this.update=this.update.bind(this),this.addFlipped=this.addFlipped.bind(this),this.addInverted=this.addInverted.bind(this)}var l=o.prototype;return l.recordBeforeUpdate=function(){this.snapshot=mn({element:this.element,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations})},l.update=function(c,u){this.snapshot&&(Mn({flippedElementPositionsBeforeUpdate:this.snapshot.flippedElementPositions,cachedOrderedFlipIds:this.snapshot.cachedOrderedFlipIds,containerEl:this.element,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.applyTransformOrigin,spring:this.spring,debug:this.debug,staggerConfig:this.staggerConfig,handleEnterUpdateDelete:this.handleEnterUpdateDelete,decisionData:{previous:c,current:u},onComplete:this.onComplete,onStart:this.onStart}),delete this.snapshot)},l.addFlipped=function(c){var u=c.element,v=c.flipId,f=c.opacity,x=c.translate,H=c.scale,M=c.transformOrigin,y=c.spring,R=c.stagger,U=c.delayUntil,T=c.onAppear,W=c.onStart,X=c.onSpringUpdate,q=c.onComplete,I=c.onExit,A=c.shouldFlip,b=c.shouldInvert;if(!u)throw new Error("no element provided");if(!v)throw new Error("No flipId provided");var O={scale:H,translate:x,opacity:f,transformOrigin:M,spring:y,stagger:R,delayUntil:U};O.scale||O.translate||O.opacity||J0(O,{translate:!0,scale:!0,opacity:!0}),v&&(u.dataset.flipId=String(v)),u.dataset.flipConfig=JSON.stringify(O),this.flipCallbacks[v]={shouldFlip:A,shouldInvert:b,onAppear:T,onStart:W,onSpringUpdate:X,onComplete:q,onExit:I}},l.addInverted=function(c){var u=c.element,v=c.parent,f=c.opacity,x=c.translate,H=c.scale,M=c.transformOrigin;if(!u)throw new Error("no element provided");if(!v)throw new Error("parent must be provided");var y=v.dataset.flipId,R={scale:H,translate:x,opacity:f,transformOrigin:M};R.scale||R.translate||R.opacity||J0(R,{translate:!0,scale:!0,opacity:!0}),u.dataset.inverseFlipId=y,u.dataset.flipConfig=JSON.stringify(R)},o}(),Lw=new hv;function mv(o,l){if(o==null)return{};var c,u,v={},f=Object.keys(o);for(u=0;u<f.length;u++)l.indexOf(c=f[u])>=0||(v[c]=o[c]);return v}var xv=(0,A2.createContext)({}),Hv=(0,A2.createContext)("portal"),xn=function(o){var l,c;function u(){var f;return(f=o.apply(this,arguments)||this).inProgressAnimations={},f.flipCallbacks={},f.el=void 0,f}c=o,(l=u).prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c;var v=u.prototype;return v.getSnapshotBeforeUpdate=function(f){return f.flipKey!==this.props.flipKey&&this.el?mn({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},v.componentDidUpdate=function(f,x,H){this.props.flipKey!==f.flipKey&&this.el&&Mn({flippedElementPositionsBeforeUpdate:H.flippedElementPositions,cachedOrderedFlipIds:H.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:f.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},v.render=function(){var f=this,x=this.props,H=x.portalKey,M=A2.default.createElement(xv.Provider,{value:this.flipCallbacks},A2.default.createElement(x.element,{className:x.className,ref:function(y){return f.el=y}},this.props.children));return H&&(M=A2.default.createElement(Hv.Provider,{value:H},M)),M},u}(A2.Component);xn.defaultProps={applyTransformOrigin:!0,element:"div"};var Vv=function(o){var l,c=o.children,u=o.flipId,v=o.inverseFlipId,f=o.portalKey,x=mv(o,["children","flipId","inverseFlipId","portalKey"]),H=c,M=function(R){return typeof R=="function"}(H);if(!M)try{H=A2.Children.only(c)}catch(R){throw new Error("Each Flipped component must wrap a single child")}x.scale||x.translate||x.opacity||pn.assign(x,{translate:!0,scale:!0,opacity:!0});var y=((l={})[Ba.DATA_FLIP_CONFIG]=JSON.stringify(x),l);return u!==void 0?y[Ba.DATA_FLIP_ID]=String(u):v&&(y[Ba.DATA_INVERSE_FLIP_ID]=String(v)),f!==void 0&&(y[Ba.DATA_PORTAL_KEY]=f),M?H(y):(0,A2.cloneElement)(H,y)},Hn=function(o){var l=o.children,c=o.flipId,u=o.shouldFlip,v=o.shouldInvert,f=o.onAppear,x=o.onStart,H=o.onStartImmediate,M=o.onComplete,y=o.onExit,R=o.onSpringUpdate,U=mv(o,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"]);return l?U.inverseFlipId?A2.default.createElement(Vv,Object.assign({},U),l):A2.default.createElement(Hv.Consumer,null,function(T){return A2.default.createElement(xv.Consumer,null,function(W){return pn.isObject(W)&&c&&(W[c]={shouldFlip:u,shouldInvert:v,onAppear:f,onStart:x,onStartImmediate:H,onComplete:M,onExit:y,onSpringUpdate:R}),A2.default.createElement(Vv,Object.assign({flipId:c},U,{portalKey:T}),l)})}):null};Hn.displayName="Flipped";function Vn(o){return b0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(o)}function wn(o){return b0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"}}]})(o)}function wv(o){return b0({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(o)}function Lv(o){return b0({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"}}]})(o)}var kv=class extends Bv.Component{constructor(l){super(l);this.state={active:-1,items:[]},this.move=this.move.bind(this),this.setStateFromProps=this.setStateFromProps.bind(this),this.toggleAccordion=this.toggleAccordion.bind(this),this.onOrder=this.onOrder.bind(this)}componentDidMount(){this.setStateFromProps()}componentDidUpdate(l){this.state.items!=l.items&&this.setStateFromProps()}resetState(l){switch(l){case"accordion":this.setState({active:-1});default:return}}move=(l,c)=>{let u=this.state.items;return u.splice(c,0,u.splice(l,1)[0]),u};setStateFromProps(){this.setState({items:this.props.items})}setPropsFromState(){this.props.onItemsOrderChanged(this.state.items)}toggleAccordion(l){if(this.state.active==l){this.setState({active:-1});return}this.setState({active:l})}onOrder(l,c){this.resetState("accordion");let u=[...this.state.items],v;l=="up"?v=c>0?c-1:u.length-1:l=="down"&&(v=c===u.length-1?0:c+1),this.setState({items:this.move(c,v)}),this.setPropsFromState()}render(){let{isEditor:l}=this.props,c=u=>l?"accordion-toggler":`accordion-toggler-${u}`;return React.createElement("div",{className:"nvn-accordion"},l?React.createElement(xn,{flipKey:this.state.items.map(u=>u.id).join("")},this.state.items.map((u,v)=>React.createElement(Hn,{key:u.id,flipId:u.id},React.createElement("div",{key:v,className:"nvn-accordion__single"},React.createElement("div",{className:`nvn-accordion__single-head ${this.state.active==v?"active":""}`,onClick:f=>{f.target.className=="nvn-accordion__title"&&this.toggleAccordion(v)},id:c(u.id),"aria-expanded":"false"},React.createElement("h3",{className:"nvn-accordion__title"},u.title),l?React.createElement("div",{className:"nvn-accordion__action"},React.createElement("button",{className:"up",onClick:()=>this.onOrder("up",v)},React.createElement(Lv,null)),React.createElement("button",{className:"down",onClick:()=>this.onOrder("down",v)},React.createElement(wv,null)),React.createElement("button",{className:"edit",onClick:()=>this.props.onEdit(u.id)},React.createElement(Ys,{color:"green"})),React.createElement("button",{className:"delete",onClick:()=>this.props.onDelete(u.id)},React.createElement(Xs,{color:"red"}))):React.createElement(React.Fragment,null,React.createElement("div",{className:"nvn-accordion__toggleIcon",tabIndex:"1","aria-controls":"accordion-panel"+u.id},React.createElement("div",{className:"plus"},React.createElement(Vn,{color:"#03a0b0"})),React.createElement("div",{className:"dash"},React.createElement(wn,{color:"#00636E"}))))),React.createElement("div",{id:"accordion-panel"+u.id,className:"nvn-accordion__content","aria-label":u.title,dangerouslySetInnerHTML:{__html:u.content}}))))):React.createElement(React.Fragment,null,this.props.items.map((u,v)=>React.createElement("div",{key:v,className:"nvn-accordion__single"},React.createElement("div",{className:`nvn-accordion__single-head ${this.state.active==v?"active":""}`,onClick:f=>{f.target.className=="nvn-accordion__title"&&this.toggleAccordion(v)},id:c(u.id),"aria-expanded":"false"},React.createElement("h3",{className:"nvn-accordion__title"},u.title),React.createElement("div",{className:"nvn-accordion__toggleIcon",tabIndex:"1","aria-controls":"accordion-panel"+u.id},React.createElement("div",{className:"plus"},React.createElement(Vn,{color:"#03a0b0"})),React.createElement("div",{className:"dash"},React.createElement(wn,{color:"#00636E"})))),React.createElement("div",{id:"accordion-panel"+u.id,className:"nvn-accordion__content","aria-label":u.title,dangerouslySetInnerHTML:{__html:u.content}})))))}},ye=kv;var Bg=Dt(zt()),kg=Dt(Lg()),jr=document.createElement("div");jr.setAttribute("id","nvn-portal");document.body.appendChild(jr);var Cg=class extends Bg.Component{constructor(l){super(l);this.el=document.createElement("div"),this.el.classList.add("nvn-modal"),this.props.active?this.el.classList.add("active"):this.el.classList.remove("active")}componentDidMount(){jr.appendChild(this.el)}componentWillUnmount(){jr.removeChild(this.el)}componentDidUpdate(){this.props.active?this.el.classList.add("active"):this.el.classList.remove("active")}render(){return kg.default.createPortal(this.props.children,this.el)}},Fo=Cg;function Ag(o){return b0({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"}}]})(o)}var Sg=Dt(bg()),Ig=Dt(yg()),{PlainText:ow}=wp.blockEditor,To=class extends _g.Component{constructor(){super(...arguments);this.resetState=this.resetState.bind(this),this.handleChangeInputTitle=this.handleChangeInputTitle.bind(this),this.handleChangeInputContent=this.handleChangeInputContent.bind(this),this.addNewItem=this.addNewItem.bind(this),this.deleteItem=this.deleteItem.bind(this),this.editItem=this.editItem.bind(this),this.handleEditItem=this.handleEditItem.bind(this),this.onItemsOrderChanged=this.onItemsOrderChanged.bind(this),this.state={newItem:{id:Number,title:String,content:String},editor:{status:"add",id:Number},portal:{modal:!1,delete:{open:!1,id:Number}}}}resetState(l){switch(l){case"all":this.setState({editor:{status:"add"},newItem:{id:Number,title:"",content:""},portal:{modal:!1,delete:{open:!1,id:Number}}});break;default:return}}handleChangeInputTitle(l){this.setState({newItem:{title:l,content:this.state.newItem.content}})}handleChangeInputContent(l){this.setState({newItem:{title:this.state.newItem.title,content:l}})}async addNewItem(){let l=[...this.props.attributes.items];await this.setState({newItem:{id:l.length+1,title:this.state.newItem.title,content:this.state.newItem.content}}),l.push(this.state.newItem),await this.props.setAttributes({items:l}),this.resetState("all")}deleteItem(l){this.setState({portal:{modal:!1,delete:{open:!0,id:l}}})}async editItem(l){let u=[...this.props.attributes.items].find(v=>v.id==l);this.state.editor.status!="edit"&&await this.setState({editor:{status:"edit",id:l}}),await this.setState({editor:{status:"edit",id:l}}),await this.setState({newItem:u}),this.setState({portal:{modal:!0,delete:{open:!1,id:Number}}})}async handleEditItem(l){let c=[...this.props.attributes.items],u=c.map(v=>v.id).indexOf(l);await this.setState({newItem:{id:l,title:this.state.newItem.title,content:this.state.newItem.content}}),c[u]=this.state.newItem,await this.props.setAttributes({items:c}),this.resetState("all")}onItemsOrderChanged(l){this.props.setAttributes({items:[...l]})}render(){let{newItem:l,editor:c}=this.state;return React.createElement(React.Fragment,null,React.createElement("div",{className:this.props.className},React.createElement("div",{className:"nvn-accordion__editor"},React.createElement("div",{className:"nvn-accordion__editor-head"},React.createElement("h3",null,"Accordion"),React.createElement("div",{className:"action"},React.createElement("button",{onClick:async()=>{await this.resetState("all"),this.setState({portal:{modal:!0,delete:{open:!1,id:Number}}})}},"Add",React.createElement(Ag,null)))),React.createElement(ye,{items:this.props.attributes.items,onDelete:u=>this.deleteItem(u),onEdit:u=>this.editItem(u),onItemsOrderChanged:this.onItemsOrderChanged,isEditor:!0}))),React.createElement(Fo,{active:this.state.portal.modal},React.createElement("div",{className:"nvn-modal__bg",onClick:()=>this.setState({portal:{modal:!1}})}),React.createElement("div",{className:"nvn-modal__content"},React.createElement("div",{className:"nvn-accordion__modal open"},React.createElement("h3",{className:"nvn-text-center"},this.state.editor.status=="add"?"Add":"Edit"," Item"),React.createElement("div",null,React.createElement("label",null,React.createElement("span",{className:"nvn-px-2 nvn-text-base nvn-font-medium nvn-mb-2"},"Title"),React.createElement(ow,{value:l.title,onChange:this.handleChangeInputTitle,placeholder:"Accordion title...",className:"nvn-accordion__modal-title"})),React.createElement("label",null,React.createElement("span",{className:"nvn-px-2 nvn-text-base nvn-font-medium nvn-mb-2"},"Content"),React.createElement(Sg.CKEditor,{editor:Ig.default,data:l.content,className:"nvn-rounded-l-md",config:{toolbar:["bold","italic","link","|","numberedList","bulletedList","|","undo","redo"],placeholder:"Accordion content..."},onChange:(u,v)=>{let f=v.getData();this.handleChangeInputContent(f)}}))),React.createElement("button",{className:"btn btn-black",type:"button",onClick:()=>c.status=="add"?this.addNewItem():this.handleEditItem(c.id)},c.status=="add"?"Add":"Update")))),React.createElement(Fo,{active:this.state.portal.delete?.open},React.createElement("div",{className:"nvn-modal__bg",onClick:()=>this.setState({portal:{modal:!1}})}),React.createElement("div",{className:"nvn-modal__content"},React.createElement("h3",null,[...this.props.attributes.items].find(u=>u.id==this.state.portal.delete?.id)?.title),React.createElement("h4",{className:""},"Are you sure want to delete this item?"),React.createElement("div",{className:"nvn-flex nvn-gap-2"},React.createElement("button",{className:"btn nvn-bg-red-500 hover:nvn-bg-red-600 nvn-text-white",onClick:async()=>{let u=[...this.props.attributes.items],v=u.map(f=>f.id).indexOf(this.state.portal.delete?.id);u.splice(v,1),await this.props.setAttributes({items:u}),this.resetState("all")}},"Sure, delete it!"),React.createElement("button",{className:"btn btn-black",onClick:()=>this.resetState("all")},"No, go back!")))))}},Og=To;function Ro(o){return React.createElement(ye,{items:o.attributes.items})}var{__:Wr}=wp.i18n,{registerBlockType:iw}=wp.blocks;iw("nvn/block-accordion",{title:Wr("Accordion - nvn Block"),icon:React.createElement(Qs,null),category:"common",attributes:{items:{type:"array",default:[]}},keywords:[Wr("Accordion - nvn Block"),Wr("nvn Block"),Wr("accordion")],edit:Og,save:Ro});console.log("iscall");})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
/*! @license Rematrix v0.2.2

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
